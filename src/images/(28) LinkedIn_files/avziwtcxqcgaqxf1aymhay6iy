define.alias("@glimmer/component/-private/ember-component-manager","msg-ui/component-managers/glimmer")
define("msg-ui/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{}e.default=n}))
define("msg-ui/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{}e.default=n}))
define("msg-ui/components/Conversation-error-state-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"wZfnQmUh",block:'[[[10,"article"],[14,0,"flex-1"],[12],[1,"\\n  "],[10,"section"],[14,0,"msg-overlay-conversation-error-state-presenter relative flex-grow-1"],[12],[1,"\\n    "],[8,[39,0],null,[["@actionText","@headline","@illustration","@mercadoSize","@message","@onButtonClick","@size"],[[28,[37,1],["i18n_try_again","msg-ui/components/Conversation-error-state-presenter"],null],[28,[37,1],["i18n_load_failed_headline","msg-ui/components/Conversation-error-state-presenter"],null],"error-crossing",2,[28,[37,1],["i18n_load_failed_message","msg-ui/components/Conversation-error-state-presenter"],null],[28,[37,2],[[30,1,["retryMethod"]],[30,1,["paramsForRetryMethod"]]],null],2]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["@bubble"],false,["artdeco-empty-state@artdeco-empty-state","t","fn"]]',moduleName:"msg-ui/components/Conversation-error-state-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define.alias("artdeco-button/components/artdeco-button","msg-ui/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","msg-ui/components/artdeco-calendar")
define.alias("artdeco-card/components/artdeco-card-image","msg-ui/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","msg-ui/components/artdeco-card")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","msg-ui/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","msg-ui/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","msg-ui/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","msg-ui/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","msg-ui/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","msg-ui/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","msg-ui/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","msg-ui/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","msg-ui/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","msg-ui/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","msg-ui/components/artdeco-empty-state")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","msg-ui/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","msg-ui/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-ui/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","msg-ui/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","msg-ui/components/artdeco-loader")
define.alias("artdeco-modal/components/container","msg-ui/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","msg-ui/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","msg-ui/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","msg-ui/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","msg-ui/components/artdeco-modal")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","msg-ui/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","msg-ui/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","msg-ui/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","msg-ui/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","msg-ui/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","msg-ui/components/artdeco-pill-toggle")
define.alias("artdeco-slider/components/artdeco-slider","msg-ui/components/artdeco-slider")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","msg-ui/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","msg-ui/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","msg-ui/components/artdeco-text-input")
define.alias("artdeco-toggle/components/artdeco-toggle","msg-ui/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","msg-ui/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","msg-ui/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","msg-ui/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","msg-ui/components/artdeco-typeahead")
define("msg-ui/components/away-message-reminder-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","ember","ember-lifeline","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,f,v,b,y,_,w,M
const D=(0,l.createTemplateFactory)({id:"L50Nbnye",block:'[[[41,[30,0,["msgDataManager","awayMessageSettings","length"]],[[[1,"  "],[8,[39,1],[[24,0,"msg-away-message-reminder-banner-presenter"],[4,[38,5],[[28,[37,6],[[30,0,["handleStartTime"]],[30,0,["msgDataManager","awayMessageSettings","firstObject","timeRange","start"]]],null]],null],[4,[38,7],[[28,[37,6],[[30,0,["handleStartTime"]],[30,0,["msgDataManager","awayMessageSettings","firstObject","timeRange","start"]]],null]],null]],[["@message","@linkText","@onClick"],[[52,[30,0,["isActive"]],[28,[37,2],["i18n_away_message_on","msg-ui/components/away-message-reminder-banner-presenter"],null],[28,[37,2],["i18n_away_message_scheduled","msg-ui/components/away-message-reminder-banner-presenter"],null]],[28,[37,2],["i18n_update","msg-ui/components/away-message-reminder-banner-presenter"],null],[28,[37,3],["away_message_update",[28,[37,4],[[30,0],"awayMessageSettingsModalIsOpen",true],null]],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["awayMessageSettingsModalIsOpen"]],[[[1,"  "],[8,[39,8],null,[["@closeModal"],[[28,[37,4],[[30,0],"awayMessageSettingsModalIsOpen",false],null]]],null],[1,"\\n"]],[]],null]],[],false,["if","artdeco-inline-feedback@artdeco-inline-feedback","t","ember-cli-pemberly-tracking@tracked-action","ember-set-helper@set","did-insert","fn","did-update","msg-shared-modals@away-message-settings-modal-presenter"]]',moduleName:"msg-ui/components/away-message-reminder-banner-presenter.hbs",isStrictMode:!1})
let k=(h=(0,u.inject)("date"),f=(0,u.inject)("msg-data@data-manager"),v=(M=new WeakMap,class extends p.default{constructor(){super(...arguments);(0,t.default)(this,"dateService",b,this);(0,t.default)(this,"msgDataManager",y,this);(0,t.default)(this,"currentTime",_,this);(0,t.default)(this,"isActive",w,this)
M.set(this,{writable:!0,value:null})}handleStartTime(e){if((0,i.default)(this,M)){(0,d.cancelTask)(this,(0,i.default)(this,M));(0,s.default)(this,M,null)}const t=e-this.dateService.now()
if(t>0){this.isActive=!1
c.default.testing||(0,s.default)(this,M,(0,d.runTask)(this,(()=>{this.isDestroying||(this.isActive=!0)}),t))}else this.isActive=!0}}),b=(0,r.default)(v.prototype,"dateService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,r.default)(v.prototype,"msgDataManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,r.default)(v.prototype,"currentTime",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(v.prototype,"isActive",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(v.prototype,"handleStartTime",[m.action],Object.getOwnPropertyDescriptor(v.prototype,"handleStartTime"),v.prototype),v)
e.default=k;(0,o.setComponentTemplate)(D,k)}))
define.alias("ember-semaphore/components/block-profile","msg-ui/components/block-profile")
define("msg-ui/components/blocked-conversation-footer-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"2Y8op4mS",block:'[[[11,0],[24,0,"msg-s-conversation-block-user p4 t-12 t-black--light t-normal"],[17,1],[12],[1,"\\n  "],[10,2],[14,0,"t-12 t-black t-normal"],[12],[1,"\\n    "],[1,[28,[35,0],["i18n_blocked_recipient","msg-ui/components/blocked-conversation-footer-presenter"],null]],[1,"\\n  "],[13],[1,"\\n"],[13]],["&attrs"],false,["t"]]',moduleName:"msg-ui/components/blocked-conversation-footer-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define.alias("ember-semaphore/components/cleared-content-modal-v2","msg-ui/components/cleared-content-modal-v2")
define.alias("ember-semaphore/components/cleared-content-modal","msg-ui/components/cleared-content-modal")
define("msg-ui/components/compose-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","rsvp","@glimmer/tracking","msg-ui/viewdata/compose-viewdata","msg-ui/viewdata/sdk-compose-viewdata"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h,f,v,b,y,_,w,M
const D=(0,a.createTemplateFactory)({id:"bgidorxB",block:'[[[1,"\\n"],[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@targetUrl"],[[30,2]]],null],[1,"\\n"]],[]],[[[1,"  "],[8,[39,2],null,[["@renderIf","@delay","@containerClass","@hideClass"],[[30,0,["showConnectionsTypeahead"]],132,"msg-connections-typeahead__typeahead-delay-remove-container","msg-connections-typeahead__animate-fade-out"]],[["default"],[[[[1,"\\n    "],[8,[39,3],[[24,0,"mbA"]],[["@trackingPrefix","@a11yText","@placeholder","@prefilledRecipients","@recipientsChanged","@openConversation","@composeToNonConnection","@setComposeContext","@includeCoworkerResults","@includeGroupConversationResults","@includeNonConnectionResults","@enableGroupMessageRequests","@showSuggestedRecipientTray","@recipientSuggestionEnabled","@hasForwardedContent","@searchResultContainerClass","@hasInitialFocus","@actionOnTypeaheadEnter"],[[52,[30,3],"overlay_",""],[28,[37,4],["i18n_new_compose_recipients_label","msg-ui/components/compose-feature"],null],[52,[30,4],[30,4],[28,[37,4],["i18n_type_name_or_multiple_names","msg-ui/components/compose-feature"],null]],[30,5],[30,0,["recipientsChanged"]],[30,6],[30,7],[30,8],true,true,true,true,[30,0,["showSuggestedRecipientTray"]],[30,9],[52,[30,10],true,false],[52,[30,11],"msg-connections-typeahead__search-results--jumbo-bubble-expanded","msg-connections-typeahead__search-results--expanded"],[28,[37,5],[[30,5,["length"]]],null],[30,0,["focusOnComposeForm"]]]],null],[1,"\\n  "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showNewConversationRename"]],[[[1,"    "],[10,0],[14,0,"msg-s-thread-actions-tray__item msg-s-thread-actions-tray__item--rename msg-s-thread-actions-tray__item--rename-is-for-new-conversation pv2 ph3"],[12],[1,"\\n      "],[10,"label"],[14,0,"mb1 mt0"],[15,"for",[28,[37,6],["msg-s-thread-actions-tray__rename-input-",[30,12]],null]],[12],[1,"\\n        "],[1,[28,[35,4],["i18n_group_name","msg-ui/components/compose-feature"],null]],[1,"\\n      "],[13],[1,"\\n      "],[8,[39,7],[[24,"maxlength","300"],[24,0,"msg-s-thread-actions-tray__rename-input t-20 t-black t-light"],[16,1,[28,[37,6],["msg-s-thread-actions-tray__rename-input-",[30,12]],null]],[16,"placeholder",[28,[37,4],["i18n_group_name_placeholder","msg-ui/components/compose-feature"],null]]],[["@type","@value"],["text",[30,13]]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"  "],[8,[39,8],null,[["@bubbleId","@bubble","@openConversation","@noConvoHistoryInNewConvo","@setNoConvoHistoryInNewConvo","@composeToNonConnection","@showRenameConversationForm","@toggleShowRenameConversation","@renamePageKey","@mutePageKey","@addParticipantsPageKey","@isOverlay","@handleSuccessfulDiscardRequest","@isOriginalSize","@quickRepliesUseCase","@messageActions","@composeViewContext","@forwardedEvent","@invitationUrn","@isOpenedFromMsgButton","@hasDraft","@setHasDraft","@hasPrefilledConversationName","@conversation","@messageRecipients","@messageContext","@isNew","@isInMailCompose","@msgAdapterOptions","@entryPointData","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@showOneToOneProfileCard","@subject","@update","@smpContent","@is1on1Compose","@isMessageRequestCompose","@didSubmitMessage","@dragAndDropTrackingKeys","@sendMessageControlName","@customTrackingObject","@conversationDetailModuleKey","@muteConversationControlName","@fileUploadControlName","@imageUploadControlName","@imagePasteControlName","@composeModuleKey","@actionTrackingPrefix","@contextByRecipients","@contextWidth","@conversationName","@inmailReplyDeepLink"],[[30,12],[30,14],[30,6],[30,0,["noConvoHistoryInNewConvo"]],[30,0,["setNoConvoHistoryInNewConvo"]],[30,7],[30,15],[30,16],[30,17],[30,18],[30,19],[30,3],[30,20],[30,21],[30,22],[30,23],[30,24],[30,10],[30,25],[30,26],[30,27],[30,28],[30,29],[30,30],[30,5],[30,31],[30,32],[30,33],[30,34],[30,35],[30,36],[30,37],[30,38],[30,0,["showOneToOneProfileCard"]],[30,39],[30,40],[30,41],[30,42],[30,0,["isMessageRequestCompose"]],[30,0,["didSubmitMessage"]],[30,43],[30,44],[30,45],[30,46],[30,47],[30,48],[30,49],[30,50],[30,51],[30,52],[30,53],[30,54],[30,13],[30,55]]],null],[1,"\\n"]],[]]]],["@showPremiumUpsell","@targetUrl","@isOverlay","@messageBarText","@messageRecipients","@openConversation","@composeToNonConnection","@setComposeContext","@recipientSuggestionEnabled","@forwardedEvent","@shouldShowExpandedTypeahead","@bubbleId","@conversationName","@bubble","@showRenameConversationForm","@toggleShowRenameConversation","@renamePageKey","@mutePageKey","@addParticipantsPageKey","@handleSuccessfulDiscardRequest","@isOriginalSize","@quickRepliesUseCase","@messageActions","@composeViewContext","@invitationUrn","@isOpenedFromMsgButton","@hasDraft","@setHasDraft","@hasPrefilledConversationName","@conversation","@messageContext","@isNew","@isInMailCompose","@msgAdapterOptions","@entryPointData","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@subject","@update","@smpContent","@is1on1Compose","@dragAndDropTrackingKeys","@sendMessageControlName","@customTrackingObject","@conversationDetailModuleKey","@muteConversationControlName","@fileUploadControlName","@imageUploadControlName","@imagePasteControlName","@composeModuleKey","@actionTrackingPrefix","@contextByRecipients","@contextWidth","@inmailReplyDeepLink"],false,["if","msg-ui@premium-upsell-presenter","msg-ui@delay-remove-from-dom","msg-typeahead@connections-typeahead-feature","t","global-helpers@not","concat","input","msg-ui@thread-feature"]]',moduleName:"msg-ui/components/compose-feature.hbs",isStrictMode:!1})
let k=(g=(0,c.inject)("jet"),h=(0,c.inject)("lix"),f=(0,c.inject)("msg-data@data-manager"),v=class extends o.default{get showNewConversationRename(){const{numOfRecipients:e,conversationId:t}=this.viewData
return this.args.isNew&&e>1&&!t}get showSuggestedRecipientTray(){return this.args.isNew&&this.hasEnoughRecipientsToTriggerSuggestionsTray}get hasEnoughRecipientsToTriggerSuggestionsTray(){const e=this.viewData.numOfRecipients??0
return!!(this.args.update&&e>=1)||e>1}get showConnectionsTypeahead(){return this.args.isNew&&!this.args.isInMailCompose&&!(this.isMessageRequestCompose&&this.args.isOpenedFromMsgButton)&&!this.args.is1on1Compose}get showOneToOneProfileCard(){return!this.args.isInMailCompose&&!this.loadingConvoHistory&&1===this.viewData.numOfRecipients}get isHighIntentMessagingCompose(){return(0,l.get)(this.args,"messageContext")&&"HIGH_INTENT"===(0,l.get)(this.args,"messageContext.composeOptionType")}get isMessageRequestCompose(){return!this.isHighIntentMessagingCompose&&((0,l.get)(this.args,"messageContext")&&"MESSAGE_REQUEST"===(0,l.get)(this.args,"messageContext.composeOptionType"))}constructor(){super(...arguments);(0,t.default)(this,"jet",b,this);(0,t.default)(this,"lix",y,this);(0,t.default)(this,"msgDataManager",_,this);(0,t.default)(this,"noConvoHistoryInNewConvo",w,this);(0,t.default)(this,"loadingConvoHistory",M,this)
this.args.hasPrefilledConversationName||!this.viewData.numOfRecipients||this.groupConversationName||this._setConvoHistoryWithRecipients(this.viewData.recipientUrns)}_setConvoHistoryWithRecipients(e){if(!e||!e.length){var t,n
this.noConvoHistoryInNewConvo=!1
null===(t=(n=this.args).onConversationRemoved)||void 0===t||t.call(n)
return d.default.reject()}this.loadingConvoHistory=!0
return this.msgDataManager.fetchLatestConversationByRecipients(e).then((e=>{if(!this.isDestroying)if(e&&(0,l.get)(e,"entityUrn")){var t,n
this.noConvoHistoryInNewConvo=!1
null===(t=(n=this.args).onConversationFetched)||void 0===t||t.call(n,e,(0,l.get)(e,"id"),this.args.isNew)
this.args.isInMailCompose&&this.jet.info(new Error("Loaded conversation history with InMail compose"),["convo-history_inmail-compose"],{shouldRethrow:!1})
this.args.invitationUrn&&this.jet.info(new Error("Loaded conversation history with invitation urn"),["convo-history_invitation"],{shouldRethrow:!1})}else{if(!this.msgDataManager.msgSDKEnabled){var s,i
null===(s=(i=this.args).onConversationRemoved)||void 0===s||s.call(i)}this.noConvoHistoryInNewConvo=!0}})).finally((()=>{this.loadingConvoHistory=!1}))}recipientsChanged(e,t){this.args.recipientsChanged(e,t)
const n=this.msgDataManager.msgSDKEnabled?"dashEntityUrn":"entityUrn"
this.args.hasPrefilledConversationName||this._setConvoHistoryWithRecipients(e.mapBy(n))}didSubmitMessage(e){var t,n
this.noConvoHistoryInNewConvo=!1
null===(t=(n=this.args).didSubmitMessage)||void 0===t||t.call(n,e)}focusOnComposeForm(){const{activeElement:e}=document
if(e.classList.contains("msg-connections-typeahead__search-field")){var t,n
null===(t=e.closest(".msg-convo-wrapper"))||void 0===t||null===(n=t.querySelector(".msg-form__contenteditable"))||void 0===n||n.focus()}}get viewData(){const{conversation:e,messageRecipients:t}=this.args
return this.msgDataManager.msgSDKEnabled?new p.default({conversation:e,messageRecipients:t}):new u.default({conversation:e&&(0,l.get)(e,"content"),messageRecipients:t})}},b=(0,s.default)(v.prototype,"jet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(v.prototype,"lix",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(v.prototype,"msgDataManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(v.prototype,"noConvoHistoryInNewConvo",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,s.default)(v.prototype,"loadingConvoHistory",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(v.prototype,"recipientsChanged",[l.action],Object.getOwnPropertyDescriptor(v.prototype,"recipientsChanged"),v.prototype),(0,s.default)(v.prototype,"didSubmitMessage",[l.action],Object.getOwnPropertyDescriptor(v.prototype,"didSubmitMessage"),v.prototype),(0,s.default)(v.prototype,"focusOnComposeForm",[l.action],Object.getOwnPropertyDescriptor(v.prototype,"focusOnComposeForm"),v.prototype),v)
e.default=k;(0,r.setComponentTemplate)(D,k)}))
define("msg-ui/components/conversation-entity-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"D5AWH4Ij",block:'[[[10,0],[12],[1,"\\n"],[41,[30,1],[[[41,[30,2,["hasPresenceInformation"]],[[[1,"      "],[8,[39,1],null,[["@viewData","@size"],[[30,2,["entityWithPresenceViewData"]],[30,3]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,2],[[16,0,[30,4]]],[["@viewData","@entitySize","@iconSize"],[[30,2,["facepileViewData"]],[30,3],[30,5]]],null],[1,"\\n"]],[]]]],[]],null],[13]],["@hasParticipants","@viewData","@entitySize","@classNames","@iconSize"],false,["if","presence@entity-with-presence-presenter","msg-facepile-grid@facepile-presenter"]]',moduleName:"msg-ui/components/conversation-entity-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/conversation-list-item-viewdata-i18n",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"kxuZTdwm",block:"[[],[],false,[]]",moduleName:"msg-ui/components/conversation-list-item-viewdata-i18n.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/conversation-loading-state-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"qvs4vppc",block:'[[[10,"article"],[14,0,"msg-overlay-conversation-loading-state-presenter flex-1"],[12],[1,"\\n  "],[10,"section"],[14,0,"msg-overlay-conversation-loading-state-presenter__loader"],[12],[1,"\\n    "],[8,[39,0],null,[["@size"],["small"]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["artdeco-loader@artdeco-loader"]]',moduleName:"msg-ui/components/conversation-loading-state-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/conversation-preview-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","urn-utils","voyager-web/config/environment","msg-shared/utils/user-visible-exception-helper","global-helpers/helpers/load","msg-ui/viewdata/conversation-preview-viewdata"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,v,b,y,_,w,M,D,k,C,S,P,x,T,I,E,A,O,R,U,N,j,F,L
const z=(0,a.createTemplateFactory)({id:"DJnGyviu",block:'[[[10,"article"],[14,0,"msg-overlay-conversation-preview display-flex flex-column flex-1"],[12],[1,"\\n"],[41,[30,0,["conversationPreviewLoadState","isLoading"]],[[[1,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__loader"],[12],[1,"\\n      "],[8,[39,1],[[24,0,"center-both"]],null,null],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isVoyagerApiUserVisibleError"]],[[[1,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__section relative flex-grow-1"],[12],[1,"\\n      "],[10,0],[14,0,"msg-overlay-conversation-preview__user-visible-error"],[12],[1,"\\n        "],[10,0],[14,0,"msg-overlay-conversation-preview__user-visible-error-illustration"],[12],[13],[1,"\\n        "],[10,2],[14,0,"msg-overlay-conversation-preview__user-visible-error-text"],[12],[1,"\\n          "],[1,[30,0,["localizedErrorMessageFromApi"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isNotJoinableError"]],[[[1,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__section relative flex-grow-1"],[12],[1,"\\n      "],[8,[39,2],[[24,0,"msg-overlay-conversation-preview__error-state"]],[["@headline","@illustration","@message","@size"],[[28,[37,3],["i18n_error_not_joinable_headline","msg-ui/components/conversation-preview-presenter"],null],"missing-piece",[28,[37,3],["i18n_error_not_joinable_message","msg-ui/components/conversation-preview-presenter"],null],2]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isRetrievalError"]],[[[1,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__section relative flex-grow-1"],[12],[1,"\\n      "],[8,[39,2],[[24,0,"msg-overlay-conversation-preview__error-state"]],[["@headline","@illustration","@message","@size"],[[28,[37,3],["i18n_error_preview_failed_headline","msg-ui/components/conversation-preview-presenter"],null],"sad-browser",[28,[37,3],["i18n_error_preview_failed_message","msg-ui/components/conversation-preview-presenter"],null],2]],null],[1,"\\n      "],[11,"button"],[24,0,"artdeco-button artdeco-button--secondary artdeco-button--2 block mt2 mhA"],[24,4,"button"],[4,[38,4],["click",[30,0,["retryPreview"]]],null],[12],[1,"\\n        "],[1,[28,[35,3],["i18n_error_preview_retry_message","msg-ui/components/conversation-preview-presenter"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[10,0],[14,0,"display-flex flex-column flex-grow-1 relative"],[12],[1,"\\n      "],[10,"section"],[14,0,"msg-overlay-conversation-preview__header-box flex-grow-zero text-align-center p4"],[12],[1,"\\n        "],[10,"h3"],[14,0,"t-18 t-bold mb2"],[12],[1,[30,0,["preview","title"]]],[13],[1,"\\n        "],[10,"h4"],[14,0,"t-12 t-black--light"],[12],[1,[30,0,["preview","subtitle"]]],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,"h3"],[14,0,"t-14 t-black mt4 mb2 ml3"],[12],[1,[28,[35,3],["i18n_people_header","msg-ui/components/conversation-preview-presenter"],null]],[13],[1,"\\n      "],[10,"section"],[14,0,"msg-overlay-conversation-preview__participants-section relative flex-grow-1"],[12],[1,"\\n        "],[10,0],[14,0,"msg-overlay-conversation-preview__participants-box scrollable"],[12],[1,"\\n          "],[10,"ul"],[14,0,"msg-overlay-conversation-preview__participant-list pl3"],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,0,["preview","participants"]]],null]],null],null,[[[1,"              "],[10,"li"],[14,0,"msg-overlay-conversation-preview__participant-card display-flex"],[12],[1,"\\n"],[1,"                "],[8,[39,7],[[24,0,"mr2 pv2 flex-shrink-zero"],[4,[38,8],["overlay.ltj_preview_click_profile"],null]],[["@href"],[[30,1,["participantProfileUrl"]]]],[["default"],[[[[1,"\\n                  "],[8,[39,9],null,[["@imageClasses","@viewData","@size"],["overlay-conversation-preview__participant-img",[30,1,["entityWithPresenceViewData"]],3]],null],[1,"\\n                "]],[]]]]],[1,"\\n\\n"],[1,"                "],[10,0],[14,0,"msg-overlay-conversation-preview__participant-name-headline flex-grow-1 overflow-hidden pv2 pr3"],[12],[1,"\\n                  "],[8,[39,7],[[4,[38,8],["overlay.ltj_preview_click_profile"],null]],[["@href"],[[30,1,["participantProfileUrl"]]]],[["default"],[[[[1,"\\n                    "],[10,1],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n                      "],[1,[28,[35,3],["i18n_participant_fullname","msg-ui/components/conversation-preview-presenter"],[["participant"],[[30,1,["name"]]]]]],[1,"\\n                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                  "],[10,1],[14,0,"t-12 t-black--light pl1"],[12],[1,"\\n                    "],[1,[28,[35,3],["i18n_participant_distance","msg-ui/components/conversation-preview-presenter"],[["distance"],[[30,1,["distance"]]]]]],[1,"\\n                  "],[13],[1,"\\n                  "],[10,2],[14,0,"t-14 t-black--light t-normal overflow-hidden truncate"],[12],[1,"\\n                    "],[1,[30,1,["occupation"]]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n"]],[1]],null],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"],[41,[30,0,["conversationPreviewLoadState","isLoading"]],[[[1,"        "],[10,"section"],[14,0,"msg-overlay-conversation-preview__loader msg-overlay-conversation-preview__loader-with-mask"],[12],[1,"\\n          "],[8,[39,1],[[24,0,"center-both"]],null,null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n    "],[10,"footer"],[14,0,"msg-overlay-conversation-preview__footer flex-grow-zero"],[12],[1,"\\n"],[41,[30,0,["voyagerApiNotJoinableReason"]],[[[1,"        "],[10,0],[14,0,"msg-overlay-conversation-preview__not-joinable-display"],[12],[1,"\\n          "],[8,[39,10],null,[["@type","@message"],["note",[30,0,["voyagerApiNotJoinableReason"]]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[10,0],[14,0,"pv3 ph4"],[12],[1,"\\n        "],[11,"button"],[24,0,"artdeco-button artdeco-button--primary artdeco-button--3 full-width"],[16,"disabled",[30,0,["isJoinButtonDisabled"]]],[24,4,"button"],[4,[38,4],["click",[30,0,["onJoin"]]],null],[4,[38,8],["overlay.ltj_preview_join_groupchat"],null],[12],[1,"\\n          "],[1,[28,[35,3],["i18n_join_group_chat","msg-ui/components/conversation-preview-presenter"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]],[]]]],[]]]],[]]],[13]],["participant"],false,["if","artdeco-loader@artdeco-loader","artdeco-empty-state@artdeco-empty-state","t","on","each","-track-array","ember-cli-pemberly-tracking@shared/external-link","ember-cli-pemberly-tracking@track-interaction","presence@entity-with-presence-presenter","artdeco-inline-feedback@artdeco-inline-feedback"]]',moduleName:"msg-ui/components/conversation-preview-presenter.hbs",isStrictMode:!1})
let B=(f=(0,d.inject)("store"),v=(0,d.inject)("i18n"),b=(0,d.inject)("jet"),y=(0,d.inject)("client-sensor-web@client-sensor"),_=(0,d.inject)("msg-data@data-manager"),w=(0,d.inject)("persistent-toast-manager@persistent-toast-manager"),M=(0,d.inject)("formatter"),D=(0,d.inject)("router"),k=class extends o.default{get isJoinButtonDisabled(){var e
return this.voyagerApiNotJoinableReason||(null===(e=this.conversationJoinLoadState)||void 0===e?void 0:e.isLoading)}constructor(){super(...arguments);(0,t.default)(this,"conversationPreviewLoadState",C,this);(0,t.default)(this,"conversationJoinLoadState",S,this);(0,t.default)(this,"isVoyagerApiUserVisibleError",P,this);(0,t.default)(this,"isRetrievalError",x,this);(0,t.default)(this,"isNotJoinableError",T,this);(0,t.default)(this,"voyagerApiNotJoinableReason",I,this);(0,t.default)(this,"localizedErrorMessageFromApi",E,this);(0,n.default)(this,"conversationPreviewURL","/messaging/conversationAccessCodePreviews?q=accessCode&accessCode=");(0,n.default)(this,"conversationJoinURL","/messaging/conversations?action=addViewerThroughAccessCode");(0,t.default)(this,"store",A,this);(0,t.default)(this,"i18n",O,this);(0,t.default)(this,"jet",R,this);(0,t.default)(this,"clientSensor",U,this);(0,t.default)(this,"msgDataManager",N,this);(0,t.default)(this,"persistentToastManager",j,this);(0,t.default)(this,"formatter",F,this);(0,t.default)(this,"router",L,this)
this.conversationPreviewLoadState=this._getConversationPreviewData(this.args.bubble.previewKey)}_showConversation(e){return this.msgDataManager.fetchConversation(e).then((t=>{if(!this.isDestroying){this.msgDataManager.msgSDKEnabled?this.msgDataManager.setConversationAsActive(t):this.msgDataManager.initEventCollection({name:e,conversationId:e}).fetchAndLoad();(0,c.setProperties)(this.args.bubble,{conversation:t,isConversationPreview:!1,isNew:!1})
this.args.onConversationUpdate((0,c.get)(t,"entityUrn"))}}))}_getConversationPreviewData(e){return(0,g.load)(this.store.queryURL(`/${u.default.namespace}${this.conversationPreviewURL}${e}`,{reload:!0,method:"GET"}).then((e=>{if(!this.isDestroying){const t=(0,c.get)(e,"elements.firstObject")
if(t){const e=new h.default({conversationPreview:t,formatter:this.formatter,router:this.router}),{conversationId:n,title:s,subtitle:i,participants:r,conversationJoinable:a,voyagerApiNotJoinableReason:o}=e
if(n)return this._showConversation(n)
this.preview={title:s,subtitle:i,participants:r}
a||(this.voyagerApiNotJoinableReason=o)}else this.isRetrievalError=!0}})).catch((t=>{if(!this.isDestroying){this.localizedErrorMessageFromApi=(0,p.default)(t)
if(this.localizedErrorMessageFromApi){this.isVoyagerApiUserVisibleError=!0
this.jet.error(new Error("Failed to load messenger group chat preview"),[this.localizedErrorMessageFromApi,e])}else{const n=(0,c.get)(t,"errors.firstObject.status")
if(n){404===parseInt(n,10)?this.isNotJoinableError=!0:this.isRetrievalError=!0
this.jet.error(new Error("Failed to load messenger group chat preview"),[n,e])}else this.isRetrievalError=!0}}throw t})))}retryPreview(){if(this.args.bubble.previewKey){this.isVoyagerApiUserVisibleError=!1
this.isNotJoinableError=!1
this.isRetrievalError=!1
this.conversationPreviewLoadState=this._getConversationPreviewData(this.args.bubble.previewKey)}}onJoin(){this.conversationJoinLoadState=(0,g.load)(this.store.adapterFor("-ember-m3").ajax(`/${u.default.namespace}${this.conversationJoinURL}`,"POST",{data:{accessCode:this.args.bubble.previewKey}}).then((e=>{this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"link-to-join-conversation-success"})
const t=(0,m.extractEntityInfoFromUrn)((0,c.get)(e,"data.value")).id
this._showConversation(t)})).catch((e=>{this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"link-to-join-conversation-failure"})
if(!this.isDestroying){const t=(0,p.default)(e)
if(t){this.persistentToastManager.error({message:t})
this.jet.error(new Error("Failed to join group chat"),[t,this.args.bubble.previewKey])}else{const t=(0,c.get)(e,"errors.firstObject.status"),n=this.i18n.lookupTranslation("components/msg-ui@conversation-preview-presenter","i18n_join_failed_message")()
if(t){this.persistentToastManager.error({message:n})
this.jet.error(new Error("Failed to join group chat"),[n,this.args.bubble.previewKey])}else this.persistentToastManager.error({message:n})}}throw e})))}},C=(0,s.default)(k.prototype,"conversationPreviewLoadState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(k.prototype,"conversationJoinLoadState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(k.prototype,"isVoyagerApiUserVisibleError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,s.default)(k.prototype,"isRetrievalError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=(0,s.default)(k.prototype,"isNotJoinableError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,s.default)(k.prototype,"voyagerApiNotJoinableReason",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(k.prototype,"localizedErrorMessageFromApi",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,s.default)(k.prototype,"store",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(k.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,s.default)(k.prototype,"jet",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,s.default)(k.prototype,"clientSensor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,s.default)(k.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,s.default)(k.prototype,"persistentToastManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,s.default)(k.prototype,"formatter",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,s.default)(k.prototype,"router",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(k.prototype,"retryPreview",[c.action],Object.getOwnPropertyDescriptor(k.prototype,"retryPreview"),k.prototype),(0,s.default)(k.prototype,"onJoin",[c.action],Object.getOwnPropertyDescriptor(k.prototype,"onJoin"),k.prototype),k)
e.default=B;(0,r.setComponentTemplate)(z,B)}))
define.alias("ember-vector-images/components/custom-image","msg-ui/components/custom-image")
define("msg-ui/components/declined-message-request-footer-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@glimmer/tracking"],(function(e,t,n,s,i,r,a,o,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,m
const u=(0,a.createTemplateFactory)({id:"BWmmU9YI",block:'[[[11,0],[24,0,"msg-declined-message-request-accept-banner"],[17,1],[12],[1,"\\n  "],[10,0],[14,0,"msg-declined-message-request-accept-banner__description t-12 t-black--light t-normal"],[12],[1,"\\n    "],[1,[28,[35,0],["i18n_declined_message_request_description_v2","msg-ui/components/declined-message-request-footer-presenter"],[["senderName"],[[30,2]]]]],[1,"\\n  "],[13],[1,"\\n  "],[8,[39,1],[[16,"aria-label",[28,[37,0],["i18n_a11y_accept","msg-ui/components/declined-message-request-footer-presenter"],[["senderName"],[[30,2]]]]]],[["@text","@size","@type","@class","@click","@disabled"],[[28,[37,0],["i18n_accept","msg-ui/components/declined-message-request-footer-presenter"],null],3,"secondary","full-width",[30,0,["acceptDeclinedMessageRequest"]],[30,0,["isReplyPending"]]]],[["default"],[[[[1,"\\n    "],[1,[28,[35,0],["i18n_accept","msg-ui/components/declined-message-request-footer-presenter"],null]],[1,"\\n  "]],[]]]]],[1,"\\n"],[13]],["&attrs","@senderName"],false,["t","artdeco-button@artdeco-button"]]',moduleName:"msg-ui/components/declined-message-request-footer-presenter.hbs",isStrictMode:!1})
let p=(d=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"isReplyPending",m,this)}acceptDeclinedMessageRequest(){this.isReplyPending=!0
this.args.acceptMessageRequest().finally((()=>{this.isDestroying||(this.isReplyPending=!1)}))}},m=(0,s.default)(d.prototype,"isReplyPending",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(d.prototype,"acceptDeclinedMessageRequest",[l.action],Object.getOwnPropertyDescriptor(d.prototype,"acceptDeclinedMessageRequest"),d.prototype),d)
e.default=p;(0,r.setComponentTemplate)(u,p)}))
define("msg-ui/components/delay-remove-from-dom",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@glimmer/tracking","@ember/runloop"],(function(e,t,n,s,i,r,a,o,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,u
const p=(0,a.createTemplateFactory)({id:"amuepCco",block:'[[[11,0],[16,0,[29,[[52,[30,0,["shouldRender"]],[30,1]]]]],[4,[38,1],[[30,0,["onUpdate"]],[30,2]],null],[4,[38,2],[[30,0,["onUpdate"]]],null],[12],[1,"\\n"],[41,[30,0,["shouldRender"]],[[[1,"    "],[10,0],[15,0,[29,[[30,1]," ",[52,[30,2],"",[30,3]]]]],[12],[1,"\\n      "],[18,4,null],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13]],["@containerClass","@renderIf","@hideClass","&default"],false,["if","did-update","did-insert","yield"]]',moduleName:"msg-ui/components/delay-remove-from-dom.hbs",isStrictMode:!1})
let g=(m=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"shouldRender",u,this)}onUpdate(){this.args.renderIf?this.shouldRender=!0:(0,d.later)((()=>{this.shouldRender=!1}),this.args.delay)}},u=(0,s.default)(m.prototype,"shouldRender",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(m.prototype,"onUpdate",[l.action],Object.getOwnPropertyDescriptor(m.prototype,"onUpdate"),m.prototype),m)
e.default=g;(0,r.setComponentTemplate)(p,g)}))
define.alias("ember-semaphore/components/ember-semaphore","msg-ui/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","msg-ui/components/ember-wormhole")
define("msg-ui/components/focused-inbox-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","@glimmer/tracking","msg-shared/utils/constants"],(function(e,t,n,s,i,r,a,o,l,c,d,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,v,b
const y=(0,a.createTemplateFactory)({id:"hZEYzgJn",block:'[[[41,[30,0,["showBanner"]],[[[41,[30,0,["showFeedbackBanner"]],[[[1,"    "],[8,[39,1],null,[["@legoTrackingToken"],[[30,0,["legoTrackingToken"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showOnboardingBanner"]],[[[1,"    "],[8,[39,2],null,[["@legoTrackingToken"],[[30,0,["legoTrackingToken"]]]],null],[1,"\\n  "]],[]],null]],[]]]],[]],null]],[],false,["if","msg-ui@focused-inbox-feedback-banner-presenter","msg-ui@focused-inbox-onboarding-presenter"]]',moduleName:"msg-ui/components/focused-inbox-banner-presenter.hbs",isStrictMode:!1}),{FOCUSED_INBOX_ONBOARDING_LEGO:_,FOCUSED_INBOX_FEEDBACK_BANNER_LEGO:w}=m.default
let M=(u=(0,c.inject)("lego@resolver"),p=(0,c.inject)("lego@tracking"),g=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"legoResolver",h,this);(0,t.default)(this,"legoTracking",f,this);(0,t.default)(this,"showBanner",v,this);(0,t.default)(this,"legoTrackingToken",b,this)
this._fetchLegoWidget(w).then((()=>{this.showFeedbackBanner||this._fetchLegoWidget(_)}))}_fetchLegoWidget(e){return this.legoResolver.fireLegoCall(e).then((t=>{if(!this.isDestroying){if(t){this.legoTrackingToken=(0,l.get)(t,"trackingToken")
if(this.legoTrackingToken){this.showBanner=!0
e===w?this.showFeedbackBanner=!0:e===_&&(this.showOnboardingBanner=!0)}}return t}}))}dismiss(){this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS)
this.showBanner=!1}},h=(0,s.default)(g.prototype,"legoResolver",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(g.prototype,"legoTracking",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(g.prototype,"showBanner",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=(0,s.default)(g.prototype,"legoTrackingToken",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,s.default)(g.prototype,"dismiss",[l.action],Object.getOwnPropertyDescriptor(g.prototype,"dismiss"),g.prototype),g)
e.default=M;(0,r.setComponentTemplate)(y,M)}))
define("msg-ui/components/focused-inbox-feedback-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@glimmer/tracking","@ember/object"],(function(e,t,n,s,i,r,a,o,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,u,p,g,h,f,v
const b=(0,a.createTemplateFactory)({id:"GwqrwJS9",block:'[[[41,[30,0,["showBanner"]],[[[1,"  "],[10,0],[14,0,"msg-focused-inbox-feedback-banner"],[12],[1,"\\n    "],[10,0],[14,0,"msg-focused-inbox-feedback-banner__icon"],[12],[13],[1,"\\n    "],[10,0],[14,0,"msg-focused-inbox-feedback-banner__text-container"],[12],[1,"\\n      "],[10,0],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n        "],[1,[28,[35,1],["i18n_focused_inbox_feedback_banner_title","msg-ui/components/focused-inbox-feedback-banner-presenter"],null]],[1,"\\n      "],[13],[1,"\\n"],[1,"      "],[11,0],[24,0,"t-12"],[4,[38,2],["click",[30,0,["dismiss"]]],null],[12],[1,"\\n        "],[1,[28,[35,1],["i18n_focused_inbox_feedback_banner_content","msg-ui/components/focused-inbox-feedback-banner-presenter"],[["surveyLink"],[[28,[37,3],null,[["data-test-msg-ui-focused-inbox-feedback-banner-presenter__survey-link","target","href","rel"],["true","_blank",[30,0,["surveyLink"]],"noopener noreferrer"]]]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"msg-focused-inbox-feedback-banner__dismiss-button-container"],[12],[1,"\\n      "],[8,[39,4],[[16,"aria-label",[28,[37,1],["i18n_a11y_dismiss_banner","msg-ui/components/focused-inbox-feedback-banner-presenter"],null]]],[["@click","@color","@icon","@type","@circle","@size"],[[30,0,["dismiss"]],"muted","close","tertiary","true",1]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],false,["if","t","on","hash","artdeco-button@artdeco-button"]]',moduleName:"msg-ui/components/focused-inbox-feedback-banner-presenter.hbs",isStrictMode:!1}),y=["au","mpc","hvmu"]
let _=(m=(0,l.inject)("lego@resolver"),u=(0,l.inject)("lego@tracking"),p=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"legoResolver",g,this);(0,t.default)(this,"legoTracking",h,this);(0,t.default)(this,"showBanner",f,this);(0,t.default)(this,"surveyLink",v,this)
this._showWidget()}_showWidget(){const{legoTrackingToken:e}=this.args
if(e){this.showBanner=!0
y.forEach((e=>{null===this.surveyLink&&this._setSurveyLink(e)}))
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}}dismiss(){const{legoTrackingToken:e}=this.args
this.legoTracking.sendLegoAction(e,this.legoTracking.LEGO_ACTION_DISMISS)
this.showBanner=!1}_setSurveyLink(e){const t=this._getLegoConfig(e)
return this.legoResolver.fireLegoCall(t).then((t=>{if(!this.isDestroying&&t){this.legoTrackingToken=(0,d.get)(t,"trackingToken")
this.legoTrackingToken&&(this.surveyLink=this._getSurveyLink(e))}}))}_getSurveyLink(e){switch(e){case"au":default:return"https://linkedin.focusvision.com/survey/selfserve/bb5/22rops646?folioKey=646&mt=1"
case"mpc":return"https://linkedin.focusvision.com/survey/selfserve/bb5/22rops646?folioKey=646&mt=2"
case"hvmu":return"https://linkedin.focusvision.com/survey/selfserve/bb5/22rops646?folioKey=646&mt=3"}}_getLegoConfig(e){return Object.freeze({pageKey:"message_inbox",slotId:"focused_inbox_feedback_banner",groupId:`${e}`,widgetId:`messaging:focused-inbox-feedback-banner-${e}`})}},g=(0,s.default)(p.prototype,"legoResolver",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"legoTracking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(p.prototype,"showBanner",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=(0,s.default)(p.prototype,"surveyLink",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,s.default)(p.prototype,"dismiss",[d.action],Object.getOwnPropertyDescriptor(p.prototype,"dismiss"),p.prototype),p)
e.default=_;(0,r.setComponentTemplate)(b,_)}))
define("msg-ui/components/focused-inbox-onboarding-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","@glimmer/tracking"],(function(e,t,n,s,i,r,a,o,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,u,p,g,h,f
const v=(0,a.createTemplateFactory)({id:"vEIWhY5s",block:'[[[41,[30,0,["showBanner"]],[[[1,"  "],[10,0],[14,0,"msg-focused-inbox-onboarding-widget__banner"],[12],[1,"\\n    "],[10,0],[14,0,"msg-focused-inbox-onboarding-widget__icon"],[12],[13],[1,"\\n    "],[10,0],[14,0,"msg-focused-inbox-onboarding-widget__text-container"],[12],[1,"\\n      "],[10,0],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n"],[41,[30,0,["showPremiumMemberCopy"]],[[[1,"          "],[1,[28,[35,1],["i18n_focused_inbox_early_access_title_premium","msg-ui/components/focused-inbox-onboarding-presenter"],null]],[1,"\\n"]],[]],[[[1,"          "],[1,[28,[35,1],["i18n_focused_inbox_early_access_title","msg-ui/components/focused-inbox-onboarding-presenter"],null]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n      "],[10,0],[14,0,"t-12"],[12],[1,"\\n"],[41,[30,0,["showPremiumMemberCopy"]],[[[1,"          "],[1,[28,[35,1],["i18n_focused_inbox_early_access_content_premium","msg-ui/components/focused-inbox-onboarding-presenter"],null]],[1,"\\n"]],[]],[[[1,"          "],[1,[28,[35,1],["i18n_focused_inbox_early_access_content","msg-ui/components/focused-inbox-onboarding-presenter"],null]],[1,"\\n"]],[]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"msg-focused-inbox-onboarding-widget__dismiss-button-container"],[12],[1,"\\n      "],[8,[39,2],[[16,"aria-label",[28,[37,1],["i18n_a11y_dismiss_banner","msg-ui/components/focused-inbox-onboarding-presenter"],null]]],[["@click","@color","@icon","@type","@circle","@size"],[[30,0,["dismiss"]],"muted","close","tertiary","true",1]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],false,["if","t","artdeco-button@artdeco-button"]]',moduleName:"msg-ui/components/focused-inbox-onboarding-presenter.hbs",isStrictMode:!1})
let b=(m=(0,c.inject)("authentication@authenticated-user"),u=(0,c.inject)("lego@tracking"),p=class extends o.default{get showPremiumMemberCopy(){return this.authenticatedUser.isPremiumUser}constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",g,this);(0,t.default)(this,"legoTracking",h,this);(0,t.default)(this,"showBanner",f,this)
this._showWidget()}_showWidget(){const{legoTrackingToken:e}=this.args
if(e){this.showBanner=!0
this.legoTracking.sendLegoImpression(e,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}}dismiss(){const{legoTrackingToken:e}=this.args
this.legoTracking.sendLegoAction(e,this.legoTracking.LEGO_ACTION_DISMISS)
this.showBanner=!1}},g=(0,s.default)(p.prototype,"authenticatedUser",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"legoTracking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(p.prototype,"showBanner",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(p.prototype,"dismiss",[l.action],Object.getOwnPropertyDescriptor(p.prototype,"dismiss"),p.prototype),p)
e.default=b;(0,r.setComponentTemplate)(v,b)}))
define("msg-ui/components/focused-inbox-secondary-preview-banner-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@glimmer/tracking","@ember/object"],(function(e,t,n,s,i,r,a,o,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,u,p,g
const h=(0,a.createTemplateFactory)({id:"Y+68XuAB",block:'[[[41,[30,0,["showBanner"]],[[[1,"  "],[10,0],[15,0,[28,[37,1],["msg-ui-focused-inbox-secondary-preview-banner-presenter__container ",[30,1]],null]],[12],[1,"\\n    "],[11,0],[24,"role","button"],[24,0,"msg-ui-focused-inbox-secondary-preview-banner-presenter__content"],[4,[38,2],["click",[30,2]],null],[4,[38,3],["secondary_preview_banner_click"],null],[12],[1,"\\n"],[41,[30,0,["images"]],[[[1,"        "],[8,[39,4],null,[["@image","@entitySize","@isStackedLayout","@maxEntities"],[[30,0,["images"]],1,true,3]],null],[1,"\\n"]],[]],null],[1,"      "],[10,0],[14,0,"msg-ui-focused-inbox-secondary-preview-banner-presenter__text-container"],[12],[1,"\\n        "],[10,0],[12],[1,"\\n          "],[1,[28,[35,5],[[30,0,["title"]]],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"display-flex align-item-center"],[12],[1,"\\n      "],[8,[39,6],[[24,0,"msg-ui-focused-inbox-secondary-preview-banner-presenter__dismiss-button"],[16,"aria-label",[28,[37,7],["i18n_a11y_dismiss_banner","msg-ui/components/focused-inbox-secondary-preview-banner-presenter"],null]],[4,[38,3],[[52,[30,3],"overlay.dismiss_preview_banner","dismiss_preview_banner"]],null]],[["@click","@color","@icon","@type","@circle","@size"],[[30,0,["dismiss"]],"muted","close","tertiary","true",1]],null],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],["@classNames","@onClicked","@isOverlay"],false,["if","concat","on","ember-cli-pemberly-tracking@track-interaction","image-view-model@entity-pile","text-view-model@text-view-model","artdeco-button@artdeco-button","t"]]',moduleName:"msg-ui/components/focused-inbox-secondary-preview-banner-presenter.hbs",isStrictMode:!1})
let f=(m=(0,l.inject)("msg-data@data-manager"),u=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",p,this);(0,t.default)(this,"isDismissed",g,this)}get showBanner(){return null!==this.bannerData&&!this.isDismissed}get bannerData(){return this.msgDataManager.inboxManager.secondaryPreviewBannerData}get title(){return this.bannerData?(0,d.get)(this.bannerData,"title"):null}get images(){return this.bannerData?(0,d.get)(this.bannerData,"profileImages"):null}get imageCount(){return this.images?(0,d.get)(this.images,"length"):0}dismiss(){this.isDismissed=!0}},p=(0,s.default)(u.prototype,"msgDataManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,s.default)(u.prototype,"isDismissed",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(u.prototype,"dismiss",[d.action],Object.getOwnPropertyDescriptor(u.prototype,"dismiss"),u.prototype),u)
e.default=f;(0,r.setComponentTemplate)(h,f)}))
define("msg-ui/components/focused-inbox-tabs-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"zCSXpxz2",block:'[[[8,[39,0],[[24,0,"msg-focused-inbox-tabs"]],[["@selection","@align"],[[30,1],"centered"]],[["default"],[[[[1,"\\n  "],[8,[30,2,["tablist"]],null,null,[["default"],[[[[1,"\\n    "],[8,[30,3,["tab"]],[[4,[38,1],[[52,[30,5],"overlay.click_primary_tab","click_primary_tab"]],null]],[["@model","@on-select"],["PRIMARY",[30,4]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,3],["i18n_inbox_tab_focused","msg-ui/components/focused-inbox-tabs-presenter"],null]],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[30,3,["tab"]],[[4,[38,1],[[52,[30,5],"overlay.click_secondary_tab","click_secondary_tab"]],null]],[["@model","@on-select"],["SECONDARY",[30,6]]],[["default"],[[[[1,"\\n      "],[1,[28,[35,3],["i18n_inbox_tab_other","msg-ui/components/focused-inbox-tabs-presenter"],null]],[1,"\\n"],[41,[30,7],[[[1,"        "],[10,1],[14,0,"msg-focused-inbox-tabs__badge"],[12],[13],[1,"\\n"]],[]],null],[1,"    "]],[]]]]],[1,"\\n  "]],[3]]]]],[1,"\\n"]],[2]]]]]],["@currentSelection","tabs","tablist","@onPrimaryTabSelect","@isOverlay","@onSecondaryTabSelect","@showSecondaryTabBadge"],false,["ember-cli-artdeco-tabs@artdeco-tabs","ember-cli-pemberly-tracking@track-interaction","if","t"]]',moduleName:"msg-ui/components/focused-inbox-tabs-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/forwarded-message-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"6KZW9v1m",block:'[[[10,0],[14,0,"msg-s-forward-preview__forwarded-item mv2 t-14 t-black"],[12],[1,"\\n  "],[10,0],[14,0,"msg-s-forward-preview__forwarded-from"],[12],[1,"\\n    "],[8,[39,0],null,[["@viewData","@size","@profileRoute"],[[30,1,["messageSenderEntityViewData"]],1,"profile.common.profile"]],null],[1,"\\n    "],[10,0],[12],[1,"\\n      "],[8,[39,1],[[4,[38,2],["view_profile"],null]],[["@href"],[[30,1,["participantProfileUrl"]]]],[["default"],[[[[1,"\\n        "],[10,1],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[12],[1,"\\n          "],[1,[30,1,["senderName"]]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[1,"  "],[10,2],[14,0,"msg-s-forward-preview__forwarded-body msg-form__reshared-content t-14 t-normal"],[12],[1,"\\n    "],[1,[30,1,["messageBodyText"]]],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"msg-s-forward-preview__forwarded-details t-12 t-black--light t-normal"],[12],[1,"\\n    "],[10,1],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_forwarded_label","msg-ui/components/forwarded-message-presenter"],null]],[1,"\\n    "],[13],[1,"\\n    "],[10,"time"],[14,0,"msg-s-message-group__timestamp white-space-nowrap"],[12],[1,"\\n      "],[1,[30,1,["timestampText"]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@viewData"],false,["msg-ui@primitives/message-sender-entity-presenter","app-aware-link@app-aware-link","ember-cli-pemberly-tracking@track-interaction","t"]]',moduleName:"msg-ui/components/forwarded-message-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define.alias("ember-highcharts/components/high-charts","msg-ui/components/high-charts")
define("msg-ui/components/i18n-shared",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"pvtskthM",block:'[[[1,"\\n"]],[],false,[]]',moduleName:"msg-ui/components/i18n-shared.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/inbox-header-with-message-request-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"3FCcCBat",block:'[[[11,0],[24,0,"msg-message-request-banner-v2"],[17,1],[12],[1,"\\n  "],[10,1],[14,0,"t-14 t-bold t-black display-flex align-items-center"],[12],[1,"\\n    "],[1,[28,[35,0],["i18n_inbox_label","msg-ui/components/inbox-header-with-message-request-presenter"],null]],[1,"\\n  "],[13],[1,"\\n\\n  "],[8,[39,1],[[4,[38,2],[[30,2]],null],[4,[38,3],["click",[30,3]],null]],[["@size","@type"],[1,"tertiary"]],[["default"],[[[[1,"\\n    "],[1,[30,4]],[1,"\\n  "]],[]]]]],[1,"\\n"],[13]],["&attrs","@trackingKey","@openMessageRequestConversationList","@headingText"],false,["t","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction","on"]]',moduleName:"msg-ui/components/inbox-header-with-message-request-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/inmail-compose-form-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/utils","@ember/object","msg-shared/utils/constants","rsvp"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h,f,v,b,y,_,w,M,D,k,C
const S=(0,a.createTemplateFactory)({id:"382RZiMk",block:'[[[11,0],[17,1],[24,0,"msg-inmail-compose-form-v2 relative flex-1 white display-flex flex-column"],[4,[38,0],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_compose_inmail",[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[8,[39,3],null,[["@classNames","@size"],["msg-compose__inmail-compose-entity-lockup",2]],[["default"],[[[[1,"\\n    "],[8,[39,4],null,[["@href"],[[30,3,["recipientParticipantProfileUrl"]]]],[["default"],[[[[1,"\\n      "],[8,[30,2,["image"]],null,[["@type"],["circle"]],[["default"],[[[[1,"\\n        "],[8,[39,5],null,[["@class","@viewData","@size"],["mr2",[30,3,["entityWithPresenceViewData"]],2]],null],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[30,2,["content"]],null,null,[["default"],[[[[1,"\\n      "],[8,[30,2,["title"]],null,[["@altLink"],[true]],[["default"],[[[[1,"\\n        "],[8,[39,4],null,[["@href","@class"],[[30,3,["recipientParticipantProfileUrl"]],"msg-compose__profile-link"]],[["default"],[[[[1,"\\n          "],[1,[30,3,["recipientName"]]],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,2,["subtitle"]],[[24,0,"msg-compose__occupation"]],null,[["default"],[[[[1,"\\n        "],[1,[30,3,["recipientOccupation"]]],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[2]]]]],[1,"\\n\\n  "],[8,[39,6],null,[["@subject","@updateSubject"],[[30,0,["subject"]],[30,0,["updateSubject"]]]],null],[1,"\\n  "],[10,0],[14,0,"full-height"],[12],[1,"\\n    "],[8,[39,7],[[16,0,[29,[[52,[51,[30,4]],"msg-form--thread"]," full-height"]]]],[["@conversation","@msgAdapterOptions","@prefilledMessage","@beforeUpload","@submitMessage","@subject","@update","@isInMailCompose","@isOverlay","@composeIsFullyExpanded","@smpContent","@validateForm","@updateFormState"],[[30,5],[30,6],[30,7],[30,8],[30,9],[30,0,["subject"]],[30,10],true,[30,4],true,[30,11],[30,0,["validateForm"]],[30,12]]],[["default"],[[[[1,"\\n      "],[8,[30,13,["attachmentDragAndDropPresenter"]],null,[["@composeIsFullyExpanded","@trackingKeys"],[true,[30,16]]],null],[1,"\\n"],[41,[51,[30,15,["showMiniAttachmentPreviews"]]],[[[1,"        "],[8,[30,13,["uploadedAttachmentListPresenter"]],null,null,null],[1,"\\n"],[41,[30,15,["attachmentDropErrorType"]],[[[1,"          "],[8,[30,13,["attachmentDragAndDropErrorPresenter"]],null,null,null],[1,"\\n"]],[]],null]],[]],null],[1,"      "],[8,[30,13,["messageContentContainerPresenter"]],[[24,0,"msg-form__message-texteditor relative flex-grow-1 display-flex"]],[["@composeIsFullyExpanded","@labelText","@update","@smpContent"],[true,[28,[37,10],["i18n_write_message","msg-ui/components/inmail-compose-form-presenter"],null],[30,10],[30,11]]],null],[1,"\\n"],[41,[30,0,["messageExceedsLength"]],[[[1,"        "],[8,[39,11],null,[["@classNames","@type","@message"],["msg-form__compose-error p2","error",[28,[37,10],["i18n_inmail_too_long","msg-ui/components/inmail-compose-form-presenter"],[["messagelength"],[[30,0,["messageLength"]]]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,3,["composeViewContext"]],[[[41,[30,3,["footerText"]],[[[1,"          "],[10,"section"],[15,0,[29,["msg-inmail-credits-display pv2 ph4\\n              ",[52,[30,17],"justify-flex-end"]]]],[12],[1,"\\n"],[41,[30,3,["footerIcon"]],[[[1,"              "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n                "],[1,[28,[35,10],["i18n_a11y_premium_badge","msg-ui/components/inmail-compose-form-presenter"],null]],[1,"\\n              "],[13],[1,"\\n              "],[1,[28,[35,12],null,[["type","size"],["premium-badge","8dp"]]]],[1,"\\n"]],[]],null],[1,"            "],[10,2],[14,0,"t-12 t-black--light t-normal"],[12],[1,"\\n              "],[1,[28,[35,13],[[30,3,["footerText"]]],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"        "],[8,[30,13,["inmailCreditsPresenter"]],null,[["@inmailCredits","@isOpenLink","@loading","@recipientOpenToFreeMessages"],[[30,0,["inmailCredits"]],[30,0,["isOpenLink"]],[30,0,["loadingInmailCreditsData"]],[30,6,["recipientOpenToFreeMessages"]]]],null],[1,"\\n"]],[]]],[1,"      "],[10,"footer"],[14,0,"msg-form__footer"],[12],[1,"\\n        "],[10,0],[14,0,"msg-form__left-actions display-flex"],[12],[1,"\\n          "],[8,[30,13,["uploadAttachmentPresenter"]],null,[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[28,[37,12],null,[["type"],["image"]]],[28,[37,10],["i18n_attach_image","msg-ui/components/inmail-compose-form-presenter"],null],[30,15,["supportedImageAttachmentTypes"]],"image"]],null],[1,"\\n          "],[8,[30,13,["uploadAttachmentPresenter"]],null,[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[28,[37,12],null,[["type"],["attachment"]]],[28,[37,10],["i18n_attach_file","msg-ui/components/inmail-compose-form-presenter"],null],[30,15,["supportedFileAttachmentTypes"]],"file"]],null],[1,"\\n          "],[8,[39,14],null,[["@bundle"],["emoji-picker"]],[["default"],[[[[1,"\\n"],[41,[30,18,["state","fulfilled"]],[[[1,"              "],[8,[39,15],null,[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[30,14,["updateTextarea"]],"msg_pillar_emoji",[30,14,["focusTextarea"]],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]],null],[1,"\\n"]],[]],null],[1,"          "]],[18]]]]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[1,"\\n          "],[8,[30,13,["sendControlsPresenter"]],null,[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",false]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[13,14,15]]]]],[1,"\\n  "],[13],[1,"\\n"],[13]],["&attrs","elements","@viewData","@isOverlay","@conversation","@msgAdapterOptions","@prefilledMessage","@beforeUpload","@submitMessage","@update","@smpContent","@updateFormState","components","actions","props","@dragAndDropTrackingKeys","@recipientOpenToFreeMessages","assetLoader"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-entity-lockup@artdeco-entity-lockup","ember-cli-pemberly-tracking@shared/external-link","presence@entity-with-presence-presenter","msg-ui@msg-form/primitives/subject-line-input-presenter","msg-ui@msg-form/base-form-feature","unless","if","t","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-icons-web@li-icon","text-view-model@text-view-model","asset-loader@deferred-asset-loader","emoji-picker@emoji-hoverable"]]',moduleName:"msg-ui/components/inmail-compose-form-presenter.hbs",isStrictMode:!1}),{INMAIL_MAX_CHARACTERS:P}=u.default
let x=(g=(0,c.inject)("global-services@a11y-notification"),h=(0,c.inject)("i18n"),f=class extends o.default{constructor(){var e
super(...arguments);(0,t.default)(this,"a11yNotification",v,this);(0,t.default)(this,"i18n",b,this);(0,t.default)(this,"subject",y,this);(0,t.default)(this,"messageLength",_,this);(0,t.default)(this,"messageExceedsLength",w,this);(0,t.default)(this,"inmailCredits",M,this);(0,t.default)(this,"creditsDataLoaded",D,this);(0,t.default)(this,"isOpenLink",k,this);(0,n.default)(this,"composeViewContextEnabled",!1);(0,t.default)(this,"loadingInmailCreditsData",C,this)
this.composeViewContextEnabled=this.args.viewData.composeViewContext
this.subject=(null===(e=this.args.subject)||void 0===e?void 0:e.string)??this.args.subject
this.loadingInmailCreditsData=!(0,d.isPresent)(this.args.viewData.composeViewContext)
this._fetchInmailComposeData().finally((()=>{this.isDestroying||(this.loadingInmailCreditsData=!1)}))}_fetchInmailComposeData(){return p.default.all([this.args.viewData.fetchInmailCredits,this.args.viewData.fetchIsOpenLink]).then((e=>{let[t,n]=e
if(!this.isDestroying){this.inmailCredits=t
this.isOpenLink=n}}))}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}updateSubject(e){this.subject=e.target.value}validateForm(e){const t=this.messageExceedsLength,n=e.length>P
if(n){t||this.a11yNotify("i18n_inmail_too_long")
this.messageLength=e.length}else t&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
this.messageExceedsLength=n
return!(!(0,d.isPresent)(e)||n)&&(!(!this.composeViewContextEnabled&&!this.isOpenLink)||!!this.inmailCredits)}},v=(0,s.default)(f.prototype,"a11yNotification",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(f.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(f.prototype,"subject",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(f.prototype,"messageLength",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(f.prototype,"messageExceedsLength",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,s.default)(f.prototype,"inmailCredits",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=(0,s.default)(f.prototype,"creditsDataLoaded",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=(0,s.default)(f.prototype,"isOpenLink",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=(0,s.default)(f.prototype,"loadingInmailCreditsData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(f.prototype,"updateSubject",[m.action],Object.getOwnPropertyDescriptor(f.prototype,"updateSubject"),f.prototype),(0,s.default)(f.prototype,"validateForm",[m.action],Object.getOwnPropertyDescriptor(f.prototype,"validateForm"),f.prototype),f)
e.default=x;(0,r.setComponentTemplate)(S,x)}))
define("msg-ui/components/inmail-quick-action-footer-presenter",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","@ember/debug","@ember/object","msg-shared/utils/constants"],(function(e,t,n,s,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l
const c=(0,s.createTemplateFactory)({id:"wxddY0pq",block:'[[[10,0],[14,0,"msg-inmail-reply-panel display-flex flex-column pt1 ph3"],[12],[1,"\\n  "],[10,0],[14,0,"msg-inmail-reply-panel__header display-flex justify-space-between align-items-center"],[12],[1,"\\n    "],[10,1],[14,0,"msg-inmail-reply-panel__signal-text t-14 t-black--medium"],[12],[1,[30,1,["text"]]],[13],[1,"\\n"],[44,[[28,[37,1],[[30,2],[30,3,["inmailType"]],"_inmail_",[30,0,["signal"]],"_back"],null]],[[[1,"      "],[8,[39,2],[[4,[38,4],[[30,4]],null]],[["@class","@type","@color","@size","@circle","@icon","@click","@text"],["msg-inmail-reply-panel__cancel-icon","tertiary","muted","1","true","close",[30,5],[28,[37,3],["a11y_cancel_button","msg-ui/components/inmail-quick-action-footer-presenter"],null]]],null],[1,"\\n"]],[4]]],[1,"  "],[13],[1,"\\n  "],[10,"label"],[14,"for","msg-inmail-reply-panel"],[14,0,"visually-hidden"],[12],[1,"\\n    "],[1,[28,[35,3],["i18n_edit_reply","msg-ui/components/inmail-quick-action-footer-presenter"],null]],[1,"\\n  "],[13],[1,"\\n"],[44,[[28,[37,1],[[30,2],[30,3,["inmailType"]],"_inmail_",[30,0,["signal"]],"_edit"],null]],[[[1,"    "],[8,[39,5],[[24,0,"msg-inmail-reply-panel__message mb2"],[24,1,"msg-inmail-reply-panel"],[4,[38,6],["input",[30,0,["textInputHandler"]]],null],[4,[38,4],[[30,6]],null]],[["@value"],[[30,0,["messageBody"]]]],null],[1,""]],[6]]],[1,"  "],[10,0],[14,0,"msg-inmail-reply-panel__footer display-flex justify-flex-end pb2"],[12],[1,"\\n"],[41,[30,0,["isDecline"]],[[[44,[[28,[37,1],[[30,2],[30,3,["inmailType"]],"_inmail_no_send_no_message"],null]],[[[1,"        "],[8,[39,2],[[4,[38,4],[[30,7]],null]],[["@class","@type","@size","@disabled","@text","@aria-label","@click"],["msg-inmail-reply-panel__decline-without-a-message-button mr2","secondary","1",[30,0,["sendInProgress"]],[28,[37,3],["i18n_decline_without_a_message_button_text","msg-ui/components/inmail-quick-action-footer-presenter"],null],[28,[37,3],["a11y_decline_without_a_message_button","msg-ui/components/inmail-quick-action-footer-presenter"],null],[30,0,["sendDeclineWithoutMessageBody"]]]],null],[1,"\\n"]],[7]]]],[]],null],[44,[[28,[37,1],[[30,2],[30,3,["inmailType"]],"_inmail_",[30,0,["signal"]],"_send"],null]],[[[1,"\\n      "],[8,[39,2],[[4,[38,4],[[30,8]],null]],[["@class","@type","@size","@click","@text","@aria-label","@disabled"],["msg-inmail-reply-panel__send-button","primary","1",[28,[37,8],[[30,9],[30,0,["isDecline"]],[30,0,["messageBody"]]],null],[28,[37,3],["i18n_send_button_text","msg-ui/components/inmail-quick-action-footer-presenter"],null],[52,[30,0,["isAccept"]],[28,[37,3],["a11y_send_accept","msg-ui/components/inmail-quick-action-footer-presenter"],null],[28,[37,3],["a11y_send_decline","msg-ui/components/inmail-quick-action-footer-presenter"],null]],[28,[37,9],[[30,0,["sendInProgress"]],[28,[37,10],[[30,0,["messageBody"]],""],null]],null]]],null],[1,"\\n"]],[8]]],[1,"  "],[13],[1,"\\n"],[13]],["@quickReply","@trackingPrefix","@viewData","controlName","@cancel","controlName","controlName","controlName","@send"],false,["let","concat","artdeco-button@artdeco-button","t","ember-cli-pemberly-tracking@track-interaction","textarea","on","if","fn","global-helpers@or","global-helpers@eq"]]',moduleName:"msg-ui/components/inmail-quick-action-footer-presenter.hbs",isStrictMode:!1}),{SMART_ACTIONS:d}=o.default
let m=(l=class extends i.default{constructor(){super(...arguments)
this.isAccept=this.args.quickReply.replyType===d.INMAIL_ACCEPT
this.isDecline=this.args.quickReply.replyType===d.INMAIL_DECLINE
this.signal=this.isAccept?"yes":"no"
this.sendInProgress=!1
this.messageBody=this.args.quickReply.quickActionPrefillText}sendDeclineWithoutMessageBody(){this.sendInProgress=!0
this.args.send(this.isDecline,"").finally((()=>{this.sendInProgress=!1}))}textInputHandler(e){const t=e.target
t.style.height="auto"
t.scrollHeight!==t.clientHeight&&(t.style.height=`${t.scrollHeight+2}px`)}},(0,t.default)(l.prototype,"sendDeclineWithoutMessageBody",[a.action],Object.getOwnPropertyDescriptor(l.prototype,"sendDeclineWithoutMessageBody"),l.prototype),l)
e.default=m;(0,n.setComponentTemplate)(c,m)}))
define("msg-ui/components/kindness-reminder-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","rsvp","@glimmer/tracking"],(function(e,t,n,s,i,r,a,o,l,c,d,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,v
const b=(0,a.createTemplateFactory)({id:"2F0S+ntb",block:'[[[41,[30,0,["widgetTrackingToken"]],[[[41,[28,[37,1],[[30,0,["widgetType"]],"simple"],null],[[[1,"    "],[11,0],[24,0,"msg-kindness-reminder-presenter--simple-layout"],[17,1],[12],[1,"\\n      "],[10,2],[14,0,"t-14 t-black--light"],[12],[1,"\\n        "],[1,[30,2]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["widgetType"]],"basic"],null],[[[1,"    "],[11,0],[24,0,"msg-kindness-reminder-presenter--basic-layout"],[17,1],[12],[1,"\\n      "],[8,[39,2],null,[["@class","@message","@linkText","@onClick","@type"],["mr1",[30,2],[30,3],[30,0,["legoWidgetPrimaryAction"]],"note"]],null],[1,"\\n      "],[8,[39,3],null,[["@class","@icon","@type","@color","@size","@circle","@click"],["msg-kindness-reminder-presenter--basic-cancel","close","tertiary","muted",[30,0,["dismissButtonSize"]],true,[30,0,["legoWidgetDismissAction"]]]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["widgetType"]],"full"],null],[[[1,"    "],[11,0],[24,0,"msg-kindness-reminder-presenter"],[17,1],[12],[1,"\\n"],[41,[48,[30,7]],[[[1,"        "],[10,0],[14,0,"msg-kindness-reminder-presenter__left-section-container"],[12],[1,"\\n          "],[18,7,[[28,[37,6],null,[["leftSection"],[[50,"dummy-yield-wrapper@dummy-yield-wrapper",0,null,null]]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[10,0],[14,0,"pt3"],[12],[1,"\\n        "],[10,0],[14,0,"display-flex justify-space-between align-items-center"],[12],[1,"\\n          "],[10,1],[14,0,"t-14 t-bold t-black mb1"],[12],[1,"\\n            "],[1,[30,4]],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[30,5],[[[1,"            "],[10,0],[14,0,"pr1"],[12],[1,"\\n              "],[8,[39,3],null,[["@icon","@type","@color","@size","@circle","@click"],["close","tertiary","muted",1,true,[30,0,["legoWidgetDismissAction"]]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n        "],[10,2],[14,0,"t-12 t-black--light pr3 pb4"],[12],[1,"\\n          "],[1,[30,2]],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[30,6],[[[1,"          "],[8,[39,3],null,[["@text","@type","@size","@click"],[[30,3],"secondary",1,[30,0,["legoWidgetPrimaryAction"]]]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]],null]],[]]]],[]]]],[]],null]],["&attrs","@text","@primaryActionText","@title","@onDismiss","@onPrimary","&default"],false,["if","global-helpers@eq","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-button@artdeco-button","has-block","yield","hash","component"]]',moduleName:"msg-ui/components/kindness-reminder-presenter.hbs",isStrictMode:!1})
let y=(u=(0,c.inject)("lego@resolver"),p=(0,c.inject)("lego@tracking"),g=class extends o.default{get widgetType(){return this.args.type??"full"}get dismissButtonSize(){return this.args.dismissButtonSize??1}get impressOnRender(){return this.args.impressOnRender??!0}get sendPrimaryActionOnPrimaryActionClick(){return this.args.sendPrimaryActionOnPrimaryActionClick??!0}constructor(){super(...arguments);(0,t.default)(this,"legoResolver",h,this);(0,t.default)(this,"legoTracking",f,this);(0,t.default)(this,"widgetTrackingToken",v,this)
this._fetchLegoWidget()}_fetchLegoWidget(){return this.legoResolver.fireLegoCall(this.args.legoConfig).then((e=>{if(!this.isDestroying){if(!e){var t,n
null===(t=(n=this.args).onDismiss)||void 0===t||t.call(n)
return(0,d.reject)()}this.widgetTrackingToken=(0,l.get)(e,"trackingToken")
if(this.widgetTrackingToken){var s,i
this.impressOnRender&&this._sendLegoImpression()
null===(s=(i=this.args).onImpression)||void 0===s||s.call(i)
this.args.dismissOnImpression&&this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}else{var r,a
null===(r=(a=this.args).onDismiss)||void 0===r||r.call(a)}return e}}))}_sendLegoImpression(){this.legoTracking.sendLegoImpression(this.widgetTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}legoWidgetPrimaryAction(){var e,t
this.sendPrimaryActionOnPrimaryActionClick&&this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY,1)
null===(e=(t=this.args).onPrimary)||void 0===e||e.call(t)}legoWidgetDismissAction(){var e,t
this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)
null===(e=(t=this.args).onDismiss)||void 0===e||e.call(t)}},h=(0,s.default)(g.prototype,"legoResolver",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(g.prototype,"legoTracking",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(g.prototype,"widgetTrackingToken",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,s.default)(g.prototype,"legoWidgetPrimaryAction",[l.action],Object.getOwnPropertyDescriptor(g.prototype,"legoWidgetPrimaryAction"),g.prototype),(0,s.default)(g.prototype,"legoWidgetDismissAction",[l.action],Object.getOwnPropertyDescriptor(g.prototype,"legoWidgetDismissAction"),g.prototype),g)
e.default=y;(0,r.setComponentTemplate)(b,y)}))
define.alias("ember-vector-images/components/lazy-background","msg-ui/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","msg-ui/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","msg-ui/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","msg-ui/components/linkedin-logo")
define("msg-ui/components/loader",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/debug"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.createTemplateFactory)({id:"cthc3EZk",block:'[[[1,"\\n"],[11,0],[16,0,[29,["msg-loader display-flex align-items-center\\n    ",[30,0,["positionClass"]],"\\n    ",[30,0,["borderClass"]]]]],[17,1],[12],[1,"\\n  "],[8,[39,0],null,[["@size","@type","@class"],[[30,0,["size"]],[30,0,["type"]],"mh2"]],null],[1,"\\n"],[41,[30,2],[[[1,"    "],[10,0],[14,0,"t-14 t-bold t-black--light"],[12],[1,"\\n      "],[1,[30,2]],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13]],["&attrs","@text"],false,["artdeco-loader@artdeco-loader","if"]]',moduleName:"msg-ui/components/loader.hbs",isStrictMode:!1}),a={right:"flex-row",left:"flex-row-reverse",top:"flex-column-reverse",bottom:"flex-column"},o={top:"msg-loader--border-top",bottom:"msg-loader--border-bottom"}
class l extends s.default{constructor(){super(...arguments)
const{textPosition:e}=this.args}get positionClass(){return a[this.args.textPosition??"right"]}get borderClass(){return o[this.args.border]??""}get size(){return this.args.size??"default"}get type(){return this.args.type??"standard"}}e.default=l;(0,t.setComponentTemplate)(r,l)}))
define.alias("ember-media-player/components/media-player","msg-ui/components/media-player")
define("msg-ui/components/message-list-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","ember","@ember/object","@ember/service","@glimmer/component","global-utils/utils/is-browser","msg-ui/viewdata/message-list-viewdata","msg-ui/viewdata/sdk-message-list-viewdata","urn-utils","@glimmer/tracking"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,v,b,y,_,w,M,D,k,C,S,P,x,T,I,E,A,O,R,U,N,j,F,L
const z=(0,a.createTemplateFactory)({id:"3hGh15MV",block:'[[[1,"\\n"],[11,0],[16,0,[29,["msg-s-message-list",[52,[51,[30,0,["viewData","conversationFullyLoaded"]]]," msg-s-message-list--scroll-buffer"],"\\n    full-width scrollable"]]],[17,1],[4,[38,1],null,[["when","params"],[[30,0,["shouldLinkBeShimmed"]],[30,0,["linkShimmingParams"]]]]],[12],[1,"\\n  "],[10,"ul"],[14,0,"msg-s-message-list-content list-style-none full-width mbA"],[12],[1,"\\n    "],[10,"li"],[14,0,"msg-s-message-list__top-of-list"],[12],[13],[1,"\\n\\n"],[41,[28,[37,3],[[30,0,["viewData","isSponsoredConversation"]],[30,0,["viewData","advertiserLabel"]]],null],[[[1,"      "],[10,"li"],[14,0,"msg-s-message-list__top-banner"],[12],[1,"\\n        "],[10,0],[14,0,"display-flex"],[12],[1,"\\n          "],[10,2],[14,0,"t-12 t-black--light t-normal"],[12],[1,"\\n            "],[1,[30,0,["viewData","advertiserLabel"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"time"],[14,0,"white-space-nowrap pl3 t-12 t-black--light t-normal"],[12],[1,"\\n          "],[1,[28,[35,4],[[30,0,["viewData","oldestMessageCreatedAt"]]],[["format","useTimeZone"],[[52,[28,[37,5],[[30,0,["viewData","oldestMessageCreatedAt"]]],null],"fmt_md_medium","fmt_mdy_medium"],true]]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showProfileCard"]],[[[1,"      "],[10,"li"],[12],[1,"\\n"],[41,[30,2,["groupChat"]],[[[1,"          "],[8,[39,6],null,[["@viewData","@isOverlay","@addParticipantsPageKey","@actionTrackingPrefix","@toggleShowRenameConversation"],[[30,0,["viewData","recipientDetailGroupViewData"]],[30,3],[30,4],[30,0,["actionTrackingPrefix"]],[30,5]]],null],[1,"\\n"]],[]],[[[41,[30,0,["viewData","recipientDetailOneToOneViewData"]],[[[1,"          "],[8,[39,7],[[24,0,"ph3"]],[["@viewData","@inlineLayout","@contextText"],[[30,0,["viewData","recipientDetailOneToOneViewData"]],[30,6],[30,0,["viewData","contextText"]]]],null],[1,"\\n        "]],[]],null]],[]]],[1,"      "],[13],[1,"\\n"]],[]],null],[1,"    "],[10,"li"],[15,0,[29,["msg-s-message-list__loader",[52,[51,[30,7]]," hidden"]]]],[12],[1,"\\n      "],[8,[39,8],null,[["@size"],["small"]],null],[1,"\\n    "],[13],[1,"\\n"],[42,[28,[37,10],[[28,[37,10],[[30,0,["messages"]]],null]],null],"entityUrn",[[[1,"      "],[10,"li"],[15,0,[29,["msg-s-message-list__event clearfix\\n          ",[52,[28,[37,11],[[30,9],[28,[37,12],[[30,0,["messages","length"]],1],null]],null],"msg-s-message-list__event--slide-in"]]]],[12],[1,"\\n        "],[8,[39,13],null,[["@message","@messages","@index","@conversation","@conversationSeenReceipts","@showSeenReceipts","@messageIndexToBeAnchored","@indexOfLatestMessageSeenByNone","@blockedByNoResponse","@isCompanySender","@isOverlay","@moduleKey","@resendMessage","@showMessageEditForm","@showImageAttachment"],[[30,8],[30,0,["messages"]],[30,9],[30,2],[30,0,["conversationSeenReceipts"]],[30,0,["viewData","showSeenReceipts"]],[30,10],[30,0,["viewData","indexOfLatestMessageSeenByNone"]],[30,11],[30,12],[30,3],[52,[30,3],"overlay_compose"],[30,13],[30,14],[28,[37,14],[[30,0],"currentlyViewedImageAttachment"],null]]],[["default"],[[[[1,"\\n          "],[18,25,[[30,15]]],[1,"\\n        "]],[15]]]]],[1,"\\n      "],[13],[1,"\\n"]],[8,9]],null],[1,"    "],[10,"li"],[15,0,[52,[52,[30,0,["viewData","showSeenReceipts"]],[30,0,["viewData","latestMessageHasSeenReceipts"]]],"msg-s-message-list__typing-indicator-container--with-seen-receipt","msg-s-message-list__typing-indicator-container--without-seen-receipt"]],[12],[1,"\\n"],[41,[30,0,["viewData","hasTypingParticipants"]],[[[1,"        "],[8,[39,16],null,[["@viewData"],[[30,0,["viewData","typingIndicatorsViewData"]]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n\\n"],[41,[30,16],[[[1,"      "],[10,"li"],[14,0,"msg-s-message-list__quick-replies-container"],[12],[1,"\\n        "],[8,[39,17],null,[["@viewData","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@contextWidth"],[[30,0,["viewData","quickRepliesViewData"]],[30,17],[30,18],[30,0,["actionTrackingPrefix"]],[52,[30,3],"mebc_quick_reply","non_inmail_quick_reply"],[30,19],[30,20],[30,0,["openInMailReplyPanel"]],[30,21],[30,22],[30,23]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"\\n    "],[10,"li"],[14,0,"msg-s-message-list__bottom-of-list"],[12],[13],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"],[8,[39,18],null,[["@dismissModal","@isOpen","@modalClasses","@overlayClasses"],[[30,0,["dismissImageAttachmentViewer"]],[30,0,["currentlyViewedImageAttachment"]],"msg-modal-preview","display-flex flex-column justify-center"]],[["default"],[[[[1,"\\n  "],[8,[30,24,["artdeco-modal-header"]],null,[["@classNames"],["visually-hidden"]],[["default"],[[[[1,"\\n    "],[10,"h3"],[14,1,"msg-modal-preview__label"],[12],[1,[28,[35,19],["i18n_img_alt","msg-ui/components/message-list-feature"],null]],[13],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[30,24,["artdeco-modal-content"]],null,[["@classNames"],["msg-modal-preview__content"]],[["default"],[[[[1,"\\n    "],[8,[39,20],null,[["@alt","@classNames","@ghostType","@image","@desiredWidth"],[[28,[37,19],["i18n_img_alt","msg-ui/components/message-list-feature"],null],"msg-modal-preview__image","image",[30,0,["currentlyViewedImageAttachment"]],10000]],null],[1,"\\n  "]],[]]]]],[1,"\\n"]],[24]]]]]],["&attrs","@conversation","@isOverlay","@addParticipantsPageKey","@toggleShowRenameConversation","@inlineProfileCardLayout","@isLoading","message","index","@messageIndexToBeAnchored","@blockedByNoResponse","@isCompanySender","@resendMessage","@showMessageEditForm","listItemViewData","@showQuickReplies","@quickRepliesList","@quickRepliesUseCase","@sendQuickReply","@openGIFPopover","@showInmailDeclineReasonModal","@openVirtualMeetingModal","@contextWidth","modal","&default"],false,["unless","global-modifiers@shim-link","if","global-helpers@and","ember-cli-pemberly-i18n@format-date","msg-ui@is-current-year","msg-conversation-ui@recipient-detail-group-presenter","msg-conversation-ui@recipient-detail-one-to-one-presenter","artdeco-loader@artdeco-loader","each","-track-array","global-helpers@eq","global-helpers@sub","msg-ui@primitives/message-list-item-feature","ember-set-helper@set","yield","msg-conversation-ui@typing-indicators-presenter","msg-ui@quick-replies-presenter","artdeco-modal@artdeco-modal","t","ember-vector-images@custom-image"]]',moduleName:"msg-ui/components/message-list-feature.hbs",isStrictMode:!1})
let B=(f=(0,c.inject)("global-services@a11y-notification"),v=(0,c.inject)("i18n"),b=(0,c.inject)("lix"),y=(0,c.inject)("authentication@authenticated-user"),_=(0,c.inject)("tracking"),w=(0,c.inject)("msg-data@data-manager"),M=(0,c.inject)("formatter"),D=(0,c.inject)("invitation-platform@invitation-platform"),k=(0,c.inject)("profile-services@identity-store"),C=(0,c.inject)("router"),S=(0,c.inject)("presence@presence-api"),P=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",x,this);(0,t.default)(this,"i18n",T,this);(0,t.default)(this,"lix",I,this);(0,t.default)(this,"authenticatedUser",E,this);(0,t.default)(this,"tracking",A,this);(0,t.default)(this,"msgDataManager",O,this);(0,t.default)(this,"formatter",R,this);(0,t.default)(this,"invitationPlatform",U,this);(0,t.default)(this,"identityStore",N,this);(0,t.default)(this,"router",j,this);(0,t.default)(this,"presenceAPI",F,this);(0,t.default)(this,"currentlyViewedImageAttachment",L,this);(0,n.default)(this,"_lastTypingParticipants",0)}get linkShimmingParams(){return{trk:"flagship-messaging-web",messageThreadUrn:this.viewData.conversationBackendUrn}}get showProfileCard(){return this.viewData.conversationFullyLoaded&&!this.args.isLoading&&!this.viewData.isSponsoredConversation}get shouldLinkBeShimmed(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-link-shimming")&&this.lix.getTreatmentIsEnabled("voyager.web.messaging-link-shimming.do_not_filter_restricted")&&!this.viewData.isSponsoredConversation}get conversationSeenReceipts(){return this.msgDataManager.seenReceiptsManager.getSeenReceipts((0,l.get)(this.args.conversation,"entityUrn"))}willUpdate(){this._checkTypingParticipants()}_checkTypingParticipants(){if("INMAIL"===!(0,l.get)(this,"args.conversation.latestEvent.subtype")){const e=this._lastTypingParticipants??0,t=(0,l.get)(this.args,"conversation.typingParticipants.length")
if(e!==t){this._announceTypingIndicators(t)
this._lastTypingParticipants=t}}}_a11yNotify(e,t){const n=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(n([t]))}_announceTypingIndicators(e){1===e?this._a11yNotify("i18n_a11y_user_is_typing",{user:(0,l.get)(this,"args.conversation.typingParticipants.firstObject.name")}):this._a11yNotify("i18n_a11y_users_are_typing",{usercount:e})}onEmojiHoverableShow(e){if(null!=e&&e.currentTrigger){const n=e.currentTrigger.closest(".msg-s-message-list")
null==(t=n)||t.classList.add("msg-s-message-list--inactive")
const s=this.args.isOverlay?"flagship3_messaging_overlay_reaction_picker":"flagship3_messaging_reaction_picker"
this.tracking.firePageViewEvent(s)}var t}onEmojiHoverableHide(){o.default.testing&&console.log("emoji hoverable is hidden")
m.default&&document.querySelectorAll(".msg-s-message-list--inactive").forEach((e=>{e.classList.remove("msg-s-message-list--inactive")
o.default.testing&&console.log("[MSG-66395] logging for unstable emoji hoverable test: ","inactive message list element class list: ",JSON.stringify(e.classList))}))}dismissImageAttachmentViewer(){this.currentlyViewedImageAttachment=null
this.tracking.fireInteractionEvent("close_photo_viewer")}get msgSDKEnabled(){return this.msgDataManager.msgSDKEnabled}get messages(){var e
if(this.msgSDKEnabled)return this.args.conversation.messages.map((e=>e))
const{id:t}=(0,g.extractEntityInfoFromUrn)((0,l.get)(this.args.conversation,"entityUrn"))
return null===(e=this.msgDataManager.getEventCollection(t))||void 0===e?void 0:e.data}get viewData(){const{conversation:e}=this.args
return this.msgDataManager.msgSDKEnabled?new p.default({conversation:e,mailboxParticipants:this.msgDataManager.mailboxParticipants,msgDataManager:this.msgDataManager,formatter:this.formatter,i18n:this.i18n,authenticatedUser:this.authenticatedUser,identityStore:this.identityStore,invitationPlatform:this.invitationPlatform,presenceAPI:this.presenceAPI}):new u.default({conversation:(0,l.get)(e,"content")?(0,l.get)(e,"content"):e,messages:(0,l.get)(this.msgDataManager.getEventCollection((0,g.extractEntityInfoFromUrn)((0,l.get)(e,"entityUrn")).id),"data"),msgDataManager:this.msgDataManager,formatter:this.formatter,i18n:this.i18n,authenticatedUser:this.authenticatedUser,identityStore:this.identityStore,invitationPlatform:this.invitationPlatform,router:this.router})}},x=(0,s.default)(P.prototype,"a11yNotification",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,s.default)(P.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,s.default)(P.prototype,"lix",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(P.prototype,"authenticatedUser",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,s.default)(P.prototype,"tracking",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(P.prototype,"msgDataManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,s.default)(P.prototype,"formatter",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,s.default)(P.prototype,"invitationPlatform",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,s.default)(P.prototype,"identityStore",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,s.default)(P.prototype,"router",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,s.default)(P.prototype,"presenceAPI",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,s.default)(P.prototype,"currentlyViewedImageAttachment",[h.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(P.prototype,"onEmojiHoverableShow",[l.action],Object.getOwnPropertyDescriptor(P.prototype,"onEmojiHoverableShow"),P.prototype),(0,s.default)(P.prototype,"onEmojiHoverableHide",[l.action],Object.getOwnPropertyDescriptor(P.prototype,"onEmojiHoverableHide"),P.prototype),(0,s.default)(P.prototype,"dismissImageAttachmentViewer",[l.action],Object.getOwnPropertyDescriptor(P.prototype,"dismissImageAttachmentViewer"),P.prototype),P)
e.default=B;(0,r.setComponentTemplate)(z,B)}))
define("msg-ui/components/message-list-scroller",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@glimmer/tracking","@ember/service","rsvp","msg-shared/utils/constants","msg-shared/helpers/is-current-user","global-utils/utils/scroller","global-utils/utils/intersection-observer","global-utils/utils/is-browser","ember-batcher","msg-shared/utils/msg-anchoring-helpers","urn-utils","msg-shared/utils/sdk-view-data-helpers","msg-shared/utils/view-data-helpers"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h,f,v,b,y,_,w){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var M,D,k,C,S,P,x,T,I,E,A,O,R,U,N
const j=(0,a.createTemplateFactory)({id:"geo1IyhU",block:'[[[1,"\\n"],[11,0],[16,0,[29,["msg-s-message-list-container relative display-flex mbA\\n    ",[52,[51,[30,0,["shouldScrollFromTop"]]],"msg-s-message-list-container--column-reversed"],"\\n    ",[52,[30,1],"message-list-container--collapsed"]]]],[4,[38,2],[[30,0,["handleContainerInsert"]]],null],[4,[38,3],[[30,0,["handleConversationUpdate"]],[30,2,["entityUrn"]]],null],[4,[38,3],[[30,0,["handleLatestEventChange"]],[30,2,["latestEvent"]]],null],[12],[1,"\\n  "],[18,3,[[28,[37,5],null,[["props","actions"],[[28,[37,5],null,[["isLoading","hasNewMessages","scrollingPastThreshold","messageIndexToBeAnchored"],[[30,0,["isLoading"]],[30,0,["hasNewMessages"]],[30,0,["scrollingPastThreshold"]],[30,0,["messageIndexToBeAnchored"]]]]],[28,[37,5],null,[["scrollToNewMessages"],[[30,0,["scrollToNewMessages"]]]]]]]]]],[1,"\\n"],[13]],["@composeIsFullyExpanded","@conversation","&default"],false,["unless","if","did-insert","did-update","yield","hash"]]',moduleName:"msg-ui/components/message-list-scroller.hbs",isStrictMode:!1}),{MESSAGE_LIST_SCROLLBLOCK_THRESHOLD:F}=u.default
let L=(M=(0,d.inject)("i18n"),D=(0,d.inject)("global-services@a11y-notification"),k=(0,d.inject)("authentication@authenticated-user"),C=(0,d.inject)("client-sensor-web@client-sensor"),S=(0,d.inject)("msg-data@data-manager"),P=class extends o.default{get hasNewMessages(){if(this.msgDataManager.msgSDKEnabled){const e=this.args.conversation.messages.last()
if(!e)return!1
return(0,l.get)(this.authenticatedUser,"miniProfile.dashEntityUrn")!==e.senderUrn&&e.deliveredAt>this._lastLeftScrollAreaBottomAt&&0!==this._lastLeftScrollAreaBottomAt}const{latestEvent:e}=this.args
if(!e)return!1
return!(0,p.isCurrentUser)(this.authenticatedUser,(0,l.get)(e,"from"))&&(0,l.get)(e,"createdAt")>this._lastLeftScrollAreaBottomAt&&0!==this._lastLeftScrollAreaBottomAt}get shouldScrollFromTop(){const{conversation:e,latestEvent:t}=this.args
if(this.msgDataManager.msgSDKEnabled)return(0,_.messageHasInMailHostUrnData)(e.messages.first())&&1===e.messages.length||(0,_.isConversationWithAdvertiser)(e)
if(!t||!(0,w.isFirstMessageInThread)(e,t))return!1
const n=(0,l.get)(t,"subtype")
return"INMAIL"===n||"SPONSORED_INMAIL"===n||"SPONSORED_MESSAGE"===n}constructor(){super(...arguments);(0,t.default)(this,"i18n",x,this);(0,t.default)(this,"a11yNotification",T,this);(0,t.default)(this,"authenticatedUser",I,this);(0,t.default)(this,"clientSensor",E,this);(0,t.default)(this,"msgDataManager",A,this);(0,t.default)(this,"isLoading",O,this);(0,t.default)(this,"messageIndexToBeAnchored",R,this);(0,t.default)(this,"scrollingPastThreshold",U,this);(0,t.default)(this,"_lastLeftScrollAreaBottomAt",N,this);(0,n.default)(this,"_previousLatestEvent",null);(0,n.default)(this,"_hasMoreMessagesToLoad",!0)
this.handleConversationUpdate()
f.default&&(this._isSafari=/^((?!chrome).)*safari/i.test(window.navigator.userAgent))}handleConversationUpdate(){this._hasMoreMessagesToLoad=!0
let e,t
if(this.msgDataManager.msgSDKEnabled)e=this.msgDataManager.initialConversationActivateRequestsMap.get(this.args.conversation.entityUrn)
else{t=this.msgDataManager.getEventCollection((0,y.extractEntityInfoFromUrn)((0,l.get)(this.args.conversation,"entityUrn")).id)
e=t.loadFetched()}e&&e.finally((()=>{if(!this.isDestroying){this.messageIndexToBeAnchored=this._getAnchoredMessageIndex()
this.isLoading=!1
this._hasMoreMessagesToLoad=this.msgDataManager.msgSDKEnabled?!this.args.conversation.status.fullyLoaded:!(0,l.get)(t,"oldestEvent.isFirstMessageInThread")
this.scrollingElement&&this._reconnectIntersectionObserver()}}))}handleLatestEventChange(){const{latestEvent:e}=this.args
if(e&&e!==this._previousLatestEvent){this.messageIndexToBeAnchored=this._getAnchoredMessageIndex()
if(((0,p.isCurrentUser)(this.authenticatedUser,this.msgDataManager.msgSDKEnabled?e:(0,l.get)(e,"from"),this.msgDataManager.msgSDKEnabled)||!this.scrollingPastThreshold)&&this.scrollingElement){this._isSafari&&this.scrollingElement.classList.add("msg-s-message-list--hide-scrollbar");(0,v.mutateDOM)((()=>{this.scrollToNewMessages()
this._isSafari&&this.scrollingElement.classList.remove("msg-s-message-list--hide-scrollbar")}))}}this._previousLatestEvent=e}handleContainerInsert(e){this.scrollingElement=e.querySelector(".msg-s-message-list")
if(f.default){this._bottomIntersectionObserver=new h.default((e=>{e.forEach((e=>{if(1===e.intersectionRatio)this.scrollingPastThreshold=!1
else if(!this.shouldScrollFromTop){this._lastLeftScrollAreaBottomAt=Date.now()
this.scrollingPastThreshold=!0}}))}),{root:this.scrollingElement,rootMargin:`0px 0px ${F}px 0px`})
this._bottomIntersectionObserver.observe(e.querySelector(".msg-s-message-list__bottom-of-list"))}}willDestroy(){var e,t
super.willDestroy(...arguments)
null===(e=this._bottomIntersectionObserver)||void 0===e||e.disconnect()
null===(t=this._topIntersectionObserver)||void 0===t||t.disconnect()}loadMore(){const{conversation:e}=this.args
if(this.isLoading||!this._hasMoreMessagesToLoad)return(0,m.resolve)([])
this.isLoading=!0
return this.msgDataManager.loadMoreMessages((0,l.get)(e,"entityUrn")).then((t=>{if(this.isDestroying)return(0,m.resolve)([])
const n=this.scrollingElement.scrollTop;(0,v.mutateDOM)((()=>{this.isDestroying||(this.scrollingElement.scrollTop=n)}))
if(this.msgDataManager.msgSDKEnabled){this._hasMoreMessagesToLoad=!e.status.fullyLoaded
0===t&&(this._hasMoreMessagesToLoad=!1)}else{const n=this.msgDataManager.getEventCollection((0,y.extractEntityInfoFromUrn)((0,l.get)(e,"entityUrn")).id)
this._hasMoreMessagesToLoad=!(0,l.get)(n,"oldestEvent.isFirstMessageInThread")&&t>0}this.messageIndexToBeAnchored&&(this.messageIndexToBeAnchored=this._getAnchoredMessageIndex())
const s=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_messages")
this.a11yNotification.setTextInLiveRegion(s([{newRecordCount:t}]))
return t})).finally((()=>{this.isDestroying||(this.isLoading=!1)}))}_reconnectIntersectionObserver(){this._topIntersectionObserver&&this._topIntersectionObserver.disconnect()
this._topIntersectionObserver=new h.default((e=>{e.forEach((e=>{if(1===e.intersectionRatio)if(this.msgDataManager.msgSDKEnabled){var t
null!==(t=this.args.conversation.messages)&&void 0!==t&&t.length&&this.loadMore()}else this.loadMore()}))}),{root:this.scrollingElement,rootMargin:"250px 0px 0px 0px"})
this._topIntersectionObserver.observe(this.scrollingElement.querySelector(".msg-s-message-list__top-of-list"))}scrollToNewMessages(){this.isDestroying||g.default.scrollTo(this.scrollingElement,{animate:!0,top:0})}_getAnchoredMessageIndex(){var e,t
const{conversation:n}=this.args,{msgSDKEnabled:s}=this.msgDataManager,i=(0,l.get)(n,"lastReadAt"),r=s?null===(e=n.messages.first())||void 0===e?void 0:e.deliveredAt:(0,l.get)(this,"args.conversation.eventCollection.oldestEvent.createdAt"),a=s?null===(t=n.messages.last())||void 0===t?void 0:t.deliveredAt:(0,l.get)(this,"args.latestEvent.createdAt"),o=!!i&&i>=r
!o&&i&&this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"anchoring-EV-unread"})
if(!this.isDestroying&&o&&i<a)return s?(0,b.getMessageIndexToBeAnchoredFromSDKMessages)(i,n.messages,this.authenticatedUser):(0,b.getMessageIndexToBeAnchored)(i,(0,l.get)(this,"args.conversation.eventCollection.data"),this.authenticatedUser)}},x=(0,s.default)(P.prototype,"i18n",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,s.default)(P.prototype,"a11yNotification",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,s.default)(P.prototype,"authenticatedUser",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(P.prototype,"clientSensor",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,s.default)(P.prototype,"msgDataManager",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(P.prototype,"isLoading",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=(0,s.default)(P.prototype,"messageIndexToBeAnchored",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,s.default)(P.prototype,"scrollingPastThreshold",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=(0,s.default)(P.prototype,"_lastLeftScrollAreaBottomAt",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,s.default)(P.prototype,"handleConversationUpdate",[l.action],Object.getOwnPropertyDescriptor(P.prototype,"handleConversationUpdate"),P.prototype),(0,s.default)(P.prototype,"handleLatestEventChange",[l.action],Object.getOwnPropertyDescriptor(P.prototype,"handleLatestEventChange"),P.prototype),(0,s.default)(P.prototype,"handleContainerInsert",[l.action],Object.getOwnPropertyDescriptor(P.prototype,"handleContainerInsert"),P.prototype),(0,s.default)(P.prototype,"scrollToNewMessages",[l.action],Object.getOwnPropertyDescriptor(P.prototype,"scrollToNewMessages"),P.prototype),P)
e.default=L;(0,r.setComponentTemplate)(j,L)}))
define("msg-ui/components/message-request-list-header-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"TeTPrx2D",block:'[[[10,0],[14,0,"msg-message-request-list-header-presenter p3"],[12],[1,"\\n  "],[10,0],[14,0,"visually-hidden"],[14,"aria-live","polite"],[12],[1,"\\n    "],[1,[52,[30,1],[28,[37,1],["i18n_a11y_declined_mesage_requests","msg-ui/components/message-request-list-header-presenter"],null],[28,[37,1],["i18n_a11y_message_requests","msg-ui/components/message-request-list-header-presenter"],null]]],[1,"\\n  "],[13],[1,"\\n  "],[10,"h4"],[14,0,"t-14 t-bold"],[12],[1,"\\n    "],[1,[52,[30,1],[28,[37,1],["i18n_declined_mesage_requests","msg-ui/components/message-request-list-header-presenter"],null],[28,[37,1],["i18n_message_requests","msg-ui/components/message-request-list-header-presenter"],null]]],[1,"\\n  "],[13],[1,"\\n  "],[10,2],[14,0,"t-12 pt1"],[12],[1,"\\n    "],[1,[52,[30,1],[28,[37,1],["i18n_declined_message_request_description","msg-ui/components/message-request-list-header-presenter"],null],[28,[37,1],["i18n_message_request_description","msg-ui/components/message-request-list-header-presenter"],null]]],[1,"\\n  "],[13],[1,"\\n  "],[11,"button"],[24,0,"msg-message-request-list-header-presenter__back-button t-14 t-bold pt1"],[24,4,"button"],[4,[38,2],["click",[30,2]],null],[4,[38,3],[[30,3]],null],[12],[1,"\\n    "],[1,[52,[30,1],[28,[37,1],["i18n_back_to_message_request_inbox","msg-ui/components/message-request-list-header-presenter"],null],[28,[37,1],["i18n_go_to_inbox","msg-ui/components/message-request-list-header-presenter"],null]]],[1,"\\n  "],[13],[1,"\\n"],[13]],["@isDeclinedList","@goBack","@trackingKey"],false,["if","t","on","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-ui/components/message-request-list-header-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/message-snippet",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/object"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.createTemplateFactory)({id:"A2T2rZ2j",block:'[[[1,"\\n"],[11,1],[17,1],[12],[1,"\\n"],[41,[30,2,["eventContent","recalledAt"]],[[[1,"    "],[1,[28,[35,1],["i18n_message_deleted","msg-ui/components/message-snippet"],null]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["eventContent","messageBodyRenderFormat"]],"SYSTEM"],null],[[[1,"    "],[1,[28,[35,3],[[30,2,["eventContent","attributedBody"]]],null]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["subtype"]],"PARTICIPANT_CHANGE"],null],[[[41,[30,2,["eventContent","addedParticipants","length"]],[[[1,"      "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n        "],[1,[28,[35,4],null,[["type","size","class"],["connect","small","msg-conversation-card__message-snippet-icon"]]]],[1,"\\n"],[41,[28,[37,2],[[30,2,["eventContent","addedParticipants","length"]],1],null],[[[41,[28,[37,2],[[30,2,["from","entityUrn"]],[30,2,["eventContent","addedParticipants","firstObject","entityUrn"]]],null],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_joined_conversation","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_other_user_joined_conversation","msg-ui/components/message-snippet"],[["usersName","joinedUserName"],[[30,2,["from","fullName"]],[28,[37,6],[[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_added_single_participant_to_conversation","msg-ui/components/message-snippet"],[["addedUserName"],[[28,[37,6],[[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]],[28,[37,1],["i18n_other_user_added_single_participant_to_conversation","msg-ui/components/message-snippet"],[["usersName","addedUserName"],[[30,2,["from","fullName"]],[28,[37,6],[[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]]]],[]],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_added_multiple_participants_to_conversation","msg-ui/components/message-snippet"],[["addedUserNames"],[[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null]]]],[28,[37,1],["i18n_other_user_added_multiple_participants_to_conversation","msg-ui/components/message-snippet"],[["usersName","addedUserNames"],[[30,2,["from","fullName"]],[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null]]]]]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["from","id"]],[30,2,["eventContent","removedParticipants","firstObject","id"]]],null],[[[1,"      "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n        "],[1,[28,[35,4],null,[["type","size","class"],["leave","small","msg-conversation-card__message-snippet-icon"]]]],[1,"\\n"],[41,[28,[37,2],[[30,2,["eventContent","removedParticipants","length"]],1],null],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_left_conversation","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_single_other_user_left_conversation","msg-ui/components/message-snippet"],[["removedUserName"],[[28,[37,6],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[1,"          "],[1,[28,[35,1],["i18n_multiple_other_users_left_conversation","msg-ui/components/message-snippet"],[["removedUserNames"],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null]]]]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n"]],[]],[[[41,[28,[37,5],[[30,2,["eventContent","removedParticipants","firstObject"]]],null],[[[1,"      "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n        "],[1,[28,[35,4],null,[["type","size","class"],["leave","small","msg-conversation-card__message-snippet-icon"]]]],[1,"\\n        "],[1,[28,[35,1],["i18n_you_were_removed","msg-ui/components/message-snippet"],[["removersName"],[[30,2,["from","name"]]]]]],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n        "],[1,[28,[35,4],null,[["type","size","class"],["leave","small","msg-conversation-card__message-snippet-icon"]]]],[1,"\\n"],[41,[28,[37,2],[[30,2,["eventContent","removedParticipants","length"]],1],null],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_removed_single_participant_from_conversation","msg-ui/components/message-snippet"],[["removedUserName"],[[28,[37,6],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]],[28,[37,1],["i18n_other_user_removedd_single_participant_from_conversation","msg-ui/components/message-snippet"],[["removersName","removedUserName"],[[30,2,["from","name"]],[28,[37,6],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_removed_multiple_participants_from_conversation","msg-ui/components/message-snippet"],[["removedUserNames"],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null]]]],[28,[37,1],["i18n_other_user_removed_multiple_participants_from_conversation","msg-ui/components/message-snippet"],[["removersName","removedUserNames"],[[30,2,["from","fullName"]],[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null]]]]]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n    "]],[]]]],[]]]],[]]]],[]],[[[41,[30,0,["shouldObfuscateMessage"]],[[[1,"    "],[1,[30,2,["obfuscatedMessageWarning","text"]]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,3,["latestEvent","subtype"]],"SPONSORED_INMAIL"],null],[[[1,"    "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,"\\n      "],[1,[52,[30,2,["eventContent","customContent","advertiserLabel"]],[28,[37,1],["i18n_spinmail_advertiser_label","msg-ui/components/message-snippet"],[["label"],[[30,2,["eventContent","customContent","advertiserLabel"]]]]],[28,[37,1],["i18n_spinmail_label","msg-ui/components/message-snippet"],null]]],[1,"\\n    "],[13],[1,"\\n    "],[1,[30,2,["eventContent","subject"]]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["subtype"]],"INMAIL"],null],[[[1,"    "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,[28,[35,1],["i18n_inmail_label","msg-ui/components/message-snippet"],null]],[13],[1,[52,[30,2,["eventContent","subject"]],[30,2,["eventContent","subject"]],[30,2,["eventContent","attributedBody","text"]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","customContent","forwardedContentType"]],[[[41,[28,[37,5],[[30,2,["from"]]],null],[[[1,"      "],[1,[28,[35,1],["i18n_you_forwarded","msg-ui/components/message-snippet"],null]],[1,"\\n"]],[]],[[[1,"      "],[1,[28,[35,1],["i18n_other_user_forwarded","msg-ui/components/message-snippet"],[["usersName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]],[1,"\\n"]],[]]]],[]],[[[1,"    "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n"],[41,[28,[37,9],[[30,3]],null],[[[1,"        "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,"\\n          "],[1,[52,[30,3,["sponsoredConversationMetadata","advertiserLabel"]],[28,[37,1],["i18n_spinmail_advertiser_label","msg-ui/components/message-snippet"],[["label"],[[30,3,["sponsoredConversationMetadata","advertiserLabel"]]]]],[28,[37,1],["i18n_spinmail_label","msg-ui/components/message-snippet"],null]]],[1,"\\n        "],[13],[1,"\\n        "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black pr1"],[12],[1,"\\n          "],[1,[30,2,["eventContent","attributedBody","text"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","attachments","length"]],[[[1,"          "],[1,[28,[35,4],null,[["type","size","class"],["attachment","small","msg-conversation-card__message-snippet-icon msg-conversation-card__message-snippet-icon--attachment"]]]],[1,"\\n          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_x_attachments","msg-ui/components/message-snippet"],[["count"],[[30,2,["eventContent","attachments","length"]]]]],[28,[37,1],["i18n_sender_sent_x_attachments_v2","msg-ui/components/message-snippet"],[["senderName","count"],[[28,[37,10],[[30,2,["from"]],"familiar"],null],[30,2,["eventContent","attachments","length"]]]]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","customContent","media"]],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_gif","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_gif","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","mediaAttachments"]],[[[41,[28,[37,2],[[30,2,["eventContent","mediaAttachments","firstObject","mediaType"]],"AUDIO"],null],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_voice_message","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_voice_message","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["eventContent","mediaAttachments","firstObject","mediaType"]],"VIDEO"],null],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_video","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_video","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_x_attachments","msg-ui/components/message-snippet"],[["count"],[[30,2,["eventContent","mediaAttachments","length"]]]]],[28,[37,1],["i18n_sender_sent_x_attachments_v2","msg-ui/components/message-snippet"],[["senderName","count"],[[28,[37,10],[[30,2,["from"]],"familiar"],null],[30,2,["eventContent","mediaAttachments","length"]]]]]]],[1,"\\n          "]],[]]]],[]]]],[]],[[[41,[30,0,["hasLocationSharePreview"]],[[[1,"          "],[1,[28,[35,4],null,[["type","size","class"],["location-marker","small","msg-conversation-card__message-snippet-icon msg-conversation-card__message-snippet-icon--location"]]]],[1,"\\n          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_location","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_location","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],[[[41,[30,0,["showStorySentSnippet"]],[[[41,[30,0,["showProfileVideoSnippet"]],[[[41,[28,[37,5],[[30,2,["from"]]],null],[[[1,"              "],[1,[28,[35,1],["i18n_you_sent_profile_video","msg-ui/components/message-snippet"],null]],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[35,1],["i18n_sent_you_profile_video","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]],[1,"\\n"]],[]]]],[]],[[[41,[28,[37,5],[[30,2,["from"]]],null],[[[1,"              "],[1,[28,[35,1],["i18n_you_sent_story","msg-ui/components/message-snippet"],null]],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[35,1],["i18n_sent_you_story","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]],[1,"\\n"]],[]]]],[]]]],[]],[[[41,[30,2,["eventContent","attributedBody","text"]],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_said_message","msg-ui/components/message-snippet"],[["body"],[[30,2,["eventContent","attributedBody","text"]]]]],[28,[37,1],["i18n_sender_said_message_v2","msg-ui/components/message-snippet"],[["senderName","body"],[[30,2,["from","familiarName"]],[30,2,["eventContent","attributedBody","text"]]]]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","sticker"]],[[[1,"              "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_sticker","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_sticker_v2","msg-ui/components/message-snippet"],[["senderName"],[[30,2,["from","familiarName"]]]]]]],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,2,["eventContent","feedUpdate"]]],null],[[[1,"                "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_share_content_v3","msg-ui/components/message-snippet"],[["shareContentType"],[[28,[37,11],[[30,2,["eventContent","feedUpdate"]]],null]]]],[28,[37,1],["i18n_sender_share_content_v3","msg-ui/components/message-snippet"],[["senderName","shareContentType"],[[30,2,["from","familiarName"]],[28,[37,11],[[30,2,["eventContent","feedUpdate"]]],null]]]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","digitalMediaConferenceUrn"]],[[[1,"                  "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_virtual_meeting","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sent_you_a_virtual_meeting","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],null]],[]]]],[]]]],[]]],[1,"        "]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"    "],[13],[1,"\\n  "]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[13]],["&attrs","@latestEvent","@conversation"],false,["if","t","global-helpers@eq","text-view-model@text-view-model","artdeco-icons-web@li-icon","msg-shared@is-current-user","get","msg-ui@extract-participant-names","global-helpers@name","msg-shared@is-sponsored-conversation","msg-shared@get-member-or-company-name","msg-shared@get-share-content-type"]]',moduleName:"msg-ui/components/message-snippet.hbs",isStrictMode:!1})
class a extends s.default{get hasLocationSharePreview(){return((0,i.get)(this.args,"latestEvent.eventContent.attributedBody.text")??"").startsWith("https://www.bing.com/maps?cp=")}get shouldObfuscateMessage(){return(0,i.get)(this.args,"latestEvent.obfuscatedMessageWarning")&&!(0,i.get)(this.args,"latestEvent.conversation.blocked")}get showStorySentSnippet(){return(0,i.get)(this.args,"latestEvent.eventContent.storyItemUrn")&&!(0,i.get)(this.args,"latestEvent.eventContent.replyToContent")}get showProfileVideoSnippet(){return(0,i.get)(this.args,"latestEvent.eventContent.storyItemProfileVideo")}}e.default=a;(0,t.setComponentTemplate)(r,a)}))
define("msg-ui/components/msg-edit-form/edit-message-footer-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service"],(function(e,t,n,s,i,r,a,o,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,m,u,p,g,h,f,v,b
const y=(0,a.createTemplateFactory)({id:"koZbA8rH",block:'[[[10,0],[14,0,"msg-edit-form"],[12],[1,"\\n  "],[8,[39,0],[[24,0,"msg-edit-form__base-form"]],[["@conversation","@prefilledMessage","@isMessageEditForm","@validateForm","@submitMessage"],[[30,1],[30,2],true,[30,0,["validateFormForEdits"]],[30,0,["onSaveEditedMessage"]]]],[["default"],[[[[1,"\\n"],[41,[30,5,["isOverCharLimit"]],[[[1,"      "],[8,[39,2],null,[["@isEditForm"],[true]],null],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"t-14 t-black pl3 pv2"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_edit_message","msg-ui/components/msg-edit-form/edit-message-footer-presenter"],null]],[1,"\\n    "],[13],[1,"\\n"],[41,[30,5,["showMentionsPicker"]],[[[1,"      "],[8,[30,3,["mentionsPickerPresenter"]],null,null,null],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"msg-edit-form__content-container ph3"],[12],[1,"\\n      "],[8,[30,3,["messageContentContainerPresenter"]],[[24,0,"msg-form__message-texteditor msg-edit-form__message-texteditor relative flex-grow-1 display-flex"]],[["@expandButtonSize"],[1]],null],[1,"\\n    "],[13],[1,"\\n    "],[10,"footer"],[14,0,"msg-edit-form__footer flex-shrink-zero"],[12],[1,"\\n      "],[10,0],[14,0,"msg-form__left-actions display-flex"],[12],[1,"\\n        "],[8,[39,4],null,[["@bundle"],["emoji-picker"]],[["default"],[[[[1,"\\n"],[41,[30,6,["state","fulfilled"]],[[[1,"            "],[8,[39,5],null,[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[30,4,["updateTextarea"]],"msg_pillar_emoji",[30,4,["focusTextarea"]],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]],null],[1,"\\n"]],[]],null],[1,"        "]],[6]]]]],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[1,"\\n        "],[8,[39,6],null,[["@class","@controlType","@size","@type","@text","@click"],["msg-edit-form__dismiss-button","button",1,"secondary",[28,[37,3],["i18n_cancel_button","msg-ui/components/msg-edit-form/edit-message-footer-presenter"],null],[30,0,["onDismissForm"]]]],null],[1,"\\n        "],[8,[39,6],[[4,[38,7],[[30,7]],null]],[["@class","@controlType","@size","@text","@disabled"],["msg-edit-form__save-button ml1","submit",1,[28,[37,3],["i18n_save_button","msg-ui/components/msg-edit-form/edit-message-footer-presenter"],null],[52,[30,5,["enableSend"]],false,true]]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[3,4,5]]]]],[1,"\\n"],[13]],["@conversation","@prefilledMessage","components","actions","props","assetLoader","@saveEditControlName"],false,["msg-ui@msg-form/base-form-feature","if","msg-ui@msg-form/primitives/character-limit-banner","t","asset-loader@deferred-asset-loader","emoji-picker@emoji-hoverable","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-ui/components/msg-edit-form/edit-message-footer-presenter.hbs",isStrictMode:!1})
let _=(d=(0,c.inject)("msg-data@data-manager"),m=(0,c.inject)("persistent-toast-manager@persistent-toast-manager"),u=(0,c.inject)("i18n"),p=(0,c.inject)("lix"),g=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",h,this);(0,t.default)(this,"persistentToastManager",f,this);(0,t.default)(this,"i18n",v,this);(0,t.default)(this,"lix",b,this)}willDestroy(){super.willDestroy(...arguments);(0,l.set)(this.args.conversation,"_draftMessage",void 0)}_showEditErrorToast(e){const t=e||"i18n_edit_generic_error",n=this.i18n.lookupTranslation("components/msg-ui@msg-edit-form/edit-message-footer-presenter",t)()
this.persistentToastManager.error({message:n})}onSaveEditedMessage(e){const{eventCreatedAt:t,conversationUrn:n,eventUrn:s}=this.args.viewData
if(i=t,Date.now()-i>36e5)this._showEditErrorToast("i18n_edit_timebox_expired_error")
else{this.actions.onDismissForm.call(this)
n&&s&&e&&e.text||this._showEditErrorToast()
this.msgDataManager.editMessage(n,s,e).catch((e=>{this._showEditErrorToast()
throw e}))}var i}validateFormForEdits(e){return this.args.prefilledMessage!==e}onDismissForm(){(0,l.set)(this.args.conversation,"_draftMessage",void 0)
this.args.onDismissEditForm()}},h=(0,s.default)(g.prototype,"msgDataManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(g.prototype,"persistentToastManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(g.prototype,"i18n",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(g.prototype,"lix",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(g.prototype,"onSaveEditedMessage",[l.action],Object.getOwnPropertyDescriptor(g.prototype,"onSaveEditedMessage"),g.prototype),(0,s.default)(g.prototype,"validateFormForEdits",[l.action],Object.getOwnPropertyDescriptor(g.prototype,"validateFormForEdits"),g.prototype),(0,s.default)(g.prototype,"onDismissForm",[l.action],Object.getOwnPropertyDescriptor(g.prototype,"onDismissForm"),g.prototype),g)
e.default=_;(0,r.setComponentTemplate)(y,_)}))
define("msg-ui/components/msg-form/base-form-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","ember","@ember/utils","@ember/object","@ember/object/internals","@glimmer/component","@glimmer/tracking","@ember-decorators/object","global-utils/utils/api-compat","msg-shared/utils/constants","msg-ui/utils/send-typing-indicator","msg-ui/utils/attributed-text-manager","global-utils/utils/is-browser","msg-shared/utils/attachments-handler","rsvp","msg-shared/utils/decorate-attributed-body","ember-m3-pdsc-model-builder","global-helpers/helpers/load","ember-lifeline","@ember/runloop","msg-ui/viewdata/base-form-viewdata","msg-ui/utils/mentions-helper","tracked-toolbox","msg-ui/viewdata/sdk-base-form-viewdata","msg-data/utils/attributed-text-helpers","scaffold-sound/services/sound"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h,f,v,b,y,_,w,M,D,k,C,S,P,x,T,I,E,A){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var O,R,U,N,j,F,L,z,B,V,q,H,W,G,K,$,Y,Q,J,Z,X,ee,te,ne,se,ie,re,ae,oe,le,ce,de,me,ue,pe,ge,he,fe,ve,be,ye,_e,we,Me,De,ke,Ce,Se,Pe,xe,Te,Ie,Ee,Ae
const Oe=(0,a.createTemplateFactory)({id:"CW8ms+nP",block:'[[[11,"form"],[16,1,[29,[[30,0,["formId"]]]]],[16,0,[29,[[52,[30,1],"msg-form--is-fully-expanded"]," msg-form"]]],[17,2],[4,[38,1],["click",[30,0,["onClick"]]],null],[4,[38,1],["submit",[30,0,["onSubmit"]]],null],[4,[38,1],["change",[30,0,["onChange"]]],null],[4,[38,1],["focusout",[30,0,["onFocusOut"]]],null],[4,[38,2],[[30,0,["baseFormAfterInsert"]]],null],[4,[38,3],[[30,0,["checkForReset"]],[30,3],[30,4],[30,5],[30,6],[30,7],[30,8],[30,9],[30,10],[30,11],[30,12],[30,13],[30,14],[30,15],[30,16],[30,17],[30,18],[30,19]],null],[12],[1,"\\n"],[41,[48,[30,21]],[[[1,"    "],[18,21,[[28,[37,6],null,[["uploadedAttachmentListPresenter","uploadAttachmentPresenter","attachmentDragAndDropPresenter","attachmentDragAndDropErrorPresenter","messageContentContainerPresenter","mentionsPickerPresenter","sendControlsPresenter","sendModeTogglePresenter","inmailCreditsPresenter","mentionToInviteToastPresenter"],[[50,"msg-ui@rich-media/uploaded-attachment-list-presenter",0,null,[["attachments","removeAttachment"],[[30,0,["attachments"]],[30,0,["removeAttachment"]]]]],[50,"msg-ui@msg-form/primitives/upload-attachment-presenter",0,null,[["addAttachment","attachmentAdded","beforeUpload","afterUpload","triggerDragAndDropLayer"],[[30,0,["addAttachment"]],[30,0,["onAttachmentAdded"]],[30,0,["onBeforeUpload"]],[30,0,["onAttachmentAdded"]],[30,0,["triggerDragAndDropLayer"]]]]],[50,"msg-ui@rich-media/attachment-drag-and-drop-presenter",0,null,[["showUserEducationLayer","addAttachment","beforeUpload","afterUpload","onError"],[[30,0,["showDragAndDropUserEducationLayer"]],[30,0,["addAttachment"]],[30,0,["onBeforeUpload"]],[30,0,["afterDragAndDropUpload"]],[30,0,["handleAttachmentDropError"]]]]],[50,"msg-ui@rich-media/attachment-drag-and-drop-error-presenter",0,null,[["errorType","dismissError"],[[30,0,["attachmentDropErrorType"]],[30,0,["dismissAttachmentDropError"]]]]],[50,"msg-ui@msg-form/primitives/msg-content-container-presenter",0,null,[["forwardedMessageViewData","overridePlaceholder","showPlaceholder","handleKeyDown","messageSendInProgress"],[[30,0,["viewData","forwardedMessageViewData"]],[30,0,["_overridePlaceholder"]],[30,0,["showPlaceholder"]],[30,0,["onTextEditorKeyDown"]],[30,0,["messageSendInProgress"]]]]],[50,"msg-mentions@mentions-picker-presenter",0,null,[["viewData","mentionsTopPosition","mentionAll","showMentionAllOption","isTabbingThroughMentions","onKeyDown","selectMentionWithKeyDown","selectMention","closeMentions"],[[30,0,["viewData","mentionsPickerViewData"]],[30,0,["mentionsTopPosition"]],[30,0,["mentionAll"]],[30,0,["showMentionAllOption"]],[30,0,["isTabbingThroughMentions"]],[30,0,["onMentionsPickerKeyDown"]],[30,0,["selectMentionWithKeyDown"]],[30,0,["selectMention"]],[30,0,["closeMentions"]]]]],[50,"msg-ui@msg-form/primitives/send-controls-presenter",0,null,[["enableSend"],[[30,0,["enableSend"]]]]],[50,"msg-ui@msg-form/primitives/send-mode-toggle-presenter",0,null,null],[50,"msg-conversation-ui@inmail-credits-presenter",0,null,null],[50,"msg-mentions@mention-to-invite-toast-presenter",0,null,[["viewData","membersToInvite","onToastDismiss"],[[30,0,["viewData","mentionToInviteToastViewData"]],[30,0,["membersToInvite"]],[30,0,["onMentionToInviteDismiss"]]]]]]]],[28,[37,8],null,[["beforeUpload","validateForm","attachmentAdded","focusTextarea","addAttachment","updateTextarea","updateTextareaWithEmoji","focusComposeAfterEmojiPickerClose","handleGIFSend","toggleExpandComposeField","onSubmit","setEnterToSendSetting"],[[30,0,["onBeforeUpload"]],[30,0,["onValidateForm"]],[30,0,["onAttachmentAdded"]],[30,0,["focusTextarea"]],[30,0,["addAttachment"]],[30,0,["updateTextarea"]],[30,0,["updateTextareaWithEmoji"]],[30,0,["focusComposeAfterEmojiPickerClose"]],[30,0,["handleGIFSend"]],[30,20],[30,0,["onSubmit"]],[30,0,["setEnterToSendSetting"]]]]],[28,[37,8],null,[["attributedTextModel","showMentionsPicker","showMiniAttachmentPreviews","attachments","overridePlaceholder","showPlaceholder","isValidForm","isOverCharLimit","pressEnterToSend","isNotInmail","supportedFileAttachmentTypes","supportedImageAttachmentTypes","attachmentDropErrorType","enableSend","subjectDisplay"],[[30,0,["attributedTextModel"]],[30,0,["showMentionsPicker"]],[30,0,["showMiniAttachmentPreviews"]],[30,0,["attachments"]],[30,0,["_overridePlaceholder"]],[30,0,["showPlaceholder"]],[30,0,["isValidForm"]],[30,0,["isOverCharLimit"]],[30,0,["messagingUserSettings","pressEnterToSend"]],[30,0,["isNotInmail"]],[30,0,["supportedFileAttachmentTypes"]],[30,0,["supportedImageAttachmentTypes"]],[30,0,["attachmentDropErrorType"]],[30,0,["enableSend"]],[30,0,["subjectDisplay"]]]]]]],[1,"\\n"]],[]],null],[13]],["@composeIsFullyExpanded","&attrs","@id","@bubbleId","@messageContext","@contextByRecipients","@conversation","@hasResharedContent","@externallyValid","@forwardedEvent","@msgAdapterOptions","@overridePlaceholder","@prefilledAttachments","@prefilledMessage","@subject","@update","@smpContent","@updateFormState","@validateForm","@toggleExpandComposeField","&default"],false,["if","on","did-insert","did-update","has-block","yield","global-helpers@lazy-hash","component","hash"]]',moduleName:"msg-ui/components/msg-form/base-form-feature.hbs",isStrictMode:!1}),{CONTROL_NAMES:{MENTIONS:{OPEN_DROPDOWN:Re,SELECT_MENTION:Ue}},KEYCODES:{TAB:Ne,ENTER:je,ESC:Fe,SPACEBAR:Le,UP_ARROW:ze,DOWN_ARROW:Be,Z:Ve},MESSAGING_REALTIME:{STILL_TYPING_TIMEOUT:qe}}=f.default,He=/(?:^|\s)([@](?:\S+\s)?(?:\S+\s)?\S*$)/
let We=(O=(0,o.inject)("i18n"),R=(0,o.inject)("jet"),U=(0,o.inject)("lix"),N=(0,o.inject)("msg-data@data-manager"),j=(0,o.inject)("store"),F=(0,o.inject)("tracking"),L=(0,o.inject)("formatter"),z=(0,o.inject)("vector@vector-upload"),B=(0,o.inject)("msg-ui@update-message-compose"),V=(0,o.inject)("profile-services@identity-store"),q=(0,o.inject)("global-services@local-storage"),H=(0,o.inject)("authentication@authenticated-user"),W=(0,o.inject)("msg-shared@messaging-user-settings"),G=(0,o.inject)("global-services@window"),K=(0,o.inject)("scaffold-sound@sound"),$=(0,o.inject)("router"),Y=(0,o.inject)("persistent-toast-manager@persistent-toast-manager"),Q=(0,o.inject)("presence@presence-api"),J=(0,g.on)("updateMessageCompose"),Z=(0,g.on)("focusMessageCompose"),X=class extends u.default{get showPlaceholder(){return!(0,d.get)(this,"attributedTextModel.text")}get showMiniAttachmentPreviews(){const{composeIsFullyExpanded:e,isInMailCompose:t}=this.args
return e&&!t}get formElement(){return y.default?document.getElementById(this.formId):null}get subjectDisplay(){var e
return(null===(e=this.args.subject)||void 0===e?void 0:e.string)||this.args.subject||""}set subjectDisplay(e){this.subjectDisplay=e
return e}get isNotInmail(){return!(this.args.isInMailCompose||this.viewData.isInMailConversation)}get hasNewConversationMessageInFlight(){var e
return(null===(e=this.messageSendRequest)||void 0===e?void 0:e.isLoading)&&!this.args.conversation}get enableSend(){return this.isValidForm&&!this.hasNewConversationMessageInFlight}constructor(){var e
super(...arguments);(0,n.default)(this,"pageKey","flagship3_messaging_msg_form");(0,n.default)(this,"rumComponentId","messaging/base-form");(0,t.default)(this,"i18n",ee,this);(0,t.default)(this,"jet",te,this);(0,t.default)(this,"lix",ne,this);(0,t.default)(this,"msgDataManager",se,this);(0,t.default)(this,"store",ie,this);(0,t.default)(this,"tracking",re,this);(0,t.default)(this,"formatter",ae,this);(0,t.default)(this,"vectorUpload",oe,this);(0,t.default)(this,"updateMessageComposeService",le,this);(0,t.default)(this,"identityStore",ce,this);(0,t.default)(this,"ls",de,this);(0,t.default)(this,"authenticatedUser",me,this);(0,t.default)(this,"messagingUserSettings",ue,this);(0,t.default)(this,"windowService",pe,this);(0,t.default)(this,"sound",ge,this);(0,t.default)(this,"router",he,this);(0,t.default)(this,"persistentToastManager",fe,this);(0,t.default)(this,"presenceAPI",ve,this);(0,t.default)(this,"attributedTextModel",be,this);(0,t.default)(this,"mentionsTopPosition",ye,this);(0,t.default)(this,"messageSendRequest",_e,this);(0,t.default)(this,"isTabbingThroughMentions",we,this);(0,t.default)(this,"isValidForm",Me,this);(0,t.default)(this,"isOverCharLimit",De,this);(0,t.default)(this,"conversationMentions",ke,this);(0,t.default)(this,"connectionMentionData",Ce,this);(0,t.default)(this,"showMentionAllOption",Se,this);(0,t.default)(this,"showDragAndDropUserEducationLayer",Pe,this);(0,t.default)(this,"attachmentDropErrorType",xe,this);(0,t.default)(this,"attachments",Te,this);(0,t.default)(this,"messageSendInProgress",Ie,this);(0,t.default)(this,"membersToInvite",Ee,this);(0,t.default)(this,"mentionAll",Ae,this);(0,n.default)(this,"renderContent",[]);(0,n.default)(this,"lastSeenTyping",0);(0,n.default)(this,"supportedFileAttachmentTypes","image/*,.ai,.psd,.pdf,.doc,.docx,.csv,.zip,.rar,.ppt,.pptx,.pps,.ppsx,.odt,.rtf,.xls,.xlsx,.txt,.pub,.html,.7z,.eml");(0,n.default)(this,"supportedImageAttachmentTypes","image/*")
const{id:s,isOverlay:i,beforeUpload:r,conversation:a,overridePlaceholder:o,prefilledAttachments:l}=this.args
this._overridePlaceholder=o
this.attachments=l||[]
this.attachments&&this.msgDataManager.msgSDKEnabled&&this.renderContent.push(...this.attachments)
this.attachmentsHandler=new _.default({beforeUpload:r,vectorUpload:this.vectorUpload,afterUpload:this._attachmentAdded.bind(this),tracking:this.tracking,jet:this.jet,updateUI:this._addAttachment.bind(this)})
this.formId=s||`base-form-${(0,m.guidFor)(this)}`
this.oldConvo=a
this.oldConvoId=this.viewData.conversationId
this.AttributedTextManager=new b.default
const c=(null===(e=this.args.prefilledMessage)||void 0===e?void 0:e.string)||this.args.prefilledMessage||(0,d.get)(this.args,"conversation._draftMessage")
if(c)if(this.args.isMessageEditForm&&"object"==typeof c&&(0,d.get)(c,"text")){const e=(0,M.default)(c,(0,d.get)(c,"text"),{url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")})
let t=0
e.forEach((e=>{if(e.mention){const n=this._getMentionsEntityByAttributeChunk(e)
n&&this.AttributedTextManager.insertAttribute({entity:n,entityUrn:e.entityUrn,match:{start:t,length:e.value.length,text:e.value},tokenSelection:{start:t,end:t+e.value.length},type:(0,D.buildModel)("com.linkedin.pemberly.text.Entity",{urn:e.entityUrn,type:"Entity"})})}else this.AttributedTextManager.insertText(e.value,{start:t,end:t})
t+=e.value.length}))}else this.AttributedTextManager.insertText(c,{start:0,end:0})
this._validateForm()
i&&(this.bubbleId=this.args.bubbleId)
this.updateMessageComposeService.setBaseFormSubscriber(this,i)}_toggleExpandComposeField(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
"function"==typeof this.args.toggleExpandComposeField&&this.args.toggleExpandComposeField(e)}_constructfileAttachment(e){return{assetUrn:e.id,byteSize:e.byteSize,mediaType:e.mediaType,name:e.name,url:e.reference}}_constructExternalMedia(e){const t=(0,d.get)(e,"id")
return{entityUrn:this.msgDataManager.enableGraphQLGifSearch?t:`urn:li:msg_externalMedia:${(0,d.get)(e,"id")}`,title:(0,d.get)(e,"title"),media:(0,d.get)(e,"media.gif"),previewMedia:(0,d.get)(e,"media.previewMedia")}}onClick(e){const t=this._getMessageTextEditor()
t.contains(e.target)&&this.AttributedTextManager.correctClickPosition(t)}onChange(){this._validateForm()}onSubmit(e){return this._onSubmit(e)}onReSubmit(e){return this._onReSubmit(e)}checkForReset(){const{oldConvoId:e}=this,t=this.viewData.conversationId
if(e&&e!==t){const e=this.AttributedTextManager.getModel().text
e&&(0,d.set)(this.oldConvo,"_draftMessage",e)
this._resetForm()
this.oldConvo=this.args.conversation
this.oldConvoId=this.viewData.conversationId}this._validateForm()}willDestroy(){super.willDestroy(...arguments)
this.updateMessageComposeService.removeBaseFormSubscriber(this,this.args.isOverlay)}updateMessageComposeFromService(e){this._updateTextarea(e)}focusMessageComposeFromService(){this._focusTextarea()}shouldSubmitMessage(e){const{keyCode:t,metaKey:n,ctrlKey:s,shiftKey:i,altKey:r}=e
if(t===je){if(this.messagingUserSettings.pressEnterToSend&&!this.args.isInMailCompose)return!(i||r||n||s)
if(n||s)return!0}return!1}_attachmentAdded(){this._validateForm()
if(this.msgDataManager.msgSDKEnabled){const{conversationUrn:e}=this.viewData,t=this.msgDataManager.getMailboxByConversationUrn(e),n={text:this.AttributedTextManager.getModel().text}
this.renderContent.push(...this.attachments.map((e=>({file:this._constructfileAttachment(e)}))))
const s={renderContent:this.renderContent}
t.updateDraftMessage(e,n,s)}}_addAttachment(e){this.attachments.pushObject(e)}_updateTextarea(e){const t=(0,c.isPresent)(this._lastCursorPosition)?this._lastCursorPosition:this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),y.default)
this.AttributedTextManager.insertText(e,t)
this.updateAttributedTextModel()
this._focusTextarea()
this._validateForm()}_playSound(e){A.Sound[e]&&this.sound.play(A.Sound[e])}_onSubmit(e){e.preventDefault()
this.viewData.isGroupChatWithAddParticipantFeature&&this._handleMentionToInvite()
const t=this._constructAttributedBody(this.msgDataManager.msgSDKEnabled?this.viewData.conversationUrn:void 0)
let n
if(this.args.isMessageEditForm)n=this.args.submitMessage(t)
else{if(!this._validateForm())return w.Promise.reject()
const e={message:(0,d.get)(t,"text"),conversationUrn:this.viewData.conversationUrn,contextByRecipients:this.args.contextByRecipients,attributedBody:t,attachments:(this.attachments??[]).rejectBy("isError"),messageReplyType:this.viewData.messageReplyType,adapterOptions:this.args.msgAdapterOptions}
if(this.args.messageContext){e.contextEntityUrn=this.args.messageContext.contextEntityUrn
e.contextText=this.args.messageContext.contextText}const s=this.viewData.isReplyDisabled&&this.viewData.isInMail,i=this.viewData.isRecruiterInmail;(s||i)&&this._setupInmailResponseActionPayload(e)
this.args.isInMailCompose&&(e.subject=this.subjectDisplay)
this.args.smpContent&&(e.smpContent=this.args.smpContent)
this.args.update&&(e.update={id:(0,d.get)(this.args,"update.id"),type:(0,h.classNameOf)(this.args.update)})
this.messageSendInProgress=!0
const r=!!this.args.conversation&&!!(0,d.get)(this.args.conversation,"entityUrn")
r&&(this.delayedReset=(0,S.later)((()=>{this._resetForm(!0)
this.messageSendInProgress=!1
this._playSound(A.Sound.MessageSent)}),400))
this.msgDataManager.msgSDKEnabled&&(e.attachments=this.attachments.map((e=>({file:this._constructfileAttachment(e)}))))
n=this.args.submitMessage(e).then((()=>{if(!r&&!this.isDestroying){this.messageSendInProgress=!1
this._playSound(A.Sound.MessageSent)
this._resetForm(!0)}}))}this.messageSendRequest=(0,k.load)(n)
return this.messageSendRequest}baseFormAfterInsert(){const e=this._getMessageTextEditor();(0,C.addEventListener)(this,this.formElement,"paste",(t=>{e&&e.contains(t.target)&&this._handlePasteEvent(t)}));(0,C.addEventListener)(this,this.formElement,"input",(t=>{e&&e.contains(t.target)&&this._onTextEditorChange(t)}))
const t=""!==this.AttributedTextManager.getModel().text.trim()
this.updateAttributedTextModel(t)
this._validateForm()}onFocusOut(e){if(e.target.classList.contains("msg-form__contenteditable")){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),y.default)
this._lastCursorPosition=e
this.AttributedTextManager.updateModelCursorPosition(e.start)}}_constructAttributedBody(e){this.AttributedTextManager.removeMentionInProgress()
const t=this.AttributedTextManager.getModel()
let{attributes:n}=t
n=e?(0,E.createMentionAttributesWithAttributedKind)(t,e):t.attributes.map((e=>{delete e.entity
return e}))
return{text:((0,d.get)(t,"text")??"").trim(),attributes:n}}getMentionedMembers(){return this.AttributedTextManager.getModel().attributes.filter((e=>{var t
return e.urn&&(null===(t=this.mentionAll)||void 0===t?void 0:t.entityUrn)!==e.urn})).map((e=>this.AttributedTextManager.EntityMap[e.urn]))}onBeforeUpload(e){let{attachment:t,isPasteEvent:n}=e
this.args.beforeUpload({attachment:t,isPasteEvent:n})
this.disableForm()}updateTextarea(e){let{body:t}=e
this._updateTextarea(t)}updateTextareaWithEmoji(e){let{body:t,triggerData:n}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({bubbleId:n.bubbleId,isOverlay:this.args.isOverlay,messageText:t})
this.msgDataManager.msgSDKEnabled&&this._updateDraftMessageForConversation(this.viewData.conversationUrn,this.AttributedTextManager.getModel())}focusComposeAfterEmojiPickerClose(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.updateMessageComposeService.triggerFocusMessageCompose({bubbleId:e.bubbleId,isOverlay:this.args.isOverlay})}disableForm(){this.isValidForm=!1}handleGIFSend(e){this.msgDataManager.msgSDKEnabled?this.messageSendRequest=(0,k.load)(this.args.sendGif(this._constructExternalMedia(e))):this.messageSendRequest=(0,k.load)(this.args.submitMessage({gif:e,conversationUrn:this.viewData.conversationUrn,message:"",messageReplyType:this.viewData.messageReplyType},!1).then((()=>{this.isDestroying||this._toggleExpandComposeField(!1)})))
return this.messageSendRequest.then((()=>this._playSound(A.Sound.MessageSent)))}handleAttachmentDropError(e){this.attachmentDropErrorType=e
this._toggleExpandComposeField(!1)}dismissAttachmentDropError(){this.attachmentDropErrorType=""}onValidateForm(){this._validateForm()}onAttachmentAdded(){this._attachmentAdded()}afterDragAndDropUpload(){this._attachmentAdded()
this._focusTextarea()}focusTextarea(){this._focusTextarea()}addAttachment(e){this._addAttachment(e)}removeAttachment(e){this.attachments.removeObject(e)
const t=this.renderContent.filter((t=>t.file.assetUrn===e.id))
this.renderContent.removeObject(t[0])
this._validateForm()}overridePlaceholderValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
this._overridePlaceholder=e}onMentionsPickerKeyDown(e){if(!this.showMentionsPicker)return
e.preventDefault()
const{keyCode:t}=e
switch(t){case Fe:this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()
break
case Be:this._arrowThroughDropdown(e,!1)
break
case ze:this._arrowThroughDropdown(e,!0)
break
case Ne:this._arrowThroughDropdown(e,e.shiftKey)}}onTextEditorKeyDown(e){if(this.messageSendInProgress){(0,S.cancel)(this.delayedReset)
this._resetForm(!0)
this.messageSendInProgress=!1}const{keyCode:t,shiftKey:n,ctrlKey:s,metaKey:i}=e,r=this._getMessageTextEditor(),a=this.AttributedTextManager.getCaretPosition(r)
switch(t){case Ve:if(s||i){e.preventDefault()
this.AttributedTextManager.handleUndoRedo(e)
this.updateAttributedTextModel()}break
case Fe:if(this.showMentionsPicker){this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()}break
case Be:this.showMentionsPicker&&this._arrowThroughDropdown(e,!1)
break
case ze:this.showMentionsPicker&&this._arrowThroughDropdown(e,!0)
break
case Ne:this.showMentionsPicker&&this._arrowThroughDropdown(e,n)
break
case je:if(this.showMentionsPicker&&this._getCurrentMentionValue()){const t=this.showMentionAllOption?this.mentionAll:(0,d.get)(this,"conversationMentions.firstObject.editorAttribute")||(0,d.get)(this,"viewData.connectionMentions.firstObject.editorAttribute")
if(t){e.stopPropagation()
e.preventDefault()
this._selectAndAddMention(t)
this._closeMentionsDropdownUI()
break}}if(e.target!==r)break
if(this.shouldSubmitMessage(e)){this._onSubmit(e)
break}e.preventDefault()
this.AttributedTextManager.insertText("\n",a)
this.updateAttributedTextModel()
this._scrollToCaretPosition()}}selectMentionWithKeyDown(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(t.keyCode===je||t.keyCode===Le){t.stopPropagation()
t.preventDefault()
this._selectAndAddMention(e)}}selectMention(e){this._selectAndAddMention(e)}closeMentions(){this._closeMentionsDropdownUI()}triggerDragAndDropLayer(e){this.showDragAndDropUserEducationLayer=e}_selectAndAddMention(e){this.tracking.fireInteractionEvent(Ue,"SHORT_PRESS")
this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute(e)
this.updateAttributedTextModel(!0,!0)
this._closeMentionsDropdownUI()}_sendTypingIndicator(){const e=this.viewData.conversationId
e&&(0,v.default)(e,this.store,this.windowService)}_getMessageTextEditor(){return this.formElement.querySelector(".msg-form__contenteditable")}_getComposeScrollableArea(){return this.formElement.querySelector(".msg-form__msg-content-container--scrollable")}_focusTextarea(){const e=this._getMessageTextEditor()
""!==this.AttributedTextManager.getModel().text.trim()&&this.setCaretPosition()
e&&e.focus()}_resetForm(e){let t
if(e){t=""
this.args.conversation&&(0,d.get)(this.args,"conversation._draftMessage")&&(0,d.set)(this.args,"conversation._draftMessage",void 0)}else t=(0,d.get)(this.args,"conversation._draftMessage")||""
this.isValidForm=!1
this.attachments=[]
this.renderContent=[]
this._closeMentionsDropdownUI()
this.AttributedTextManager.resetModel()
this._lastCursorPosition=null
t&&this.AttributedTextManager.insertText(t,{start:0,end:0})
this.formElement&&this.updateAttributedTextModel()
this._updateFormState()
this.attachmentDropErrorType=""
this._overridePlaceholder=null
this._toggleExpandComposeField(!1)}_updateFormState(){var e,t
const n=(0,d.get)(this,"attributedTextModel.text")
null===(e=(t=this.args).updateFormState)||void 0===e||e.call(t,n)}_validateForm(){const e=this.attachments||[],t=e.filter((e=>{let{isUploading:t,isError:n}=e
return t||n})),n=(0,d.get)(this,"attributedTextModel.text")
if((null==n?void 0:n.length)>=8e3){this.isValidForm=!1
this.isOverCharLimit=!0
return!1}this.isOverCharLimit=!1
let s=((0,c.isPresent)(n)||!this.args.isInMailCompose&&(e.length>0||this.args.update||this.args.forwardedEvent))&&0===t.length
if(this.args.validateForm){var i
const e=null===(i=this.subjectDisplay)||void 0===i?void 0:i.trim()
s=s&&this.args.validateForm(n,e)}const r=this.args.externallyValid;(0,c.isPresent)(r)&&(s=s&&r)
this.isValidForm=s
return!this.hasNewConversationMessageInFlight&&!!s}_setupInmailResponseActionPayload(e){const{isInMail:t,inmailProductType:n}=this.viewData
e.inMailResponseAction=!t||"RECRUITER"!==n&&"SALES"!==n?"ACCEPT":"NONE"}_handlePasteEvent(e){let{clipboardData:t}=e
if(t){const{files:n}=t
if(n&&n.length&&t.types&&t.types.length<3&&t.types.includes("Files")){e.preventDefault()
if(this.args.hasResharedContent||(0,d.get)(this.args,"messageContext.contextEntityUrn"))return
const[t]=n
t.type.match(/image/)&&this.attachmentsHandler.uploadAttachment(t,!0)
return}}e.preventDefault()
t&&t.getData?t=t.getData("text/plain"):y.default&&(t=window.clipboardData.getData("Text"))
const n=t.replace(/(\r\n|\n\r|\r)/g,"\n"),s=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),y.default)
this.AttributedTextManager.insertText(n,s)
this.updateAttributedTextModel()
if(this.msgDataManager.msgSDKEnabled)this._updateDraftMessageForConversation(this.viewData.conversationUrn,this.AttributedTextManager.getModel())
else if(this.args.conversation){const e=this.AttributedTextManager.getModel().text;(0,d.set)(this.args,"conversation._draftMessage",e)}this._validateForm()
this._updateFormState()}_onTextEditorChange(){const e=this._getMessageTextEditor()
this.AttributedTextManager.updateModelFromHTML(e)
this.updateAttributedTextModel()
if(this.msgDataManager.msgSDKEnabled)this._updateDraftMessageForConversation(this.viewData.conversationUrn,this.AttributedTextManager.getModel(),{renderContent:this.renderContent})
else if(this.args.conversation){const e=this.AttributedTextManager.getModel().text;(0,d.set)(this.args,"conversation._draftMessage",e)}this._triggerMentionDropdown();(0,C.debounceTask)(this,"_validateForm",150);(0,C.debounceTask)(this,"_updateFormState",150)
if(!this.msgDataManager.msgSDKEnabled){const e=Date.now()
if(e-this.lastSeenTyping>qe){this.lastSeenTyping=e
this._sendTypingIndicator()}}}updateAttributedTextModel(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const n=this.AttributedTextManager.getModel()
this.attributedTextModel=n
this.msgDataManager.msgSDKEnabled&&t&&this._updateDraftMessageForConversation(this.viewData.conversationUrn,n,{renderContent:this.renderContent})
if(this.AttributedTextManager.didAttributesChange){const t=this._getMessageTextEditor(),n=this.AttributedTextManager.createHTMLFromModel()
jSecure.setElementContent(t,n)
e&&this.setCaretPosition()}}setCaretPosition(e){const t=this.AttributedTextManager.getModel(),n=this._getMessageTextEditor()
this.AttributedTextManager.setCaretPosition(e||t.cursor,n)}_arrowThroughDropdown(e,t){e.stopPropagation()
e.preventDefault()
const n=this.formElement.querySelector("[data-mentions-picker]"),s=this.formElement.querySelectorAll("[data-mentions-picker-option]"),i=this.formElement.querySelector("[data-mentions-picker-option]:focus")
let r
if(i){r=Array.from(s).indexOf(i)
r=t?--r:++r}else r=t?s.length-1:1
if(s[r]&&r>0){s[r].focus()
this.isTabbingThroughMentions=!0}else{n.scrollTop=0
this._focusTextarea()
this.isTabbingThroughMentions=!1}}_getCurrentMentionValue(){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor())
return(this.AttributedTextManager.getTextBeforeCursor(e).match(He)||[])[1]||""}_getCurrentMentionQuery(){return this._getCurrentMentionValue().substr(1).trim()}_triggerMentionDropdown(){const{start:e,end:t}=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor())
if(t!==e||this.AttributedTextManager.mentionAtPosition(t))return
const n=this._getCurrentMentionValue()
if((0,c.isPresent)(n)){const e=t-n.length,s=this._getCurrentMentionQuery()
this._fetchConversationMentions(s,{start:e,end:t})
if(s){const n=l.default.testing?0:100;(0,C.debounceTask)(this,"_fetchConnectionMentions",s,{start:e,end:t},n)}else this.tracking.fireInteractionEvent(Re,"KEYBOARD_SUBMIT")
this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute({mentionInProgress:!0,match:{start:e,length:n.length,text:n},tokenSelection:{start:e,end:t}})
this._setMentionsDropdownPosition()}else this._closeMentionsDropdownUI()
this.updateAttributedTextModel()}_getMentionsEntityByAttributeChunk(e){const t=this.viewData.conversationParticipants,{entityUrn:n}=e,s=t.findBy("entity.entityUrn",n)
return(null==s?void 0:s.entity)||void 0}_fetchConversationMentions(e,t){const n=this.viewData.conversationParticipants.filter((t=>t.fullName.toLowerCase().indexOf(e.toLowerCase())>=0)).map(((e,n)=>{const{profile:s,fullName:i,entity:r}=e,a=`@${i}`
return{mentionedMemberProfile:s,editorAttribute:{index:n,tokenSelection:t,entity:r,entityUrn:r.entityUrn,match:{start:t.start,length:a.length,text:a}}}})),s=this.i18n.lookupTranslation("components/msg-ui@msg-form/base-form-feature","i18n_mention_all")()
if(this._shouldShowMentionAllOption(e,s)){const e=this._createMentionAllEntity(t,s)
this.mentionAll=e
this.showMentionAllOption=!0}else this.showMentionAllOption=!1
this.conversationMentions=n}_createMentionAllEntity(e,t){const n=this.viewData.conversationUrn,s={firstName:t,lastName:"",entityUrn:n}
return d.default.create({tokenSelection:e,entity:s,entityUrn:n,match:{length:t.length+1,start:e.start,text:`@${t}`}})}_shouldShowMentionAllOption(e,t){return this.viewData.isGroupChat&&t.toLowerCase().includes(e.toLowerCase())}_fetchConnectionMentions(e,t){return this.msgDataManager.fetchTypeaheadResults(e).then((n=>{this.isDestroying||e===this._getCurrentMentionQuery()&&(this.connectionMentionData={typeaheadResults:n,tokenSelection:t})}))}_closeMentionsDropdownUI(){if(this.showMentionsPicker){this.AttributedTextManager.removeMentionInProgress()
this.mentionsTopPosition=!1
this.connectionMentionData=null
this.conversationMentions=[]
this.isTabbingThroughMentions=!1}}_setMentionsDropdownPosition(){if(!y.default)return
if(!this.args.composeIsFullyExpanded){const e=this.formElement.offsetHeight
this.mentionsTopPosition=`bottom: ${e}px`
return}const e=this._getCaretParentOffsets()
if(e){const t=20,n=this.formElement.querySelector(".msg-form__footer").offsetHeight,{scrollTop:s,offsetHeight:i}=this._getMessageTextEditor(),{caretParentOffsetTop:r,caretParentOffsetHeight:a}=e
let o=Math.round(a+r+4-s)
o+=this.formElement.offsetTop
let l="auto"
if(o>130){l=`${Math.round(i-r-a+n+t+s+4)}px`
o="auto"}else o=`${o}px`
this.mentionsTopPosition=`top: ${o}; bottom: ${l};`}}_scrollToCaretPosition(){const e=this._getCaretParentOffsets()
if(e){const{caretParentOffsetTop:t,caretParentOffsetHeight:n}=e,s=t+n,i=this._getComposeScrollableArea(),{scrollTop:r,offsetHeight:a}=i
s>r+a?i.scrollTop=s-a:t<r&&(i.scrollTop=t)}}_updateDraftMessageForConversation(e,t,n){const s=this.msgDataManager.getMailboxByConversationUrn(e),i={text:t.text,attributes:(0,E.createMentionAttributesWithAttributedKind)(t,e)}
null==s||s.updateDraftMessage(e,i,n)}_getCaretParentOffsets(){const e=this._getMessageTextEditor(),t=e.ownerDocument||e.document,n=t.defaultView||t.parentWindow
if(void 0!==n.getSelection){if(n.getSelection().rangeCount>0){const e=n.getSelection().getRangeAt(0),{offsetTop:t,offsetHeight:s}=e.commonAncestorContainer.parentNode
return{caretParentOffsetTop:t,caretParentOffsetHeight:s}}}}setEnterToSendSetting(e,t,n){e()
t()
return this.messagingUserSettings.saveEnterToSendSetting(n)}_handleMentionToInvite(){const e=this.getMentionedMembers()
if(!e||!this.args.conversation)return
const t=(0,x.getMembersToInviteByParticipants)(e,this.viewData.conversationParticipants);(0,c.isEmpty)(t)||(this.membersToInvite=t)}onMentionToInviteDismiss(){this.focusTextarea()
this.membersToInvite=null}get viewData(){if(this.msgDataManager.msgSDKEnabled){return new I.default({conversation:this.args.conversation,participants:this.msgDataManager.mailboxParticipants,formatter:this.formatter,conversationMentions:this.conversationMentions,connectionMentionData:this.connectionMentionData,forwardedMessage:this.args.forwardedEvent,i18n:this.i18n,presenceAPI:this.presenceAPI})}return new P.default({conversation:this.args.conversation&&(0,d.get)(this.args.conversation,"content"),conversationMentions:this.conversationMentions,connectionMentionData:this.connectionMentionData,forwardedEvent:this.args.forwardedEvent&&(0,d.get)(this.args.forwardedEvent,"content"),formatter:this.formatter,i18n:this.i18n,msgDataManager:this.msgDataManager,router:this.router})}get showMentionsPicker(){return this.conversationMentions.length||this.viewData.connectionMentions.length}},ee=(0,s.default)(X.prototype,"i18n",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,s.default)(X.prototype,"jet",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,s.default)(X.prototype,"lix",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,s.default)(X.prototype,"msgDataManager",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,s.default)(X.prototype,"store",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,s.default)(X.prototype,"tracking",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,s.default)(X.prototype,"formatter",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,s.default)(X.prototype,"vectorUpload",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,s.default)(X.prototype,"updateMessageComposeService",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,s.default)(X.prototype,"identityStore",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,s.default)(X.prototype,"ls",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,s.default)(X.prototype,"authenticatedUser",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,s.default)(X.prototype,"messagingUserSettings",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,s.default)(X.prototype,"windowService",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,s.default)(X.prototype,"sound",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,s.default)(X.prototype,"router",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,s.default)(X.prototype,"persistentToastManager",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,s.default)(X.prototype,"presenceAPI",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,s.default)(X.prototype,"attributedTextModel",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=(0,s.default)(X.prototype,"mentionsTopPosition",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_e=(0,s.default)(X.prototype,"messageSendRequest",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=(0,s.default)(X.prototype,"isTabbingThroughMentions",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Me=(0,s.default)(X.prototype,"isValidForm",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),De=(0,s.default)(X.prototype,"isOverCharLimit",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ke=(0,s.default)(X.prototype,"conversationMentions",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=(0,s.default)(X.prototype,"connectionMentionData",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=(0,s.default)(X.prototype,"showMentionAllOption",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=(0,s.default)(X.prototype,"showDragAndDropUserEducationLayer",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xe=(0,s.default)(X.prototype,"attachmentDropErrorType",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Te=(0,s.default)(X.prototype,"attachments",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=(0,s.default)(X.prototype,"messageSendInProgress",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,s.default)(X.prototype,"membersToInvite",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,s.default)(X.prototype,"mentionAll",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,s.default)(X.prototype,"onClick",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onClick"),X.prototype),(0,s.default)(X.prototype,"onChange",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onChange"),X.prototype),(0,s.default)(X.prototype,"onSubmit",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onSubmit"),X.prototype),(0,s.default)(X.prototype,"onReSubmit",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onReSubmit"),X.prototype),(0,s.default)(X.prototype,"checkForReset",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"checkForReset"),X.prototype),(0,s.default)(X.prototype,"updateMessageComposeFromService",[J],Object.getOwnPropertyDescriptor(X.prototype,"updateMessageComposeFromService"),X.prototype),(0,s.default)(X.prototype,"focusMessageComposeFromService",[Z],Object.getOwnPropertyDescriptor(X.prototype,"focusMessageComposeFromService"),X.prototype),(0,s.default)(X.prototype,"baseFormAfterInsert",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"baseFormAfterInsert"),X.prototype),(0,s.default)(X.prototype,"onFocusOut",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onFocusOut"),X.prototype),(0,s.default)(X.prototype,"onBeforeUpload",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onBeforeUpload"),X.prototype),(0,s.default)(X.prototype,"updateTextarea",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"updateTextarea"),X.prototype),(0,s.default)(X.prototype,"updateTextareaWithEmoji",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"updateTextareaWithEmoji"),X.prototype),(0,s.default)(X.prototype,"focusComposeAfterEmojiPickerClose",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"focusComposeAfterEmojiPickerClose"),X.prototype),(0,s.default)(X.prototype,"handleGIFSend",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"handleGIFSend"),X.prototype),(0,s.default)(X.prototype,"handleAttachmentDropError",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"handleAttachmentDropError"),X.prototype),(0,s.default)(X.prototype,"dismissAttachmentDropError",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"dismissAttachmentDropError"),X.prototype),(0,s.default)(X.prototype,"onValidateForm",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onValidateForm"),X.prototype),(0,s.default)(X.prototype,"onAttachmentAdded",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onAttachmentAdded"),X.prototype),(0,s.default)(X.prototype,"afterDragAndDropUpload",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"afterDragAndDropUpload"),X.prototype),(0,s.default)(X.prototype,"focusTextarea",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"focusTextarea"),X.prototype),(0,s.default)(X.prototype,"addAttachment",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"addAttachment"),X.prototype),(0,s.default)(X.prototype,"removeAttachment",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"removeAttachment"),X.prototype),(0,s.default)(X.prototype,"overridePlaceholderValue",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"overridePlaceholderValue"),X.prototype),(0,s.default)(X.prototype,"onMentionsPickerKeyDown",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onMentionsPickerKeyDown"),X.prototype),(0,s.default)(X.prototype,"onTextEditorKeyDown",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onTextEditorKeyDown"),X.prototype),(0,s.default)(X.prototype,"selectMentionWithKeyDown",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"selectMentionWithKeyDown"),X.prototype),(0,s.default)(X.prototype,"selectMention",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"selectMention"),X.prototype),(0,s.default)(X.prototype,"closeMentions",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"closeMentions"),X.prototype),(0,s.default)(X.prototype,"triggerDragAndDropLayer",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"triggerDragAndDropLayer"),X.prototype),(0,s.default)(X.prototype,"setEnterToSendSetting",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"setEnterToSendSetting"),X.prototype),(0,s.default)(X.prototype,"onMentionToInviteDismiss",[d.action],Object.getOwnPropertyDescriptor(X.prototype,"onMentionToInviteDismiss"),X.prototype),(0,s.default)(X.prototype,"viewData",[T.cached],Object.getOwnPropertyDescriptor(X.prototype,"viewData"),X.prototype),X)
e.default=We;(0,r.setComponentTemplate)(Oe,We)}))
define("msg-ui/components/msg-form/primitives/character-limit-banner",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"Btx+6lAr",block:'[[[1,"\\n"],[8,[39,0],[[16,0,[29,["msg-character-limit-banner ph1 pv2\\n    ",[52,[30,1],"msg-character-limit-banner__edit-form"]]]]],[["@message","@type"],[[28,[37,2],["i18n_character_limit_warning","msg-ui/components/msg-form/primitives/character-limit-banner"],null],"yield"]],null]],["@isEditForm"],false,["artdeco-inline-feedback@artdeco-inline-feedback","if","t"]]',moduleName:"msg-ui/components/msg-form/primitives/character-limit-banner.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/msg-form/primitives/message-texteditor-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"JOfqjXmY",block:'[[[10,0],[14,0,"flex-grow-1"],[12],[1,"\\n  "],[11,0],[16,0,[29,["msg-form__contenteditable t-14 t-black--light t-normal flex-grow-1 full-height notranslate\\n      ",[52,[30,1],"msg-form__contenteditable--slide-out"],"\\n      ",[52,[30,2],"msg-form__contenteditable--single-line"]]]],[24,"contenteditable","true"],[24,"role","textbox"],[24,"aria-multiline","true"],[16,"aria-placeholder",[30,3]],[16,"aria-label",[28,[37,1],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor-presenter"],null]],[4,[38,2],["blur",[30,4]],null],[4,[38,2],["focus",[30,5]],null],[12],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,"aria-hidden","true"],[15,0,[29,[[52,[30,6],"msg-form__placeholder"],"\\n      t-14 t-black--light t-normal"]]],[15,"data-placeholder",[52,[30,7],[30,7],[28,[37,1],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor-presenter"],null]]],[12],[1,"\\n  "],[13],[1,"\\n\\n"],[13]],["@messageSendInProgress","@isComposeInboxRedesignEnabled","@labelText","@parentBlurAction","@parentFocusAction","@showPlaceholder","@overridePlaceholder"],false,["if","t","on"]]',moduleName:"msg-ui/components/msg-form/primitives/message-texteditor-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/msg-form/primitives/msg-content-container-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","ember-lifeline","@ember/object","@ember/service"],(function(e,t,n,s,i,r,a,o,l,c,d,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h
const f=(0,a.createTemplateFactory)({id:"+QcaWf2I",block:'[[[11,0],[16,0,[29,["msg-form__msg-content-container\\n    ",[52,[30,1,["update"]],"msg-form__msg-content-container--has-reshare"],"\\n    ",[52,[30,0,["isActive"]],"msg-form__msg-content-container--is-active"]]]],[17,2],[4,[38,1],["keydown",[30,3]],null],[4,[38,1],["focusin",[28,[37,2],[[30,4]],null]],null],[12],[1,"\\n"],[1,"  "],[10,0],[14,0,"msg-form__msg-content-container--scrollable scrollable relative"],[12],[1,"\\n    "],[8,[39,3],null,[["@addTopBorder","@classNames","@overridePlaceholder","@parentBlurAction","@parentFocusAction","@showPlaceholder","@messageSendInProgress","@isComposeInboxRedesignEnabled"],[true,"msg-form__message-texteditor relative flex-grow-1 display-flex",[30,5],[28,[37,4],[[30,0,["setIsActive"]],false],null],[28,[37,4],[[30,0,["setIsActive"]],true],null],[30,6],[30,7],[30,0,["isComposeInboxRedesignEnabled"]]]],null],[1,"\\n\\n"],[41,[30,8],[[[1,"      "],[10,0],[14,0,"msg-form__expand-btn-wrapper"],[12],[1,"\\n"],[44,[[28,[37,6],[[30,9],[52,[30,10],"close_expand","open_expand"]],null]],[[[1,"          "],[8,[39,7],[[16,"aria-expanded",[52,[30,10],"true","false"]],[4,[38,9],[[30,11]],null]],[["@circle","@class","@click","@color","@controlType","@icon","@type","@size","@text"],[true,"msg-form__expand-btn",[30,12],"muted","button",[52,[30,10],"chevron-down","chevron-up-icon"],"tertiary",[30,13],[52,[30,10],[28,[37,8],["i18n_minimize_compose","msg-ui/components/msg-form/primitives/msg-content-container-presenter"],null],[28,[37,8],["i18n_maximize_compose","msg-ui/components/msg-form/primitives/msg-content-container-presenter"],null]]]],null],[1,"\\n"]],[11]]],[1,"      "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,14],[[[1,"      "],[8,[39,10],null,[["@viewData"],[[30,14]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,15],[[[1,"      "],[8,[39,11],null,[["@bundle"],["marketplace-message-card"]],[["default"],[[[[1,"\\n"],[41,[30,16,["state","fulfilled"]],[[[1,"          "],[8,[39,12],[[24,0,"mv3 ml3 mr7"]],[["@messageCard","@isPreview"],[[30,15],true]],null],[1,"\\n"]],[]],null],[1,"      "]],[16]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,17],[[[1,"      "],[8,[39,11],null,[["@bundle"],["feed-shared"]],[["default"],[[[[1,"\\n"],[41,[30,18,["state","fulfilled"]],[[[1,"          "],[8,[39,13],[[24,0,"msg-form__reshared-content artdeco-card overflow-hidden"]],[["@update","@showNestedShares"],[[30,17],true]],null],[1,"\\n"]],[]],null],[1,"      "]],[18]]]]],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"],[13]],["@event","&attrs","@handleKeyDown","@handleFocusIn","@overridePlaceholder","@showPlaceholder","@messageSendInProgress","@showExpandButton","@trackingPrefix","@composeIsFullyExpanded","controlName","@toggleExpandComposeField","@expandButtonSize","@forwardedMessageViewData","@smpContent","assetLoader","@update","assetLoader"],false,["if","on","global-helpers@optional","msg-ui@msg-form/primitives/message-texteditor-presenter","fn","let","concat","artdeco-button@artdeco-button","t","ember-cli-pemberly-tracking@track-interaction","msg-ui@forwarded-message-presenter","asset-loader@deferred-asset-loader","marketplace-message-card@marketplace-message-card","update-components@mini-update-v2"]]',moduleName:"msg-ui/components/msg-form/primitives/msg-content-container-presenter.hbs",isStrictMode:!1})
let v=(u=(0,m.inject)("lix"),p=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"lix",g,this);(0,t.default)(this,"isActive",h,this)}get isComposeInboxRedesignEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-box-redesign")}setIsActive(e){(0,c.runTask)(this,(()=>{this.isActive=e}))}},g=(0,s.default)(p.prototype,"lix",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"isActive",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(p.prototype,"setIsActive",[d.action],Object.getOwnPropertyDescriptor(p.prototype,"setIsActive"),p.prototype),p)
e.default=v;(0,r.setComponentTemplate)(f,v)}))
define("msg-ui/components/msg-form/primitives/send-controls-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"qTF9J6MX",block:'[[[1,"\\n"],[11,0],[17,1],[12],[1,"\\n"],[41,[30,2],[[[1,"    "],[10,0],[14,0,"msg-form__hint-text t-12 t-black--light t-normal"],[12],[1,"\\n      "],[1,[28,[35,1],["enter_to_send","msg-ui/components/msg-form/primitives/send-controls-presenter"],null]],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[10,"button"],[15,0,[29,["msg-form__send-button ",[30,3]]]],[15,"disabled",[52,[51,[30,4]],"disabled"]],[14,4,"submit"],[12],[1,"\\n      "],[1,[28,[35,1],["send_message","msg-ui/components/msg-form/primitives/send-controls-presenter"],null]],[1,"\\n    "],[13],[1,"\\n"]],[]]],[13]],["&attrs","@isEnterToSendEnabled","@buttonClass","@enableSend"],false,["if","t","unless"]]',moduleName:"msg-ui/components/msg-form/primitives/send-controls-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/msg-form/primitives/send-failure-banner",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"PpKOIRZ1",block:'[[[10,0],[14,0,"msg-form--message-send-failure-banner display-flex flex-row p2"],[12],[1,"\\n  "],[8,[39,0],null,[["@message","@type","@linkText","@onClick"],[[28,[37,1],["i18n_message_failed_to_send","msg-ui/components/msg-form/primitives/send-failure-banner"],null],"error",[28,[37,1],["i18n_message_send_failed_try_again","msg-ui/components/msg-form/primitives/send-failure-banner"],null],[30,1]]],null],[1,"\\n"],[13]],["@resendMessage"],false,["artdeco-inline-feedback@artdeco-inline-feedback","t"]]',moduleName:"msg-ui/components/msg-form/primitives/send-failure-banner.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/msg-form/primitives/send-mode-toggle-presenter",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@ember/object","@glimmer/component","@ember/object/internals","global-utils/utils/keyboard-utils"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c
const d=(0,i.createTemplateFactory)({id:"f6H4tQod",block:'[[[1,"\\n"],[10,0],[14,0,"msg-form__hovercard-container ml2 relative"],[12],[1,"\\n  "],[8,[39,0],null,[["@on","@placement"],["click","top"]],[["default"],[[[[1,"\\n    "],[8,[39,1],null,[["@aria-controls","@aria-expanded","@class","@circle","@color","@controlType","@icon","@text","@type","@size"],[[30,1,["ariaId"]],[30,1,["ariaExpanded"]],"msg-form__send-toggle","true","muted","button","overflow-web-ios",[28,[37,2],["open_send_options","msg-ui/components/msg-form/primitives/send-mode-toggle-presenter"],null],"tertiary",[28,[37,3],[[30,2],2],null]]],null],[1,"\\n    "],[8,[30,1,["artdeco-hoverable-content"]],null,[["@contentClass","@theme"],["msg-form__hovercard","inverse"]],[["default"],[[[[1,"\\n      "],[10,"fieldset"],[12],[1,"\\n        "],[10,"legend"],[14,0,"a11y-text"],[12],[1,"\\n          "],[1,[28,[35,2],["choose_send_option","msg-ui/components/msg-form/primitives/send-mode-toggle-presenter"],null]],[1,"\\n        "],[13],[1,"\\n        "],[11,"input"],[16,1,[28,[37,4],["enter-to-send-",[30,0,["sendModeToggleElementId"]]],null]],[16,3,[28,[37,4],["send-settings-",[30,0,["sendModeToggleElementId"]]],null]],[24,2,"enterSend"],[16,"checked",[52,[30,4],true,false]],[24,4,"radio"],[4,[38,6],["change",[28,[37,7],[[30,5],[30,3,["closeHoverable"]],[30,6],true],null]],null],[4,[38,6],["keydown",[28,[37,7],[[30,0,["handleKeyPress"]],[30,3,["closeHoverable"]]],null]],null],[12],[13],[1,"\\n        "],[10,"label"],[15,"for",[28,[37,4],["enter-to-send-",[30,0,["sendModeToggleElementId"]]],null]],[14,0,"mt0"],[12],[1,"\\n          "],[10,2],[14,0,"t-16 t-black--light t-bold"],[12],[1,"\\n            "],[1,[28,[35,2],["enter_to_send","msg-ui/components/msg-form/primitives/send-mode-toggle-presenter"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n            "],[1,[28,[35,2],["enter_to_send_explanation","msg-ui/components/msg-form/primitives/send-mode-toggle-presenter"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[11,"input"],[16,1,[28,[37,4],["send-",[30,0,["sendModeToggleElementId"]]],null]],[16,3,[28,[37,4],["send-settings-",[30,0,["sendModeToggleElementId"]]],null]],[24,2,"send"],[16,"checked",[52,[30,4],false,true]],[24,4,"radio"],[4,[38,6],["change",[28,[37,7],[[30,5],[30,3,["closeHoverable"]],[30,6],false],null]],null],[4,[38,6],["keydown",[28,[37,7],[[30,0,["handleKeyPress"]],[30,3,["closeHoverable"]]],null]],null],[12],[13],[1,"\\n        "],[10,"label"],[15,"for",[28,[37,4],["send-",[30,0,["sendModeToggleElementId"]]],null]],[12],[1,"\\n          "],[10,2],[14,0,"t-16 t-black--light t-bold"],[12],[1,"\\n            "],[1,[28,[35,2],["click_to_send","msg-ui/components/msg-form/primitives/send-mode-toggle-presenter"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n            "],[1,[28,[35,2],["click_to_send_explanation","msg-ui/components/msg-form/primitives/send-mode-toggle-presenter"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[3]]]]],[1,"\\n  "]],[1]]]]],[1,"\\n"],[13]],["trigger","@triggerButtonSize","hoverable","@isEnterToSendEnabled","@setEnterToSendSetting","@afterToggleAction"],false,["artdeco-hoverables@artdeco-hoverable-trigger","artdeco-button@artdeco-button","t","global-helpers@or","concat","if","on","fn"]]',moduleName:"msg-ui/components/msg-form/primitives/send-mode-toggle-presenter.hbs",isStrictMode:!1})
let m=(c=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"sendModeToggleElementId",`send-mode-toggle-presenter-${(0,o.guidFor)(this)}`)}handleKeyPress(e,t){(0,l.isTabKey)(t)&&t.preventDefault();(0,l.isEscapeKey)(t)&&e()}},(0,n.default)(c.prototype,"handleKeyPress",[r.action],Object.getOwnPropertyDescriptor(c.prototype,"handleKeyPress"),c.prototype),c)
e.default=m;(0,s.setComponentTemplate)(d,m)}))
define("msg-ui/components/msg-form/primitives/subject-line-input-presenter",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","msg-shared/utils/constants","@ember/debug","@ember/object"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c
const d=(0,i.createTemplateFactory)({id:"Ks7JfqW5",block:'[[[11,0],[24,0,"msg-form__subject-line-input-presenter relative"],[17,1],[4,[38,0],[[30,0,["handleInsert"]]],null],[12],[1,"\\n  "],[8,[39,1],[[16,"aira-label",[28,[37,2],["i18n_write_subject","msg-ui/components/msg-form/primitives/subject-line-input-presenter"],null]]],[["@type","@name","@value","@onChange","@classNames","@placeholder"],["text","subject",[30,2],[30,3],"msg-form__subject",[28,[37,2],["i18n_optional_subject_placeholder","msg-ui/components/msg-form/primitives/subject-line-input-presenter"],null]]],null],[1,"\\n"],[13]],["&attrs","@subject","@updateSubject"],false,["did-insert","artdeco-text-input@artdeco-text-input","t"]]',moduleName:"msg-ui/components/msg-form/primitives/subject-line-input-presenter.hbs",isStrictMode:!1}),{INMAIL_SUBJECT_MAX_CHARACTERS:m}=a.default
let u=(c=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"maxSubjectLength",m)}handleInsert(e){e.querySelector("input").setAttribute("autocomplete","off")}},(0,n.default)(c.prototype,"handleInsert",[l.action],Object.getOwnPropertyDescriptor(c.prototype,"handleInsert"),c.prototype),c)
e.default=u;(0,s.setComponentTemplate)(d,u)}))
define("msg-ui/components/msg-form/primitives/upload-attachment-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","@ember/object/internals","msg-shared/utils/attachments-handler","global-utils/utils/is-browser"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,v,b,y,_,w,M,D
const k=(0,a.createTemplateFactory)({id:"MXU5tWr8",block:'[[[11,0],[24,0,"msg-form__upload-attachment inline-block"],[17,1],[12],[1,"\\n  "],[10,"input"],[14,3,"persist"],[14,2,"true"],[14,4,"hidden"],[12],[13],[1,"\\n  "],[10,"input"],[14,3,"upload_info"],[14,4,"hidden"],[12],[13],[1,"\\n  "],[11,"input"],[16,1,[30,0,["inputID"]]],[24,0,"msg-form__attachment-upload-input hidden"],[16,"accept",[30,2]],[24,4,"file"],[4,[38,0],[[30,0,["setUploadInput"]]],null],[4,[38,1],["change",[30,0,["handleFormInputChange"]]],null],[4,[38,2],[[30,0,["selectFileControlName"]]],null],[12],[13],[1,"\\n  "],[11,"button"],[16,1,[30,0,["triggerID"]]],[16,0,[29,["msg-form__footer-action ",[30,3]]]],[16,"disabled",[30,4]],[16,"title",[30,5]],[16,"aria-label",[30,5]],[24,4,"button"],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n    "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n      "],[1,[30,5]],[1,"\\n    "],[13],[1,"\\n    "],[1,[30,6]],[1,"\\n  "],[13],[1,"\\n"],[13]],["&attrs","@acceptTypes","@buttonClasses","@disabled","@labelText","@icon"],false,["did-insert","on","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-ui/components/msg-form/primitives/upload-attachment-presenter.hbs",isStrictMode:!1})
let C=(p=(0,c.inject)("jet"),g=(0,c.inject)("tracking"),h=(0,c.inject)("vector@vector-upload"),f=(0,c.inject)("global-services@a11y-notification"),v=(0,c.inject)("i18n"),b=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"jet",y,this);(0,t.default)(this,"tracking",_,this);(0,t.default)(this,"vectorUpload",w,this);(0,t.default)(this,"a11yNotification",M,this);(0,t.default)(this,"i18n",D,this);(0,n.default)(this,"uploadInputElem",{})
const e=new m.default({vectorUpload:this.vectorUpload,tracking:this.tracking,jet:this.jet,updateUI:this.args.addAttachment,beforeUpload:this.args.beforeUpload,afterUpload:this.args.afterUpload,onUploadSuccess:this.onUploadSuccess.bind(this),onUploadFailure:this.onUploadFailure.bind(this)});(0,l.setProperties)(this,{attachmentsHandler:e,inputID:`attachment-input-${(0,d.guidFor)(this)}`,triggerID:`attachment-trigger-${(0,d.guidFor)(this)}`,selectFileControlName:`${this.args.trackingPrefix}_select`})}onClick(){this.uploadInputElem.click()
u.default&&!/Firefox|Edge/.test(window.navigator.userAgent)&&this.args.triggerDragAndDropLayer(!0)}handleFormInputChange(){this.args.triggerDragAndDropLayer(!1)
this.fileSelected(this.uploadInputElem.files)}setUploadInput(e){(0,l.set)(this,"uploadInputElem",e)}fileSelected(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]
e&&this.attachmentsHandler.uploadAttachment(e)
this.uploadInputElem.value=""}onUploadSuccess(){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","a11y_attachment_uploaded")
this.a11yNotification.setTextInLiveRegion(e())}onUploadFailure(){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","a11y_attachment_upload_failed")
this.a11yNotification.setTextInLiveRegion(e())}},y=(0,s.default)(b.prototype,"jet",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(b.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(b.prototype,"vectorUpload",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,s.default)(b.prototype,"a11yNotification",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,s.default)(b.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(b.prototype,"onClick",[l.action],Object.getOwnPropertyDescriptor(b.prototype,"onClick"),b.prototype),(0,s.default)(b.prototype,"handleFormInputChange",[l.action],Object.getOwnPropertyDescriptor(b.prototype,"handleFormInputChange"),b.prototype),(0,s.default)(b.prototype,"setUploadInput",[l.action],Object.getOwnPropertyDescriptor(b.prototype,"setUploadInput"),b.prototype),b)
e.default=C;(0,r.setComponentTemplate)(k,C)}))
define("msg-ui/components/pending-message-request-footer-presenter",["exports","@ember/component","@ember/template-factory","@glimmer/component"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"A5gYpxVW",block:'[[[1,"\\n"],[10,0],[14,0,"msg-pending-message-request-footer-presenter__prompts t-12 t-normal"],[12],[1,"\\n  "],[1,[52,[30,1],[28,[37,1],["i18n_allow_group_message_request_prompt","msg-ui/components/pending-message-request-footer-presenter"],null],[28,[37,1],["i18n_allow_message_request_prompt","msg-ui/components/pending-message-request-footer-presenter"],[["senderName"],[[30,2]]]]]],[1,"\\n"],[13],[1,"\\n"],[10,0],[14,0,"msg-pending-message-request-footer-presenter__actions display-flex"],[12],[1,"\\n  "],[8,[39,2],[[16,"aria-label",[52,[30,1],[28,[37,1],["i18n_a11y_message_request_reply_form_leave","msg-ui/components/pending-message-request-footer-presenter"],null],[28,[37,1],["i18n_a11y_message_request_reply_form_decline","msg-ui/components/pending-message-request-footer-presenter"],[["senderName"],[[30,2]]]]]],[4,[38,3],["click",[30,4]],null],[4,[38,4],[[30,0,["declineTrackingInteractionId"]]],null]],[["@text","@color","@type","@class","@disabled"],[[52,[30,1],[28,[37,1],["i18n_message_request_reply_form_leave","msg-ui/components/pending-message-request-footer-presenter"],null],[28,[37,1],["i18n_message_request_reply_form_decline","msg-ui/components/pending-message-request-footer-presenter"],null]],"muted","tertiary","msg-pending-message-request-footer-presenter__reject-button full-width",[30,3]]],[["default"],[[[[1,"\\n    "],[1,[52,[30,1],[28,[37,1],["i18n_message_request_reply_form_leave","msg-ui/components/pending-message-request-footer-presenter"],null],[28,[37,1],["i18n_message_request_reply_form_decline","msg-ui/components/pending-message-request-footer-presenter"],null]]],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[39,2],[[16,"aria-label",[28,[37,1],["i18n_a11y_message_request_reply_form_interested","msg-ui/components/pending-message-request-footer-presenter"],[["senderName"],[[30,2]]]]],[4,[38,3],["click",[30,5]],null],[4,[38,4],[[30,0,["acceptTrackingInteractionId"]]],null]],[["@text","@type","@class","@disabled"],[[28,[37,1],["i18n_message_request_reply_form_interested","msg-ui/components/pending-message-request-footer-presenter"],null],"tertiary","msg-pending-message-request-footer-presenter__accept-button full-width",[30,3]]],[["default"],[[[[1,"\\n    "],[1,[28,[35,1],["i18n_message_request_reply_form_interested","msg-ui/components/pending-message-request-footer-presenter"],null]],[1,"\\n  "]],[]]]]],[1,"\\n"],[13]],["@isGroupMessageRequest","@senderName","@isMessageRequestClickReplyPending","@sendRejectReply","@sendAcceptReply"],false,["if","t","artdeco-button@artdeco-button","on","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-ui/components/pending-message-request-footer-presenter.hbs",isStrictMode:!1})
class r extends s.default{get declineTrackingInteractionId(){var e
return`${void 0!==(null===(e=this.args)||void 0===e?void 0:e.actionTrackingPrefix)?this.args.actionTrackingPrefix:""}decline_message_request`}get acceptTrackingInteractionId(){var e
return`${void 0!==(null===(e=this.args)||void 0===e?void 0:e.actionTrackingPrefix)?this.args.actionTrackingPrefix:""}accept_message_request`}}e.default=r;(0,t.setComponentTemplate)(i,r)}))
define("msg-ui/components/premium-upsell-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","s-upsell/utils/upsell-card-dash-helpers","urn-utils","global-utils/utils/url"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,v
const b=(0,a.createTemplateFactory)({id:"8kcyaZHm",block:'[[[10,0],[14,0,"msg-premium-upsell-presenter scrollable"],[12],[1,"\\n"],[41,[30,0,["upsellCard"]],[[[1,"    "],[8,[39,1],null,[["@upsellCard","@defaultConfig","@upsellStyles"],[[30,0,["upsellCard"]],[28,[37,2],null,[["isVerticalLayout"],[true]]],[28,[37,2],null,[["upsellWrapperClass","headlineClass","subheaderClass","socialProofInsightClass","socialProofInsightTextClass","customAnchorClass"],["msg-premium-upsell-presenter__content","t-18 mb3","t-14 t-black--light mb6","display-flex align-items-center mb3","t-12 t-black--light ml2","full-width"]]]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,3],null,[["@size"],["small"]],null],[1,"\\n"]],[]]],[13]],[],false,["if","s-upsell@upsell-templates/upsell-template-container","hash","artdeco-loader@artdeco-loader"]]',moduleName:"msg-ui/components/premium-upsell-presenter.hbs",isStrictMode:!1})
let y=(p=(0,c.inject)("store"),g=(0,c.inject)("client-sensor-web@client-sensor"),h=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"store",f,this);(0,t.default)(this,"clientSensor",v,this)
const{args:{targetUrl:e}}=this,n=(0,u.isUrl)(e)?new URL(e):null,s=null==n?void 0:n.searchParams.get("premiumUpsellSlotUrn"),i=s?(0,m.extractEntityInfoFromUrn)(s).id:null,r=null==n?void 0:n.searchParams.get("profileUrn");(0,d.queryUpsellCardDataV2)({store:this.store,clientSensor:this.clientSensor},{upsellSlot:i,finder:"viewee"},{vieweeProfileUrn:r}).then((e=>{this.isDestroying||(0,l.set)(this,"upsellCard",(0,l.get)(e,"elements.firstObject.upsellCard"))}))}},f=(0,s.default)(h.prototype,"store",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(h.prototype,"clientSensor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h)
e.default=y;(0,r.setComponentTemplate)(b,y)}))
define("msg-ui/components/primitives/bulk-actions-panel-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@glimmer/component","@ember/object","@glimmer/tracking"],(function(e,t,n,s,i,r,a,o,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,u,p,g,h,f,v,b,y,_
const w=(0,a.createTemplateFactory)({id:"KbG70Sou",block:'[[[10,0],[14,0,"msg-bulk-actions-panel-presenter ph2"],[12],[1,"\\n  "],[10,0],[14,0,"display-flex mvA"],[12],[1,"\\n    "],[8,[39,0],[[24,1,"msg-bulk-actions-panel-presenter-close-button"],[4,[38,2],[[30,0,["exitBulkActionsTrackingControlName"]]],null]],[["@type","@click","@text","@color","@icon","@size","@circle"],["tertiary",[30,0,["exitBulkActionsMode"]],[28,[37,1],["a11y_go_to_inbox_v2","msg-ui/components/primitives/bulk-actions-panel-presenter"],[["selectedConversationsCount"],[[30,1,["length"]]]]],"muted","close",1,true]],null],[1,"\\n    "],[10,1],[14,0,"msg-bulk-actions-panel-presenter__selected-text t-14 t-black--light t-bold mvA"],[12],[1,"\\n      "],[1,[28,[35,1],["i18n_selected_count","msg-ui/components/primitives/bulk-actions-panel-presenter"],[["count"],[[30,1,["length"]]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"display-flex mvA"],[12],[1,"\\n    "],[8,[39,0],[[4,[38,2],[[30,0,["toggleReadTrackingControlName"]]],null]],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[52,[30,0,["allSelectedConversationsRead"]],[28,[37,1],["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[37,1],["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel-presenter"],null]],"tertiary",[30,0,["toggleRead"]],"muted",[52,[30,0,["allSelectedConversationsRead"]],"envelope","envelope-open"],[30,0,["actionButtonsDisabled"]],[52,[30,0,["allSelectedConversationsRead"]],[28,[37,1],["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[37,1],["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel-presenter"],null]],1,true]],null],[1,"\\n\\n    "],[8,[39,0],null,[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[28,[37,1],["i18n_delete","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],"tertiary",[28,[37,4],[[30,0],"showConfirmModal",true],null],"muted","trash",[30,0,["actionButtonsDisabled"]],[28,[37,1],["i18n_delete","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],1,true]],null],[1,"\\n\\n    "],[8,[39,0],[[4,[38,2],[[30,0,["toggleArchiveTrackingControlName"]]],null]],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[52,[30,0,["selectedConversationsAreArchived"]],[28,[37,1],["i18n_restore","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[37,1],["i18n_archive","msg-ui/components/primitives/bulk-actions-panel-presenter"],null]],"tertiary",[30,0,["toggleArchive"]],"muted",[52,[30,0,["selectedConversationsAreArchived"]],"unarchive","archive-message-icon"],[30,0,["actionButtonsDisabled"]],[52,[30,0,["selectedConversationsAreArchived"]],[28,[37,1],["i18n_restore","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[37,1],["i18n_archive","msg-ui/components/primitives/bulk-actions-panel-presenter"],null]],1,true]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,5],null,[["@isOpen","@title","@content","@primaryActionText","@primaryActionTextA11y","@secondaryActionText","@secondaryActionTextA11y","@onPrimary","@onSecondary","@onEscape"],[[30,0,["showConfirmModal"]],[28,[37,1],["i18n_sure_you_want_delete","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[37,1],["i18n_deletion_warning_text","msg-ui/components/primitives/bulk-actions-panel-presenter"],[["count"],[[30,1,["length"]]]]],[28,[37,1],["i18n_yes_delete","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[37,1],["a11y_confirm_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[37,1],["i18n_cancel","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[28,[37,1],["a11y_cancel_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel-presenter"],null],[30,0,["confirmDelete"]],[30,0,["cancelDelete"]],[30,0,["cancelDelete"]]]],null]],["@selectedConversationUrns"],false,["artdeco-button@artdeco-button","t","ember-cli-pemberly-tracking@track-interaction","if","ember-set-helper@set","artdeco-modal@artdeco-confirmation-dialog"]]',moduleName:"msg-ui/components/primitives/bulk-actions-panel-presenter.hbs",isStrictMode:!1})
let M=(m=(0,o.inject)("msg-data@data-manager"),u=(0,o.inject)("persistent-toast-manager@persistent-toast-manager"),p=(0,o.inject)("i18n"),g=(0,o.inject)("tracking"),h=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",f,this);(0,t.default)(this,"persistentToastManager",v,this);(0,t.default)(this,"i18n",b,this);(0,t.default)(this,"tracking",y,this);(0,t.default)(this,"showConfirmModal",_,this)}get actionButtonsDisabled(){var e
return 0===(null===(e=this.args.selectedConversationUrns)||void 0===e?void 0:e.length)}get selectedUnreadConversationUrns(){return this.msgDataManager.filterUnreadConversationUrns(this.args.selectedConversationUrns)}get allSelectedConversationsRead(){return 0===this.selectedUnreadConversationUrns.length}get selectedConversationsAreArchived(){var e
return(null===(e=this.args.selectedConversationUrns)||void 0===e?void 0:e.length)>0&&this.msgDataManager.isConversationArchived(this.args.selectedConversationUrns[0])}get exitBulkActionsTrackingControlName(){return this.args.isOverlay?"overlay.exit_bulk_selection":"exit_bulk_selection"}get toggleArchiveTrackingControlName(){let e=this.selectedConversationsAreArchived?"bulk_unarchive":"bulk_archive"
this.args.isOverlay&&(e=`overlay.${e}`)
return e}get toggleReadTrackingControlName(){let e=this.allSelectedConversationsRead?"bulk_unread":"bulk_read"
this.args.isOverlay&&(e=`overlay.${e}`)
return e}_unselectConversations(){var e,t
null===(e=(t=this.args).onExitBulkActionsMode)||void 0===e||e.call(t)}_showErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/bulk-actions-panel-presenter","i18n_bulk_action_failed_message")([])
this.persistentToastManager.error({message:e})}_showInfoToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/bulk-actions-panel-presenter","i18n_bulk_action_info_message")([])
this.persistentToastManager.notice({message:e})}exitBulkActionsMode(){this._unselectConversations()}cancelDelete(){this.showConfirmModal=!1
const e=this.args.isOverlay?"overlay.bulk_delete_cancel":"bulk_delete_cancel"
this.tracking.fireInteractionEvent(e)}confirmDelete(){var e,t
null===(e=(t=this.args).willExecuteBulkAction)||void 0===e||e.call(t)
const n=this.args.isOverlay?"overlay.bulk_delete_confirm":"bulk_delete_confirm"
this.tracking.fireInteractionEvent(n)
this.msgDataManager.bulkDeleteConversations(this.args.selectedConversationUrns).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t,"delete")})).catch((e=>{this._showErrorToast()
throw e})).finally((()=>{this._unselectConversations()}))
this.showConfirmModal=!1}toggleArchive(){var e,t
null===(e=(t=this.args).willExecuteBulkAction)||void 0===e||e.call(t)
const n=!this.selectedConversationsAreArchived
this.msgDataManager.toggleBulkConversationsArchive(this.args.selectedConversationUrns,n).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t)})).catch((e=>{this._showErrorToast()
throw e})).finally((()=>{this._unselectConversations()}))}toggleRead(){var e,t
null===(e=(t=this.args).willExecuteBulkAction)||void 0===e||e.call(t)
const n=!this.allSelectedConversationsRead,s=n?this.selectedUnreadConversationUrns:this.args.selectedConversationUrns
this.msgDataManager.toggleBulkConversationsRead(s,n).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t)})).catch((e=>{this._showErrorToast()
throw e}))
this._unselectConversations()}},f=(0,s.default)(h.prototype,"msgDataManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(h.prototype,"persistentToastManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(h.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(h.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(h.prototype,"showConfirmModal",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(h.prototype,"exitBulkActionsMode",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"exitBulkActionsMode"),h.prototype),(0,s.default)(h.prototype,"cancelDelete",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"cancelDelete"),h.prototype),(0,s.default)(h.prototype,"confirmDelete",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"confirmDelete"),h.prototype),(0,s.default)(h.prototype,"toggleArchive",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"toggleArchive"),h.prototype),(0,s.default)(h.prototype,"toggleRead",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"toggleRead"),h.prototype),h)
e.default=M;(0,r.setComponentTemplate)(w,M)}))
define("msg-ui/components/primitives/inline-warning-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","global-utils/utils/urn-converter"],(function(e,t,n,s,i,r,a,o,l,c,d,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f
const v=(0,a.createTemplateFactory)({id:"mCqJBz3m",block:'[[[11,0],[24,0,"msg-inline-warning mt1 mr3"],[17,1],[12],[1,"\\n  "],[8,[39,0],null,[["@type","@isIconHidden","@message"],["yield",true,[30,2,["warningText"]]]],null],[1,"\\n  "],[10,0],[14,0,"inline-block"],[12],[1,"\\n    "],[8,[39,1],[[4,[38,2],null,[["when"],[[30,3]]]],[4,[38,3],["inline_warning_report"],null]],[["@classNames","@type","@color","@size","@text","@icon","@click"],["mt2 display-flex","secondary","muted",2,[30,2,["reportSpamCTAText"]],"report",[30,0,["reportConversation"]]]],null],[1,"\\n\\n    "],[8,[39,1],[[4,[38,3],["inline_warning_notspam"],null]],[["@classNames","@type","@color","@size","@text","@icon","@click"],["mv2 display-flex","secondary","muted",2,[30,2,["inlineWarningDismissCTAText"]],"close",[30,0,["dismissWarning"]]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,4],null,[["@viewData","@authorProfileId","@reportOptions","@redirectToActiveConversation","@handleSuccessfulDiscardRequest","@isOpen","@hideSemaphore"],[[30,2,["conversationSemaphoreViewData"]],[30,0,["reportOptions","participantIdToReport"]],[30,0,["reportOptions"]],[30,4],[30,5],[30,0,["isReportSemaphoreOpen"]],[30,0,["closeSemaphore"]]]],null]],["&attrs","@viewData","@focusOnMsgReportCta","@redirectToActiveConversation","@handleSuccessfulDiscardRequest"],false,["artdeco-inline-feedback@artdeco-inline-feedback","artdeco-button@artdeco-button","global-modifiers@focus","ember-cli-pemberly-tracking@track-interaction","msg-shared-modals@conversation-semaphore-presenter"]]',moduleName:"msg-ui/components/primitives/inline-warning-presenter.hbs",isStrictMode:!1})
let b=(u=(0,d.inject)("msg-data@data-manager"),p=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"isReportSemaphoreOpen",h,this);(0,t.default)(this,"reportOptions",f,this)}reportConversation(){this.reportOptions={participantIdToReport:(0,m.fromUrn)(this.args.viewData.messageSenderProfileUrn).id,entityUrn:this.args.viewData.messageBackendUrn,contentSource:"INBOX_REPORT_SPAM"}
this.isReportSemaphoreOpen=!0}closeSemaphore(){this.isReportSemaphoreOpen=!1}dismissWarning(){this.msgDataManager.dismissInlineWarning(this.args.viewData.conversationUrn,this.args.viewData.messageUrn).then((()=>{if(!this.isDestroying){var e,t
null===(e=(t=this.args).afterDismissed)||void 0===e||e.call(t)}}))}},g=(0,s.default)(p.prototype,"msgDataManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"isReportSemaphoreOpen",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=(0,s.default)(p.prototype,"reportOptions",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(p.prototype,"reportConversation",[c.action],Object.getOwnPropertyDescriptor(p.prototype,"reportConversation"),p.prototype),(0,s.default)(p.prototype,"closeSemaphore",[c.action],Object.getOwnPropertyDescriptor(p.prototype,"closeSemaphore"),p.prototype),(0,s.default)(p.prototype,"dismissWarning",[c.action],Object.getOwnPropertyDescriptor(p.prototype,"dismissWarning"),p.prototype),p)
e.default=b;(0,r.setComponentTemplate)(v,b)}))
define("msg-ui/components/primitives/linkedin-video-meeting-preview-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","ember","@ember/service","global-utils/utils/api-compat","@ember/application","@ember/object","global-utils/utils/is-browser"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h,f,v,b,y,_,w,M
const D=(0,a.createTemplateFactory)({id:"Peczt77a",block:'[[[11,3],[16,6,[30,0,["videoConferencePath"]]],[16,"target",[30,1]],[24,"rel","opener"],[24,0,"link-without-hover-visited msg-linkedin-video-meeting-preview-presenter"],[4,[38,0],["click",[30,0,["joinMeeting"]]],null],[4,[38,1],["virtual_meetings_click_card_linkedin"],null],[12],[1,"\\n  "],[10,0],[14,0,"artdeco-card display-flex pl3 pr4"],[12],[1,"\\n    "],[10,0],[14,0,"display-flex align-items-center pr2"],[12],[1,"\\n      "],[1,[28,[35,2],null,[["type","size","class"],["video-conference","medium","msg-ui-linkedin-video-meeting-preview-presenter-card__icon artdeco-button__icon t-black--light"]]]],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"msg-ui-linkedin-video-meeting-preview-presenter-card__info pl1 pt3 pb3"],[12],[1,"\\n"],[41,[30,0,["isDisabledBrowser"]],[[[1,"        "],[10,2],[14,0,"t-16 t-bold pb1"],[12],[1,[28,[35,4],["i18n_unavailable_on_firefox_text","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],null]],[13],[1,"\\n        "],[10,2],[14,0,"t-14"],[12],[1,[28,[35,4],["i18n_unavailable_on_firefox_explanation_text","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],null]],[13],[1,"\\n"]],[]],[[[1,"        "],[10,2],[14,0,"t-14 t-bold pl2"],[12],[1,[28,[35,4],["i18n_meeting_title","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],[["member"],[[30,2]]]]],[13],[1,"\\n"],[41,[30,0,["scheduledMeetingDuration"]],[[[1,"          "],[10,2],[14,0,"t-12 pl2 t-black--light"],[12],[1,[28,[35,4],["i18n_scheduled_meeting_time","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],[["date","time"],[[28,[37,5],[[30,3,["start"]]],[["format","useTimeZone"],["fmt_mdy_short",true]]],[28,[37,6],[[30,3,["start"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[13],[1,"\\n          "],[10,2],[14,0,"t-12 pl2 t-black--light"],[12],[1,[28,[35,4],["i18n_scheduled_meeting_duration","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],[["duration"],[[28,[37,7],[[30,0,["scheduledMeetingDuration"]]],[["format"],["human"]]]]]]],[13],[1,"\\n"]],[]],null],[1,"        "],[10,2],[14,0,"t-bold artdeco-button--1 artdeco-button--tertiary"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_join_meeting","msg-ui/components/primitives/linkedin-video-meeting-preview-presenter"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@threadId","@senderName","@virtualMeetingTimeRange"],false,["on","ember-cli-pemberly-tracking@track-interaction","artdeco-icons-web@li-icon","if","t","ember-cli-pemberly-i18n@format-date","ember-cli-pemberly-i18n@format-time","global-helpers@format-duration"]]',moduleName:"msg-ui/components/primitives/linkedin-video-meeting-preview-presenter.hbs",isStrictMode:!1})
let k=(g=(0,c.inject)("i18n"),h=(0,c.inject)("persistent-toast-manager@persistent-toast-manager"),f=(0,c.inject)("router"),v=(0,c.inject)("prefetch"),b=class extends o.default{get scheduledMeetingDuration(){const e=(0,u.get)(this.args,"virtualMeetingTimeRange.start"),t=(0,u.get)(this.args,"virtualMeetingTimeRange.end")
if(e&&t){const n=t-e
return n>0?Math.round(n/1e3):null}return null}get isDisabledBrowser(){return!p.default||/firefox/i.test(window.navigator.userAgent)}get videoConferencePath(){return this.router.urlFor("msg-video-call.index",this.args.threadId,(0,d.entityUrnToId)(this.args.conferenceUrn))}get shouldPrefetchVideoBundle(){const e=(new Date).getTime(),t=18e5
if(this.isDisabledBrowser)return!1
if(this.scheduledMeetingDuration){const n=(0,u.get)(this.args,"virtualMeetingTimeRange.start"),s=(0,u.get)(this.args,"virtualMeetingTimeRange.end")
if(e<n-t||e>s)return!1}else{if(e>this.args.virtualMeetingCreationTime+t)return!1}return!0}constructor(){super(...arguments);(0,t.default)(this,"i18n",y,this);(0,t.default)(this,"persistentToastManager",_,this);(0,t.default)(this,"router",w,this);(0,t.default)(this,"prefetch",M,this)
this.shouldPrefetchVideoBundle&&this.prefetch.prefetchAssets("msg-video-call","d_flagship3_messaging_video_conference").then((()=>{if(!l.default.testing||this.args.testingPrefetchOverride){(0,m.getOwner)(this).lookup("service:video-call@fetch-client").fetchConferenceClient()}}))}joinMeeting(e){const t=(new Date).getTime(),n=(0,u.get)(this.args,"virtualMeetingTimeRange.start")
if(n&&n-t>18e5){e.preventDefault()
const t=this.i18n.lookupTranslation("components/msg-ui@primitives/linkedin-video-meeting-preview-presenter","i18n_scheduled_meeting_not_started")()
this.persistentToastManager.notice({message:t})}}},y=(0,s.default)(b.prototype,"i18n",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(b.prototype,"persistentToastManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(b.prototype,"router",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,s.default)(b.prototype,"prefetch",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(b.prototype,"joinMeeting",[u.action],Object.getOwnPropertyDescriptor(b.prototype,"joinMeeting"),b.prototype),b)
e.default=k;(0,r.setComponentTemplate)(D,k)}))
define("msg-ui/components/primitives/message-hover-actions-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","global-utils/utils/is-browser","@glimmer/component","@glimmer/tracking","ember-lifeline","msg-shared/utils/file-meta","global-utils/utils/file-size-formatter","ember-batcher"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,v,b,y,_,w,M,D,k,C,S,P,x,T
const I=(0,a.createTemplateFactory)({id:"AV8/8MjP",block:'[[[11,0],[16,0,[28,[37,0],["msg-s-event-listitem__message-bubble",[52,[30,0,["isFocused"]]," msg-s-event-listitem__message-bubble--is-focused"]," ",[30,1]],null]],[24,"tabindex","0"],[16,"dir",[28,[37,2],[[30,2,["messageTextBody","text"]]],null]],[17,3],[4,[38,3],["mouseenter",[30,0,["toggleActionsOn"]]],null],[4,[38,3],["focus",[30,0,["toggleActionsOn"]]],null],[4,[38,3],["mouseleave",[30,0,["toggleActionsOff"]]],null],[4,[38,3],["focusout",[30,0,["toggleActionsOff"]]],null],[12],[1,"\\n"],[41,[28,[37,4],[[30,0,["showActions"]],[30,0,["isFocused"]]],null],[[[41,[30,4],[[[41,[30,5],[[[41,[30,6],[[[1,"          "],[11,0],[24,0,"msg-s-event-listitem__actions-container artdeco-card"],[4,[38,5],[[30,7]],[["interactionType"],["HOVER"]]],[12],[1,"\\n            "],[8,[39,6],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,8,["state","fulfilled"]],[[[1,"                "],[8,[39,7],null,[["@messageUrn","@conversationUrn","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu","@setMessageFocusState","@focusIn"],[[30,2,["messageUrn"]],[30,2,["conversationUrn"]],[30,9],[30,10],[30,11],[30,0,["hideAllActionMenus"]],[28,[37,8],[[30,0],"isOptionMenuOpen",false],null],[28,[37,8],[[30,0],"isFocused"],null],[28,[37,8],[[30,0],"isFocused",true],null]]],null],[1,"\\n"]],[]],null],[1,"            "]],[8]]]]],[1,"\\n\\n"],[1,"            "],[8,[39,9],[[16,"aria-label",[28,[37,10],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,2,["senderFamiliarName"]],[30,2,["messageTextBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__reactions-options-ellipsis","right",[30,0,["dropDirection"]],[30,0,["isOptionMenuOpen"]],[28,[37,8],[[30,0],"isOptionMenuOpen"],null],[28,[37,8],[[30,0],"isFocused",true],null],[30,0,["hideAllActionMenus"]]]],[["default"],[[[[1,"\\n              "],[8,[30,12,["dropdown-trigger"]],[[4,[38,5],["attempt_forward"],null]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,[37,10],["a11y_forward_message","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName"],[[30,2,["senderFamiliarName"]]]]],[30,0,["setupDropMenu"]],[30,0,["setupDropMenu"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[35,11],null,[["a11y-text","class","size","type"],[[28,[37,10],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,2,["senderFamiliarName"]],[30,2,["messageTextBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","overflow-web-ios"]]]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[10,0],[14,0,"msg-s-event-listitem__options-content"],[12],[1,"\\n                "],[8,[30,12,["dropdown-content"]],null,[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,12],[[4,[38,5],["forward_to_message"],null]],[["@itemSelected"],[[28,[37,13],[[30,0,["forwardAttachment"]],[30,13]],null]]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,10],["i18n_forward_via_LI","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,12],[[4,[38,5],["forward_to_email"],null]],[["@itemSelected"],[[30,0,["forwardViaEmail"]]]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,10],["i18n_forward_via_email","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n"],[41,[30,14],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,12],null,[["@itemSelected","@disabled"],[[28,[37,13],[[30,15],true],null],[52,[30,16],[30,16],false]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,10],["i18n_delete_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"],[41,[30,17],[[[1,"                        "],[10,"li"],[12],[1,"\\n                          "],[8,[39,12],null,[["@itemSelected"],[[28,[37,13],[[30,17],[30,2,["messageTextBody"]],[30,2,["messageAPIModel"]]],null]]],[["default"],[[[[1,"\\n                            "],[1,[28,[35,10],["i18n_edit_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                          "]],[]]]]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n            "]],[12]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow-backer"],[12],[13],[1,"\\n          "],[11,"button"],[24,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow artdeco-card"],[16,"title",[28,[37,10],["i18n_forward_attachment_a11y","msg-ui/components/primitives/message-hover-actions-presenter"],[["filename","senderName"],[[30,18],[30,2,["senderFamiliarName"]]]]]],[24,4,"button"],[4,[38,3],["click",[28,[37,13],[[30,0,["forwardAttachment"]],[30,13]],null]],null],[12],[1,"\\n            "],[1,[28,[35,11],null,[["type","class","size","a11y-text"],["share-linkedin","msg-s-event-listitem__share-linkedin-icon","small",[28,[37,10],["i18n_forward_attachment_a11y","msg-ui/components/primitives/message-hover-actions-presenter"],[["filename","senderName"],[[30,18],[30,2,["senderFamiliarName"]]]]]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]]]],[]],[[[1,"        "],[11,"button"],[16,0,[29,["msg-s-event-listitem__forward-attachment\\n            ",[52,[30,0,["isImage"]],"msg-s-event-listitem__forward-attachment--image","msg-s-event-listitem__forward-attachment--file"],"\\n            "]]],[24,4,"button"],[4,[38,3],["click",[28,[37,13],[[30,0,["forwardAttachment"]],[30,13]],null]],null],[12],[1,"\\n          "],[1,[28,[35,11],null,[["type","size","a11y-text"],["share-linkedin","small",[28,[37,10],["i18n_forward_attachment_a11y","msg-ui/components/primitives/message-hover-actions-presenter"],[["filename","senderName"],[[30,18],[30,2,["senderFamiliarName"]]]]]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]]]],[]],[[[41,[30,6],[[[1,"        "],[11,0],[24,0,"msg-s-event-listitem__actions-container artdeco-card"],[4,[38,5],[[30,7]],[["interactionType"],["HOVER"]]],[12],[1,"\\n          "],[8,[39,6],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,19,["state","fulfilled"]],[[[1,"              "],[8,[39,7],null,[["@messageUrn","@conversationUrn","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu","@setMessageFocusState","@focusIn"],[[30,2,["messageUrn"]],[30,2,["conversationUrn"]],[30,9],[30,10],[30,11],[30,0,["hideAllActionMenus"]],[28,[37,8],[[30,0],"isOptionMenuOpen",false],null],[28,[37,8],[[30,0],"isFocused"],null],[28,[37,8],[[30,0],"isFocused",true],null]]],null],[1,"\\n"]],[]],null],[1,"          "]],[19]]]]],[1,"\\n\\n"],[41,[28,[37,4],[[30,5],[30,14],[30,20]],null],[[[1,"            "],[8,[39,9],[[16,"aria-label",[28,[37,10],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,2,["senderFamiliarName"]],[30,2,["messageTextBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__reactions-options-ellipsis","right",[30,0,["dropDirection"]],[30,0,["isOptionMenuOpen"]],[28,[37,8],[[30,0],"isOptionMenuOpen"],null],[28,[37,8],[[30,0],"isFocused",true],null],[30,0,["hideAllActionMenus"]]]],[["default"],[[[[1,"\\n              "],[8,[30,21,["dropdown-trigger"]],[[4,[38,5],["attempt_forward"],null]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,[37,10],["a11y_forward_message","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName"],[[30,2,["senderFamiliarName"]]]]],[30,0,["setupDropMenu"]],[30,0,["setupDropMenu"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[35,11],null,[["a11y-text","class","size","type"],[[28,[37,10],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,2,["senderFamiliarName"]],[30,2,["messageTextBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","overflow-web-ios"]]]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[10,0],[14,0,"msg-s-event-listitem__options-content"],[12],[1,"\\n                "],[8,[30,21,["dropdown-content"]],null,[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n"],[41,[30,5],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,12],[[4,[38,5],["forward_to_message"],null]],[["@itemSelected"],[[30,0,["forwardViaMessage"]]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,10],["i18n_forward_via_LI","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,12],[[4,[38,5],["forward_to_email"],null]],[["@itemSelected"],[[30,0,["forwardViaEmail"]]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,10],["i18n_forward_via_email","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[41,[28,[37,4],[[30,20],[30,14]],null],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,12],null,[["@itemSelected","@disabled"],[[28,[37,13],[[30,15],true],null],[52,[30,16],[30,16],false]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,10],["i18n_delete_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[41,[30,14],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,12],null,[["@itemSelected"],[[28,[37,13],[[30,17],[30,2,["messageTextBody"]],[30,2,["messageAPIModel"]]],null]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,10],["i18n_edit_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[1,"                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n            "]],[21]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]],[[[41,[30,5],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow-backer"],[12],[13],[1,"\\n          "],[10,0],[14,0,"msg-s-event-listitem__actions-container msg-s-event-listitem__actions-container--ellipsis-only artdeco-card"],[12],[1,"\\n            "],[8,[39,9],[[16,"aria-label",[28,[37,10],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,2,["senderFamiliarName"]],[30,2,["messageTextBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__options-ellipsis","right",[30,0,["dropDirection"]],[30,0,["isOptionMenuOpen"]],[28,[37,8],[[30,0],"isOptionMenuOpen"],null],[28,[37,8],[[30,0],"isFocused",true],null],[30,0,["hideAllActionMenus"]]]],[["default"],[[[[1,"\\n              "],[8,[30,22,["dropdown-trigger"]],[[4,[38,5],["attempt_forward"],null]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,[37,10],["a11y_forward_message","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName"],[[30,2,["senderFamiliarName"]]]]],[30,0,["setupDropMenu"]],[30,0,["setupDropMenu"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[35,11],null,[["a11y-text","class","size","type"],[[28,[37,10],["a11y_message_options","msg-ui/components/primitives/message-hover-actions-presenter"],[["senderName","messageBody"],[[30,2,["senderFamiliarName"]],[30,2,["messageTextBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","overflow-web-ios"]]]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[10,0],[14,0,"msg-s-event-listitem__options-content"],[12],[1,"\\n                "],[8,[30,22,["dropdown-content"]],null,[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,12],[[4,[38,5],["forward_to_message"],null]],[["@itemSelected"],[[30,0,["forwardViaMessage"]]]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,10],["i18n_forward_via_LI","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,12],[[4,[38,5],["forward_to_email"],null]],[["@itemSelected"],[[30,0,["forwardViaEmail"]]]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,10],["i18n_forward_via_email","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n"],[41,[30,14],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,12],null,[["@itemSelected","@disabled"],[[28,[37,13],[[30,15],true],null],[52,[30,16],[30,16],false]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,10],["i18n_delete_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,12],null,[["@itemSelected"],[[28,[37,13],[[30,17],[30,2,["messageTextBody"]],[30,2,["messageAPIModel"]]],null]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,10],["i18n_edit_message","msg-ui/components/primitives/message-hover-actions-presenter"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[1,"                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n            "]],[22]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null]],[]]]],[]]]],[]],null],[1,"\\n  "],[18,23,null],[1,"\\n"],[13]],["@classNames","@viewData","&attrs","@hasAttachment","@enableMsgFwd","@showSendReactionControls","@reactionsHoverTrackingName","assetLoader","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","dropdown","@attachment","@shouldShowEditDelete","@deleteMessageEventModalState","@shouldAllowDeleteAction","@showMessageEditForm","@filename","assetLoader","@shouldShowDelete","dropdown","dropdown","&default"],false,["concat","if","ember-cli-pemberly-i18n@bidi-dir","on","global-helpers@or","ember-cli-pemberly-tracking@track-interaction","asset-loader@deferred-asset-loader","msg-reactions@emoji/promoted-reactions-list-presenter","ember-set-helper@set","artdeco-dropdown@artdeco-dropdown","t","artdeco-icons-web@li-icon","artdeco-dropdown@artdeco-dropdown-item","fn","yield"]]',moduleName:"msg-ui/components/primitives/message-hover-actions-presenter.hbs",isStrictMode:!1})
let E=(f=(0,l.inject)("msg-overlay-manager@msg-overlay-manager"),v=(0,l.inject)("i18n"),b=(0,l.inject)("global-services@window"),y=(0,l.inject)("msg-data@data-manager"),_=(0,l.inject)("persistent-toast-manager@persistent-toast-manager"),w=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"msgOverlay",M,this);(0,t.default)(this,"i18n",D,this);(0,t.default)(this,"windowService",k,this);(0,t.default)(this,"msgDataManager",C,this);(0,t.default)(this,"persistentToastManager",S,this);(0,t.default)(this,"isOptionMenuOpen",P,this);(0,n.default)(this,"dropDirection","top");(0,t.default)(this,"showActions",x,this);(0,t.default)(this,"isFocused",T,this)}toggleActionsOn(){this.toggleActionsOnTask=(0,u.runTask)(this,(()=>{this.isDestroying||(this.showActions=!0)}),300)}toggleActionsOff(){this.toggleActionsOnTask&&(0,u.cancelTask)(this,this.toggleActionsOnTask);(0,u.runTask)(this,(()=>{const e=document.querySelector(".msg-s-event-listitem__message-bubble--is-focused .msg-s-event-listitem__actions-container")
!this.isDestroying&&e&&e.contains(document.activeElement)||(this.showActions=!1)}))}_closeOptionDropdown(){this.isOptionMenuOpen=!1}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/message-hover-actions-presenter","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}setupDropMenu(e){const t=this.dropDirection,n=e.target.closest(".msg-s-message-list"),s=e.target.closest(".msg-s-event-listitem__actions-container"),i=e.target,r=.5*n.offsetHeight,a=n.getBoundingClientRect().bottom-i.getBoundingClientRect().bottom-s.offsetHeight<r?"top":"bottom"
a!==t&&(0,o.set)(this,"dropDirection",a)}forwardViaMessage(){this.msgOverlay.triggerNewConversationWithForwardedMessage(this.args.viewData.messageUrn,this.args.viewData.messageAPIModel)
this._closeOptionDropdown()}forwardViaEmail(){const e=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-ui@primitives/message-hover-actions-presenter","INMAIL"===this.args.viewData.messageSubtype?"i18n_forwarded_inmail_message_preamble":"i18n_forwarded_message_preamble")()),t=this.args.viewData.senderFullName,n=`linkedin.com/in/${this.args.viewData.senderPublicIdentifier}`,s=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-ui@primitives/message-hover-actions-presenter","i18n_forwarded_message_header")([{originalSender:t,originalSenderProfileURL:n}])),i=this.args.viewData.messageSubject,r=(0,o.get)(this.args.viewData.messageTextBody,"text")
let a="mailto:?",l=`${e}\r\n\r\n${s}\r\n\r\n`
if("INMAIL"===this.args.viewData.messageSubtype&&i){a+=`subject=${encodeURIComponent(`FWD: ${i}`)}&`
l+=`${i}\r\n\r\n`}l+=r
a+=`body=${encodeURIComponent(l)}`
this.windowService.open(a,"")
this._closeOptionDropdown()}forwardAttachment(e){const t={};(0,o.set)(e,"messageReference",this.args.viewData.messageUrn)
if(this.msgDataManager.msgSDKEnabled){const{file:n,vectorImage:s}=e
if(n){t.isImage=!1
t.id=n.assetUrn
t.reference=n.url
t.name=n.name
t.mediaType=n.mediaType
t.byteSize=n.byteSize
t.mediaTypeExtension=(0,p.mediaTypeExtension)(t.mediaType)
t.formattedSize=(0,g.default)(t.byteSize,this.i18n)}else if(s){t.isImage=!0
t.id=s.digitalmediaAsset
t.reference=s.rootUrl}}else{void 0===(0,o.get)(e,"isImage")&&(t.isImage=(0,p.isSupportedImageFile)((0,o.get)(e,"mediaType"),(0,o.get)(e,"name")));(0,o.get)(e,"mediaTypeExtension")||(t.mediaTypeExtension=(0,p.mediaTypeExtension)((0,o.get)(e,"mediaType")));(0,o.get)(e,"formattedSize")||(t.formattedSize=(0,g.default)((0,o.get)(e,"byteSize"),this.i18n))}(0,o.setProperties)(e,t)
const n={forwardedAttachments:[e]}
this.msgOverlay.triggerNewConversation(n)}hideAllActionMenus(e){if(c.default){const t=document.querySelector(".msg-s-event-listitem__message-bubble--is-focused .msg-s-event-listitem__actions-container")
if(e&&e.target&&t&&t.contains(e.target)&&e.relatedTarget&&t.contains(e.relatedTarget))return;(0,h.mutateDOM)((()=>{this.isOptionMenuOpen=!1
this.isFocused=!1}))}}},M=(0,s.default)(w.prototype,"msgOverlay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,s.default)(w.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,s.default)(w.prototype,"windowService",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,s.default)(w.prototype,"msgDataManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(w.prototype,"persistentToastManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(w.prototype,"isOptionMenuOpen",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,s.default)(w.prototype,"showActions",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=(0,s.default)(w.prototype,"isFocused",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(w.prototype,"toggleActionsOn",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"toggleActionsOn"),w.prototype),(0,s.default)(w.prototype,"toggleActionsOff",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"toggleActionsOff"),w.prototype),(0,s.default)(w.prototype,"setupDropMenu",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"setupDropMenu"),w.prototype),(0,s.default)(w.prototype,"forwardViaMessage",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"forwardViaMessage"),w.prototype),(0,s.default)(w.prototype,"forwardViaEmail",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"forwardViaEmail"),w.prototype),(0,s.default)(w.prototype,"forwardAttachment",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"forwardAttachment"),w.prototype),(0,s.default)(w.prototype,"hideAllActionMenus",[o.action],Object.getOwnPropertyDescriptor(w.prototype,"hideAllActionMenus"),w.prototype),w)
e.default=E;(0,r.setComponentTemplate)(I,E)}))
define("msg-ui/components/primitives/message-list-item-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","msg-shared/utils/constants","ember-cli-pemberly-tracking/utils/tracking","msg-ui/viewdata/message-list-item-viewdata","msg-ui/viewdata/sdk-message-list-item-viewdata","tracked-toolbox","urn-utils"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,v,b,y,_,w,M,D,k,C,S,P,x,T,I,E,A,O,R
const U=(0,a.createTemplateFactory)({id:"6LvDZ3Tb",block:'[[[41,[28,[37,1],[[30,0,["viewData","dateBoundary"]],[30,0,["isOldestUnreadMessage"]]],null],[[[1,"  "],[10,0],[14,0,"msg-s-message-list__new-message-time-heading t-12 t-bold"],[12],[1,"\\n    "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading--timestamp t-black--light"],[12],[1,"\\n      "],[1,[28,[35,2],[[30,0,["viewData","dateBoundary","timestamp"]]],null]],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading--text"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_new_message_divider_text","msg-ui/components/primitives/message-list-item-feature"],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[41,[30,0,["viewData","dateBoundary"]],[[[1,"  "],[10,"time"],[14,0,"msg-s-message-list__time-heading t-12 t-black--light t-bold"],[12],[1,"\\n    "],[1,[28,[35,2],[[30,0,["viewData","dateBoundary","timestamp"]]],null]],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isOldestUnreadMessage"]],[[[1,"  "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading t-12 t-bold"],[12],[1,"\\n    "],[1,[28,[35,3],["i18n_new_message_divider_text","msg-ui/components/primitives/message-list-item-feature"],null]],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[]]]],[]]],[1,"\\n"],[41,[30,0,["viewData","senderGroupMessageCount"]],[[[1,"  "],[10,1],[14,0,"msg-s-event-listitem--group-a11y-heading visually-hidden"],[12],[1,"\\n    "],[1,[28,[35,3],["i18n_a11y_pre_message_text","msg-ui/components/primitives/message-list-item-feature"],[["actorName","count","timestamp"],[[30,0,["viewData","senderName"]],[30,0,["viewData","senderGroupMessageCount"]],[28,[37,4],[[30,0,["viewData","messageCreatedAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[1,"\\n  "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[11,0],[16,0,[29,["msg-s-event-listitem\\n    ",[52,[30,0,["viewData","isM2MMessageFollowedByDateBoundary"]]," msg-s-event-listitem--m2m-msg-followed-by-date-boundary"],"\\n    ",[52,[30,0,["viewData","isSystemMessageFollowedByM2MMessage"]]," msg-s-event-listitem--system-followed-by-m2m-msg"],"\\n    ",[52,[30,0,["viewData","isSystemMessagePrecededByM2MMessage"]]," msg-s-event-listitem--system-preceded-by-m2m-msg"],"\\n    ",[52,[30,0,["viewData","isLastInGroup"]]," msg-s-event-listitem--last-in-group"],"\\n    ",[52,[30,0,["viewData","messageSeenReceipts","length"]]," msg-s-event-listitem--has-seen-receipts"],"\\n    ",[52,[30,0,["viewData","isSystemMessage"]]," msg-s-event-listitem--system"],"\\n    ",[52,[30,0,["viewData","isInMailFromOtherUser"]]," msg-s-event-listitem--inmail"],"\\n    ",[52,[30,0,["viewData","isMessageFromOtherUser"]]," msg-s-event-listitem--other"],"\\n    ",[52,[30,0,["viewData","footerText"]]," msg-s-event-listitem--has-footer-text"],"\\n    ",[52,[30,0,["viewData","isError"]]," msg-s-event-listitem--is-error"]]]],[16,"data-event-urn",[30,0,["viewData","messageUrn"]]],[17,1],[4,[38,5],[[30,0,["createImpressionEvent"]]],[["routeName","currentRoute"],[[28,[37,6],[[53,"outletState"],"render.name"],null],[28,[37,6],[[53,"outletState"],"render"],null]]]],[4,[38,8],[[30,0,["fireCustomPageViewEvent"]]],null],[12],[1,"\\n"],[41,[30,0,["viewData","showMeta"]],[[[41,[30,0,["viewData","isSponsoredMessage"]],[[[1,"      "],[8,[39,9],null,[["@viewData","@isCompanySender"],[[30,0,["viewData","messageSenderAdvertiserEntityViewData"]],[30,2]]],null],[1,"\\n"]],[]],[[[41,[28,[37,10],[[30,0,["viewData","isSystemMessage"]]],null],[[[1,"      "],[8,[39,11],null,[["@viewData","@showPresence","@size","@profileRoute"],[[30,0,["viewData","messageSenderEntityViewData"]],[30,3,["groupChat"]],2,"profile.common.profile"]],null],[1,"\\n    "]],[]],null]],[]]],[1,"\\n    "],[10,0],[14,0,"msg-s-message-group__meta"],[12],[1,"\\n"],[41,[30,0,["viewData","isSponsoredMessage"]],[[[41,[30,2],[[[1,"          "],[8,[39,12],null,[["@route","@model"],["companies.company",[28,[37,13],[[30,0,["viewData","companySenderUrn"]]],null]]],[["default"],[[[[1,"\\n            "],[10,1],[14,0,"msg-s-message-group__name hoverable-link-text t-14 t-black t-bold"],[12],[1,"\\n              "],[1,[30,0,["viewData","companySenderName"]]],[1,"\\n            "],[13],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],[[[1,"          "],[10,1],[14,0,"msg-s-message-group__name t-14 t-black t-bold"],[12],[1,"\\n            "],[1,[30,0,["viewData","senderFullName"]]],[1,"\\n          "],[13],[1,"\\n"]],[]]]],[]],[[[41,[28,[37,10],[[30,0,["viewData","senderProfileUrl"]]],null],[[[1,"          "],[10,1],[14,0,"msg-s-message-group__name t-14 t-black t-bold"],[12],[1,"\\n            "],[1,[30,0,["viewData","senderAnonymousName"]]],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[8,[39,14],[[4,[38,15],["view_profile"],null]],[["@href"],[[30,0,["viewData","senderProfileUrl"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["viewData","senderName"]],[[[1,"              "],[10,1],[14,0,"msg-s-message-group__profile-link msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[12],[1,"\\n                "],[1,[28,[35,3],["i18n_default_listitem_actor_full_name","msg-ui/components/primitives/message-list-item-feature"],[["actorName"],[[30,0,["viewData","senderName"]]]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"          "]],[]]]]],[1,"\\n"]],[]]]],[]]],[1,"      "],[8,[39,16],[[24,0,"t-12 t-black--light t-normal"]],[["@pronounsObject"],[[30,0,["viewData","senderPronouns"]]]],null],[1,"\\n"],[41,[28,[37,17],[[28,[37,10],[[30,0,["viewData","isSponsoredConversation"]]],null],[30,4]],null],[[[1,"        "],[10,"time"],[14,0,"msg-s-message-group__timestamp white-space-nowrap t-12 t-black--light t-normal"],[12],[1,"\\n          "],[1,[28,[35,4],[[30,0,["viewData","messageCreatedAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"]],[]],null],[41,[30,0,["viewData","isSystemMessage"]],[[[1,"    "],[8,[39,18],null,[["@msgSDKEnabled","@viewData","@handleSuccessfulDiscardRequest"],[[30,0,["msgDataManager","msgSDKEnabled"]],[30,0,["viewData","messageListItemSystemMessageViewData"]],[30,5]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,19],null,[["@viewData","@isMsgSeenByNone","@redirectToActiveConversation","@showMessageEditForm","@showImageAttachment","@onEmojiHoverableShow","@onEmojiHoverableHide","@blockedByNoResponse","@isOverlay","@trackingPrefix"],[[30,0,["viewData","messageListItemUserMessageViewData"]],[28,[37,20],[[30,4],[30,6]],null],[30,7],[30,8],[30,9],[30,0,["onEmojiHoverableShow"]],[30,0,["onEmojiHoverableHide"]],[30,10],[30,11],[52,[30,11],"overlay.",""]]],null],[1,"\\n"]],[]]],[1,"\\n  "],[18,14,[[30,0,["viewData"]]]],[1,"\\n\\n"],[41,[30,0,["viewData","showMessageSendFailedError"]],[[[1,"    "],[11,2],[24,0,"msg-s-event-listitem__error-message t-12 t-black t-bold"],[4,[38,22],["click",[28,[37,23],[[30,0,["resendFailedMessage"]],[30,0,["viewData","messageUrn"]]],null]],null],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_message_retry","msg-ui/components/primitives/message-list-item-feature"],null]],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13],[1,"\\n\\n"],[41,[52,[30,12],[28,[37,6],[[30,0,["viewData","messageSeenReceipts"]],"length"],null]],[[[1,"  "],[10,0],[14,0,"msg-s-event-listitem__seen-receipts t-12 t-black--light t-normal"],[12],[1,"\\n"],[42,[28,[37,25],[[28,[37,25],[[30,0,["viewData","messageSeenReceipts"]]],null]],null],"id",[[[41,[30,13,["profile"]],[[[1,"        "],[8,[39,26],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,13,["profile","picture"]],[28,[37,3],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/primitives/message-list-item-feature"],[["senderName","seenAt"],[[28,[37,27],[[30,13,["profile"]]],null],[28,[37,4],[[30,13,["seenAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],[28,[37,3],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/primitives/message-list-item-feature"],[["senderName","seenAt"],[[28,[37,27],[[30,13,["profile"]]],null],[28,[37,4],[[30,13,["seenAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],"msg-s-event-listitem__seen-receipt-photo EntityPhoto-circle-1",100,100,"person"]],null],[1,"\\n"]],[]],null]],[13]],null],[1,"  "],[13],[1,"\\n"]],[]],null]],["&attrs","@isCompanySender","@conversation","@index","@handleSuccessfulDiscardRequest","@indexOfLatestMessageSeenByNone","@redirectToActiveConversation","@showMessageEditForm","@showImageAttachment","@blockedByNoResponse","@isOverlay","@showSeenReceipts","receipt","&default"],false,["if","global-helpers@and","msg-ui@date-group-heading","t","ember-cli-pemberly-i18n@format-time","ember-cli-pemberly-tracking@track-impression","get","-get-dynamic-var","did-insert","msg-ui@primitives/message-sender-advertiser-entity-presenter","global-helpers@not","msg-ui@primitives/message-sender-entity-presenter","ember-engines@link-to-external","global-helpers@urn-to-id","app-aware-link@app-aware-link","ember-cli-pemberly-tracking@track-interaction","pronouns@pronouns","global-helpers@or","msg-ui@primitives/message-list-item-system-message-presenter","msg-ui@primitives/message-list-item-user-message-presenter","global-helpers@gte","yield","on","fn","each","-track-array","ember-vector-images@lazy-image","global-helpers@name"]]',moduleName:"msg-ui/components/primitives/message-list-item-feature.hbs",isStrictMode:!1}),{IMPRESSION_KEYS:{CONVERSATION_DETAIL_IMPRESSION:N,DISPLAY_ITEM_TYPE:j},MESSAGES_PER_PAGE:F,PAGEVIEW_KEYS:{CONVERSATION_DETAIL_PAGEKEY:L}}=d.default
let z=(f=(0,l.inject)("client-sensor-web@client-sensor"),v=(0,l.inject)("i18n"),b=(0,l.inject)("jet"),y=(0,l.inject)("msg-data@data-manager"),_=(0,l.inject)("authentication@authenticated-user"),w=(0,l.inject)("tracking"),M=(0,l.inject)("formatter"),D=(0,l.inject)("router"),k=(0,l.inject)("presence@presence-api"),C=class extends c.default{get viewData(){var e
const{conversation:t,index:n}=this.args
if(this.msgDataManager.msgSDKEnabled){const{messages:e}=t
let s=null,i=null
try{n>0&&(s=e.at(n-1))
n<e.length-1&&(i=e.at(n+1))}catch(s){this.jet.error(new Error("Unexpected SDK Index out of bounds error"),[`index: ${n}`,`conversation URN: ${t.entityUrn}`,`conversation URN from message: ${this.args.message.backendConversationUrn}`,`messages length: ${e.length}`],{shouldRethrow:!1})}const{mailboxParticipants:r}=this.msgDataManager
return new p.default({message:this.args.message,sender:r[this.args.message.senderUrn],participants:t.participants,conversation:t,mailboxParticipants:r,authenticatedUser:this.authenticatedUser,formatter:this.formatter,i18n:this.i18n,previousMessage:s,nextMessage:i,presenceAPI:this.presenceAPI})}const{id:s}=(0,h.extractEntityInfoFromUrn)((0,o.get)(t,"entityUrn"))
let i={},r={}
const a=null===(e=this.msgDataManager.getEventCollection(s))||void 0===e?void 0:e.data
if(a){if(n>0){var l
i=null===(l=a[n-1])||void 0===l?void 0:l.content}if(n<a.length-1){var c
r=null===(c=a[n+1])||void 0===c?void 0:c.content}}return new u.default({message:(0,o.get)(this.args.message,"content"),conversation:(0,o.get)(t,"content")?(0,o.get)(t,"content"):t,conversationSeenReceipts:this.args.conversationSeenReceipts,msgDataManager:this.msgDataManager,authenticatedUser:this.authenticatedUser,formatter:this.formatter,i18n:this.i18n,router:this.router,previousMessage:i,nextMessage:r})}get isOldestUnreadMessage(){return this.args.index===this.args.messageIndexToBeAnchored}constructor(){var e
super(...arguments);(0,t.default)(this,"clientSensor",S,this);(0,t.default)(this,"i18n",P,this);(0,t.default)(this,"jet",x,this);(0,t.default)(this,"msgDataManager",T,this);(0,t.default)(this,"authenticatedUser",I,this);(0,t.default)(this,"tracking",E,this);(0,t.default)(this,"formatter",A,this);(0,t.default)(this,"router",O,this);(0,t.default)(this,"presenceAPI",R,this)
if(this.args.isOverlay&&null!==(e=this.msgDataManager.receivedRealtimeMessages[this.viewData.messageUrn])&&void 0!==e&&e.fireExpectedRenderClientSensor){this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"realtime-message-rendered-in-overlay"})
this.msgDataManager.receivedRealtimeMessages[this.viewData.messageUrn].fireExpectedRenderClientSensor=!1}}createImpressionEvent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(this.isDestroyed||this.isDestroying||this.viewData.isBeingCreatedOrDestroyed)return[]
const{conversationBackendUrn:t,messageBackendUrn:n,participantUrns:s,isGifMessage:i,tenorGifId:r}=this.viewData,a={objectUrn:t,trackingId:(0,m.generateTrackingId)()},o={moduleKey:this.args.moduleKey??this.tracking.getCurrentPageKey(),displayItem:{trackingObject:{objectUrn:n,trackingId:(0,m.generateTrackingId)()},type:j.MESSAGE_DETAIL,visibleTime:e.visibleTime,duration:e.duration},participantUrns:s,conversation:a}
i&&(o.displayItem.thirdPartyMediaTrackingObject={objectUrn:`urn:li:tenor:${r}`,trackingId:(0,m.generateTrackingId)()})
return{name:N,body:o}}fireCustomPageViewEvent(){this.args.messageIndex>0&&this.args.messageIndex%F==0&&this.tracking.firePageViewEvent(L)}resendFailedMessage(e){const{isMessageFromOtherUser:t,isSystemMessage:n,conversationUrn:s}=this.viewData
t||n||this.args.resendMessage(s,e)}},S=(0,s.default)(C.prototype,"clientSensor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(C.prototype,"i18n",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,s.default)(C.prototype,"jet",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,s.default)(C.prototype,"msgDataManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,s.default)(C.prototype,"authenticatedUser",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(C.prototype,"tracking",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,s.default)(C.prototype,"formatter",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(C.prototype,"router",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,s.default)(C.prototype,"presenceAPI",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(C.prototype,"viewData",[g.cached],Object.getOwnPropertyDescriptor(C.prototype,"viewData"),C.prototype),(0,s.default)(C.prototype,"createImpressionEvent",[o.action],Object.getOwnPropertyDescriptor(C.prototype,"createImpressionEvent"),C.prototype),(0,s.default)(C.prototype,"fireCustomPageViewEvent",[o.action],Object.getOwnPropertyDescriptor(C.prototype,"fireCustomPageViewEvent"),C.prototype),(0,s.default)(C.prototype,"resendFailedMessage",[o.action],Object.getOwnPropertyDescriptor(C.prototype,"resendFailedMessage"),C.prototype),C)
e.default=z;(0,r.setComponentTemplate)(U,z)}))
define("msg-ui/components/primitives/message-list-item-system-message-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"FW/zU8U2",block:'[[[10,2],[14,0,"msg-system-message-presenter t-12 t-black--light t-normal"],[12],[1,"\\n"],[41,[30,1,["hasSystemMessageBodyRenderFormat"]],[[[41,[30,2],[[[1,"      "],[10,1],[14,0,"msg-system-message-presenter__attributed-text--system"],[12],[1,"\\n        "],[1,[28,[35,1],[[30,1,["messageTextBody"]]],null]],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[1,"      "],[8,[39,2],[[24,0,"msg-system-message-presenter__attributed-text--system"]],[["@attributedText","@tagName"],[[30,1,["messageTextBody"]],"span"]],null],[1,"\\n"]],[]]]],[]],[[[41,[30,1,["isParticipantChangeSystemMessage"]],[[[1,"    "],[1,[30,1,["participantChangeSummary"]]],[1,"\\n  "]],[]],null]],[]]],[13]],["@viewData","@msgSDKEnabled"],false,["if","global-helpers@attributed-text-html","rich-text@attributed-text"]]',moduleName:"msg-ui/components/primitives/message-list-item-system-message-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/primitives/message-list-item-user-message-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@glimmer/component","@ember/debug","@ember/service","msg-shared/utils/constants","msg-ui/utils/virtual-meeting-constants","msg-shared/utils/decorate-attributed-body","@glimmer/tracking","msg-ui/utils/marketplace-project-card-constants","scaffold-sound/services/sound"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,b,y,_,w,M,D,k,C,S,P,x,T,I,E,A,O,R,U,N,j,F,L,z,B,V,q,H,W,G,K,$
const Y=(0,a.createTemplateFactory)({id:"jA9DMlLu",block:'[[[41,[30,1,["groupName"]],[[[1,"  "],[10,2],[14,0,"msg-s-event-listitem--system t-12 t-black--light t-normal"],[12],[1,"\\n    "],[1,[28,[35,1],["i18n_users_of_linkedin_group","msg-ui/components/primitives/message-list-item-user-message-presenter"],[["group"],[[30,1,["groupName"]]]]]],[1,"\\n  "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["isRecalled"]],[[[1,"  "],[10,2],[14,0,"msg-s-event-listitem__body--recalled msg-s-event-listitem__body t-14 t-black--light t-normal"],[12],[1,"\\n    "],[1,[28,[35,1],["i18n_message_deleted","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[41,[30,1,["gif"]],[[[1,"  "],[8,[39,2],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n    "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n      "],[8,[39,5],null,[["@bundle"],["tenor-gif"]],[["default"],[[[[1,"\\n"],[41,[30,6,["state","fulfilled"]],[[[1,"          "],[8,[39,6],[[24,0,"msg-s-event-listitem__gif"]],[["@imgClass","@maxWidth","@mediaObject"],["msg-s-event-listitem__gif-img-class",220,[30,1,["gif"]]]],null],[1,"\\n"]],[]],null],[1,"      "]],[6]]]]],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"    "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,7,["state","fulfilled"]],[[[1,"        "],[8,[39,7],null,[["@viewData","@isOverlay"],[[30,1,["reactionSummaryViewData"]],[30,2]]],null],[1,"\\n"]],[]],null],[1,"    "]],[7]]]]],[1,"\\n"]],[]],null]],[]],[[[41,[30,1,["stickerImage"]],[[[1,"  "],[8,[39,8],null,[["@image","@class","@alt","@desiredWidth"],[[30,1,["stickerImage"]],"msg-s-event-listitem__sticker",[28,[37,1],["i18n_sticker","msg-ui/components/primitives/message-list-item-user-message-presenter"],[["senderName"],[[30,1,["senderFamiliarName"]]]]],150]],null],[1,"\\n"]],[]],[[[41,[30,1,["locationSharePreview"]],[[[1,"  "],[8,[39,2],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n    "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"msg-s-event-listitem__url-preview-wrapper mv1"],[12],[1,"\\n        "],[8,[39,9],[[4,[38,10],["open_sent_location"],null]],[["@href","@target","@class"],[[30,1,["urlToUnroll"]],"_blank","msg-s-event-listitem__url-preview display-flex flex-column"]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"msg-s-event-listitem__url-preview-img-wrapper msg-s-event-listitem__url-preview-img-wrapper--location"],[12],[1,"\\n"],[1,"            "],[10,0],[14,0,"msg-s-event-listitem__url-preview-img"],[15,5,[28,[37,11],null,[["background-image"],[[28,[37,12],["url(",[30,1,["locationSharePreview","imageUrl"]],")"],null]]]]],[12],[13],[1,"\\n            "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n              "],[1,[28,[35,1],["i18n_bing_maps","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,"article"],[14,0,"msg-s-event-listitem__url-preview-description p2"],[12],[1,"\\n            "],[10,"h2"],[14,0,"msg-s-event-listitem__url-preview-headline t-14 t-black t-bold"],[12],[1,"\\n              "],[1,[30,1,["locationSharePreview","title"]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"h3"],[14,0,"msg-s-event-listitem__url-preview-byline t-14 t-black--light t-normal"],[12],[1,"\\n              "],[1,[28,[35,1],["i18n_bing_maps","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"    "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,8,["state","fulfilled"]],[[[1,"        "],[8,[39,7],null,[["@viewData","@isOverlay"],[[30,1,["reactionSummaryViewData"]],[30,2]]],null],[1,"\\n"]],[]],null],[1,"    "]],[8]]]]],[1,"\\n"]],[]],null]],[]],[[[41,[30,0,["shouldObfuscateMessage"]],[[[1,"    "],[8,[39,2],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showMessageEditForm","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,[30,1,["allowReactions"]],false,[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"msg-s-event-listitem__obfuscated-message-card mt2 mr2 mb1 pv2 ph3 t-14"],[12],[1,"\\n        "],[1,[30,1,["obfuscatedMessage","warning"]]],[1,"\\n\\n        "],[11,"button"],[24,0,"t-14 t-black t-bold"],[16,"aria-label",[30,1,["obfuscatedMessage","ctaText"]]],[24,4,"button"],[4,[38,10],["inline_warning_show"],null],[4,[38,13],["click",[30,0,["showObfuscatedMessage"]]],null],[12],[1,"\\n          "],[1,[30,1,["obfuscatedMessage","ctaText"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,9,["state","fulfilled"]],[[[1,"          "],[8,[39,7],null,[["@viewData","@isOverlay"],[[30,1,["reactionSummaryViewData"]],[30,2]]],null],[1,"\\n"]],[]],null],[1,"      "]],[9]]]]],[1,"\\n"]],[]],null]],[]],[[[41,[28,[37,14],[[30,1,["storyItemUrn"]],[30,0,["displayMessagingStoryBeforeTextBody"]]],null],[[[1,"      "],[8,[39,15],null,[["@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@trackingPrefix","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["storyViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],false,false,[30,10],[30,0,["reactionsHoverTrackingName"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["decoratedContent"]],[[[1,"      "],[8,[39,2],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName","@shouldAllowDeleteAction"],["msg-s-event-listitem__message-bubble--msg-fwd-enabled",[30,1,["messageHoverActionsViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],[30,1,["allowMessageForward"]],[30,2],[30,3],[30,4],[30,5],[30,0,["enableModifyMessage"]],[30,11],[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]],[30,12]]],[["default"],[[[[1,"\\n"],[41,[28,[37,16],[[30,1,["messageSubType"]],"INMAIL"],null],[[[41,[28,[37,14],[[30,1,["subject"]],[28,[37,17],[[30,0,["referralRequestCardUrl"]]],null]],null],[[[1,"            "],[10,"h3"],[14,0,"msg-s-event-listitem__subject t-14 t-black--light t-bold"],[12],[1,"\\n              "],[1,[30,1,["subject"]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"        "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,13,["state","fulfilled"]],[[[1,"            "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n              "],[10,2],[15,0,[29,["msg-s-event-listitem__body t-14 t-black--light t-normal\\n                  ",[52,[28,[37,18],[[30,1,["messageAttributedBody"]]],null]," t-32"]]]],[12],[8,[39,19],null,[["@decoratedContent","@subtype","@fireBodyLinkTracking"],[[30,0,["decoratedContent"]],[30,1,["messageSubType"]],[30,0,["fireBodyLinkTracking"]]]],null],[41,[30,1,["hasBeenEdited"]],[[[10,1],[14,0,"t-14 t-black--light t-normal pl1"],[12],[1,[28,[35,1],["i18n_message_edited","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[13]],[]],null],[13]],[]]]]],[1,"\\n\\n"],[41,[30,0,["referralRequestCardUrl"]],[[[1,"              "],[10,0],[14,0,"msg-s-event__referral-request-card display-flex flex-column mt4 mr3 mb4"],[12],[1,"\\n                "],[10,0],[14,0,"card-info display-flex align-items-center"],[12],[1,"\\n                  "],[1,[28,[35,20],null,[["type","size","color"],["linkedin-bug","14dp","brand"]]]],[1,"\\n                  "],[10,1],[14,0,"t-12 t-bold t-black--light ml1"],[12],[1,[28,[35,1],["i18n_referral_request_header","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"display-flex mt3 mb1"],[12],[1,"\\n                  "],[10,0],[14,0,"banner-icon"],[12],[13],[1,"\\n                  "],[10,0],[14,0,"display-flex flex-column ml2"],[12],[1,"\\n                    "],[10,1],[14,0,"t-14 mb1 t-bold"],[12],[1,"\\n                      "],[1,[52,[30,1,["isSentByCurrentUser"]],[28,[37,1],["i18n_referral_request_title","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],[28,[37,1],["i18n_referral_request_title_referrer_side","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]]],[1,"\\n                    "],[13],[1,"\\n                    "],[10,1],[14,0,"t-12 mb0 t-black--light t-normal"],[12],[1,"\\n                      "],[1,[52,[30,1,["isSentByCurrentUser"]],[28,[37,1],["i18n_referral_request_description","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],[28,[37,1],["i18n_referral_request_description_referrer_side","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n                "],[8,[39,9],[[24,0,"referral-request-link"],[4,[38,10],[[52,[30,1,["isSentByCurrentUser"]],"job_seeker_referral_request_card_view_detail","referral_request_card_view_detail"]],null]],[["@href","@target"],[[30,0,["referralRequestCardUrl"]],"_blank"]],[["default"],[[[[1,"\\n                  "],[8,[39,21],null,[["@type","@size","@text","@class"],["primary","1",[28,[37,1],["i18n_referral_request_cta","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],"full-width full-height"]],null],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"            "],[10,2],[14,0,"msg-s-event-listitem__body t-14 t-black--light t-normal"],[12],[8,[39,19],null,[["@decoratedContent","@subtype","@fireBodyLinkTracking"],[[30,0,["decoratedContent"]],[30,1,["messageSubType"]],[30,0,["fireBodyLinkTracking"]]]],null],[13],[1,"\\n"]],[]]],[1,"        "]],[13]]]]],[1,"\\n      "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,14],[[30,1,["storyItemUrn"]],[30,0,["displayMessagingStoryAfterTextBody"]]],null],[[[1,"      "],[8,[39,15],null,[["@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@trackingPrefix","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["storyViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],false,false,[30,10],[30,0,["reactionsHoverTrackingName"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["hasForwardedContent"]],[[[1,"      "],[8,[39,2],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n        "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n          "],[8,[39,22],null,[["@viewData"],[[30,1,["forwardedMessageViewData"]]]],null],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showInlineWarning"]],[[[1,"      "],[8,[39,23],null,[["@viewData","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","@afterDismissed","@focusOnMsgReportCta"],[[30,1,["inlineWarningViewData"]],[30,14],[30,15],[28,[37,3],[[30,0],"isInlineWarningDismissed",true],null],[30,0,["focusOnMsgReportCta"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["footerTextViewModel"]],[[[1,"      "],[10,1],[14,0,"msg-s-event-listitem__footer-text t-12 t-bold"],[12],[1,"\\n"],[41,[30,0,["msgDataManager","msgSDKEnabled"]],[[[1,"          "],[1,[28,[35,24],[[30,1,["footerTextViewModel"]]],null]],[1,"\\n"]],[]],[[[1,"          "],[1,[28,[35,25],[[30,1,["footerTextViewModel"]]],null]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["referral","isHiringPlatformSupported"]],[[[1,"      "],[8,[39,26],null,[["@class"],["msg-s-event-listitem__job-card mt3 mb4"]],[["default"],[[[[1,"\\n        "],[8,[39,27],[[24,0,"display-flex flex-column"],[4,[38,10],["view_job_card"],null]],[["@route","@model"],["jobs.view",[28,[37,28],[[30,1,["referral","jobPosting"]]],null]]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"inline-flex Elevation-0dp p2"],[12],[1,"\\n            "],[8,[39,29],null,[["@image","@class","@alt","@ghostType","@width"],[[30,1,["referral","companyLogo"]],"msg-s-event-listitem__company-logo EntityPhoto-square-3",[28,[37,1],["i18n_company_logo_a11y","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],"company",64]],null],[1,"\\n            "],[10,0],[14,0,"ml2"],[12],[1,"\\n              "],[10,2],[14,0,"t-16 t-bold"],[12],[1,"\\n                "],[1,[30,1,["referral","jobTitle"]]],[1,"\\n              "],[13],[1,"\\n              "],[10,2],[14,0,"t-14 t-black--light"],[12],[1,"\\n                "],[1,[30,1,["referral","companyName"]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n"],[41,[30,1,["referral","isPendingReferralForListedJob"]],[[[1,"        "],[8,[39,21],[[4,[38,13],["click",[28,[37,3],[[30,0],"isReferralFormOpen",true],null]],null],[4,[38,10],[[30,0,["referralButtonControlName"]]],null],[4,[38,30],[[30,0,["onReferralButtonImpression"]]],[["routeName","currentRoute"],[[28,[37,31],[[53,"outletState"],"render.name"],null],[28,[37,31],[[53,"outletState"],"render"],null]]]]],[["@type","@size","@text","@icon","@class"],["primary","2",[28,[37,1],["i18n_start_referral","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],"job","msg-s-event-listitem__referral-button"]],null],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[30,0,["virtualMeetingData"]],[[[1,"      "],[8,[39,2],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n        "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n          "],[8,[39,33],null,[["@class","@virtualMeetingData"],["msg-s-event-listitem__unrolled-virtual-meeting artdeco-card",[30,0,["virtualMeetingData"]]]],null],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n"]],[]],[[[41,[30,0,["unrolledUpdateV2"]],[[[1,"      "],[8,[39,2],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n        "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n          "],[8,[39,5],null,[["@bundle"],["feed-shared"]],[["default"],[[[[1,"\\n"],[41,[30,16,["state","fulfilled"]],[[[1,"              "],[8,[39,34],[[24,0,"msg-s-event-listitem__unrolled-update-v2 artdeco-card overflow-hidden"],[16,"onClick",[52,[28,[37,16],[[30,1,["messageSubType"]],"SPONSORED_MESSAGE"],null],[30,0,["fireBodyLinkTracking"]]]]],[["@update","@shouldHideCtaButton","@showNestedShares"],[[30,0,["unrolledUpdateV2"]],[30,2],true]],null],[1,"\\n"]],[]],[[[41,[30,16,["state","pending"]],[[[1,"              "],[10,0],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[1,"\\n                "],[8,[39,35],null,null,null],[1,"\\n              "],[13],[1,"\\n            "]],[]],null]],[]]],[1,"          "]],[16]]]]],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[]],null]],[]]],[1,"\\n"],[41,[30,0,["smpContent"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["marketplace-message-card"]],[["default"],[[[[1,"\\n"],[41,[30,17,["state","fulfilled"]],[[[1,"          "],[8,[39,2],null,[["@classNames","@viewData","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@shouldShowEditDelete","@showMessageEditForm","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],false,[30,2],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],false,false,[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n            "],[8,[39,36],[[24,0,"msg-s-event-listitem__unrolled-update-v2"]],[["@messageCard","@isPreview"],[[30,0,["smpContent"]],false]],null],[1,"\\n          "]],[]]]]],[1,"\\n"]],[]],[[[41,[30,17,["state","pending"]],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[1,"\\n            "],[8,[39,35],null,null,null],[1,"\\n          "],[13],[1,"\\n        "]],[]],null]],[]]],[1,"      "]],[17]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["hasArticleOrUpdate"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["feed-shared"]],[["default"],[[[[1,"\\n"],[41,[30,18,["state","fulfilled"]],[[[1,"          "],[8,[39,37],null,[["@viewData","@feedUpdate","@showNestedShares","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["feedUpdateViewData"]],[30,1,["feedUpdate"]],true,[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],false,false,[30,0,["reactionsHoverTrackingName"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],null],[1,"\\n"]],[]],[[[41,[30,18,["state","pending"]],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[1,"\\n            "],[8,[39,35],null,null,null],[1,"\\n          "],[13],[1,"\\n        "]],[]],null]],[]]],[1,"      "]],[18]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["fileAttachmentViewDataItems","length"]],[[[42,[28,[37,39],[[28,[37,39],[[30,1,["fileAttachmentViewDataItems"]]],null]],null],null,[[[1,"        "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus","@classNames"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]],[29,["\\n          ",[52,[30,1,["allowMessageForward"]],"msg-s-event-listitem__attachment-item--msg-fwd-enabled"],"\\n          "]]]],[["default"],[[[[1,"\\n          "],[8,[39,40],null,[["@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@showImageAttachment","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],[[30,19],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],[30,1,["allowMessageForward"]],[30,2],[30,20],[30,3],[30,4],[30,5],[30,1,["allowReactions"]],[30,0,["enableModifyMessage"]],[30,0,["reactionsHoverTrackingName"]]]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[19]],null]],[]],null],[1,"\\n"],[41,[30,1,["digitalMediaConferenceUrn"]],[[[1,"      "],[8,[39,2],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],[30,0,["enableModifyMessage"]],false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n        "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"msg-s-event-listitem__linkedin-meeting-container"],[12],[1,"\\n            "],[8,[39,41],null,[["@conferenceUrn","@threadId","@senderName","@virtualMeetingTimeRange","@virtualMeetingCreationTime"],[[30,1,["digitalMediaConferenceUrn"]],[30,1,["conversationId"]],[30,1,["senderName"]],[30,1,["virtualMeetingTimeRange"]],[30,1,["messageCreatedAt"]]]],null],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["mediaAttachments","length"]],[[[1,"      "],[8,[39,2],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[28,[37,3],[[30,0],"isDeleteMessageModalOpen"],null],false,[30,2],[30,3],[30,4],[30,5],false,false,[30,1,["allowReactions"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,39],[[28,[37,39],[[30,1,["mediaAttachments"]]],null]],null],null,[[[41,[28,[37,16],[[30,21,["mediaType"]],"AUDIO"],null],[[[1,"            "],[10,0],[14,0,"msg-s-event-listitem__audio-container"],[12],[1,"\\n              "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n                "],[8,[39,42],null,[["@duration","@url","@trackingPrefix"],[[30,21,["audioDuration"]],[30,21,["audioUrl"]],[30,10]]],null],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[41,[28,[37,16],[[30,21,["mediaType"]],"VIDEO"],null],[[[1,"            "],[8,[39,4],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["messageCreatedAt"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,1,["messageStatus"]]]],[["default"],[[[[1,"\\n              "],[10,0],[14,0,"msg-s-event-listitem__video-container"],[12],[1,"\\n                "],[8,[39,43],null,[["@videoPlayMetadata"],[[30,21,["videoPlayMetadata"]]]],null],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[]],null]],[]]]],[21]],null],[1,"      "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,22,["state","fulfilled"]],[[[1,"          "],[8,[39,7],null,[["@viewData","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide"],[[30,1,["reactionSummaryViewData"]],[30,2],[30,4],[30,3]]],null],[1,"\\n"]],[]],null],[1,"      "]],[22]]]]],[1,"\\n"]],[]],null]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"\\n"],[41,[30,0,["isReferralFormOpen"]],[[[41,[30,0,["isReferralSunsetLixEnabled"]],[[[1,"    "],[8,[39,44],null,[["@isOpen","@size","@dismissModal"],[[30,0,["isReferralFormOpen"]],"medium",[28,[37,3],[[30,0],"isReferralFormOpen",false],null]]],[["default"],[[[[1,"\\n      "],[8,[30,23,["artdeco-modal-header"]],null,null,[["default"],[[[[1,"\\n        "],[10,"h2"],[14,1,"header"],[12],[1,[28,[35,1],["i18n_referral_deprecation_title","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[13],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,23,["artdeco-modal-content"]],null,null,[["default"],[[[[1,"\\n        "],[1,[28,[35,1],["i18n_referral_deprecation_content","msg-ui/components/primitives/message-list-item-user-message-presenter"],null]],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,23,["artdeco-modal-footer"]],null,null,[["default"],[[[[1,"\\n        "],[10,0],[14,0,"msg-s-event-listitem__referral-deprecation-modal-footer-container"],[12],[1,"\\n          "],[8,[39,21],null,[["@text","@color","@type","@click"],[[28,[37,1],["i18n_referral_deprecation_button_content","msg-ui/components/primitives/message-list-item-user-message-presenter"],null],"muted","tertiary",[28,[37,3],[[30,0],"isReferralFormOpen",false],null]]],null],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[23]]]]],[1,"\\n"]],[]],[[[1,"    "],[8,[39,5],null,[["@bundle"],["msg-referrals"]],[["default"],[[[[1,"\\n"],[41,[30,24,["state","fulfilled"]],[[[1,"        "],[8,[39,45],null,[["@referralRecord","@candidateFirstName","@candidateFullName","@company","@jobTitle","@closeModal"],[[30,1,["jobPostingReferral"]],[30,1,["senderName","firstName"]],[30,1,["senderFullName"]],[30,1,["referral","companyName"]],[30,1,["referral","jobTitle"]],[30,0,["closeReferralFormModal"]]]],null],[1,"\\n"]],[]],null],[1,"    "]],[24]]]]],[1,"\\n"]],[]]]],[]],null],[1,"\\n"],[41,[30,0,["isDeleteMessageModalOpen"]],[[[1,"  "],[8,[39,46],null,[["@dismissModal","@deleteMessageAndCloseModal","@deleteEventControlName"],[[28,[37,3],[[30,0],"isDeleteMessageModalOpen",false],null],[30,0,["deleteMessageAndCloseModal"]],[28,[37,12],[[30,10],"delete_message"],null]]],null],[1,"\\n"]],[]],null]],["@viewData","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","assetLoader","assetLoader","assetLoader","assetLoader","@trackingPrefix","@showMessageEditForm","@blockedByNoResponse","assetLoader","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","assetLoader","assetLoader","assetLoader","fileAttachmentViewData","@showImageAttachment","mediaAttachment","assetLoader","modal","assetLoader"],false,["if","t","msg-ui@primitives/message-hover-actions-presenter","ember-set-helper@set","msg-ui@primitives/message-with-sending-indicator-presenter","asset-loader@deferred-asset-loader","tenor-gif@gif-image-presenter","msg-reactions@emoji/reaction-summary-presenter","ember-vector-images@custom-image","ember-cli-pemberly-tracking@shared/external-link","ember-cli-pemberly-tracking@track-interaction","global-helpers@css-style","concat","on","global-helpers@and","msg-ui@rich-media/story-presenter","global-helpers@eq","global-helpers@not","msg-reactions@is-emoji-only-content","msg-ui@primitives/render-chunk","artdeco-icons-web@li-icon","artdeco-button@artdeco-button","msg-ui@forwarded-message-presenter","msg-ui@primitives/inline-warning-presenter","global-helpers@attributed-text-html","text-view-model@text-view-model","artdeco-card@artdeco-card","ember-engines@link-to-external","global-helpers@urn-to-id","ember-vector-images@lazy-image","ember-cli-pemberly-tracking@track-impression","get","-get-dynamic-var","msg-ui@primitives/video-conference-card-presenter","update-components@mini-update-v2","artdeco-loader@artdeco-loader","marketplace-message-card@marketplace-message-card","msg-ui@rich-media/feed-update-presenter","each","-track-array","msg-ui@rich-media/file-attachment-presenter","msg-ui@primitives/linkedin-video-meeting-preview-presenter","msg-ui@rich-media/audio-message-presenter","msg-ui@rich-media/video-message-presenter","artdeco-modal@artdeco-modal","msg-referrals@referral-form-presenter","msg-shared-modals@delete-message-modal-presenter"]]',moduleName:"msg-ui/components/primitives/message-list-item-user-message-presenter.hbs",isStrictMode:!1}),{SPONSORED_TRACKING:{ACTIONS:Q},MESSAGE_STATUS:J}=m.default
let Z=(v=(0,d.inject)("store"),b=(0,d.inject)("lix"),y=(0,d.inject)("i18n"),_=(0,d.inject)("jet"),w=(0,d.inject)("msg-overlay-manager@msg-overlay-manager"),M=(0,d.inject)("authentication@authenticated-user"),D=(0,d.inject)("msg-data@data-manager"),k=(0,d.inject)("persistent-toast-manager@persistent-toast-manager"),C=(0,d.inject)("global-services@global-http-headers"),S=(0,d.inject)("tracking"),P=(0,d.inject)("msg-spinmail-data@sponsored-action-tracking"),x=(0,d.inject)("scaffold-sound@sound"),T=class extends l.default{get shouldShowMessageSendingIndicator(){const{args:{viewData:{isSentByCurrentUser:e,isError:t,messageSubType:n,messageStatus:s}}}=this
return"INMAIL"!==n&&e&&(0,o.get)(this.args,"isMsgSeenByNone")&&!t&&s!==J.ERROR}get referralButtonControlName(){return this.args.trackingPrefix?`${this.args.trackingPrefix}start_referral`:"start_referral"}get virtualMeetingData(){const e=this.unrolledUpdateV2&&(0,o.get)(this.unrolledUpdateV2,"content.navigationContext.actionTarget")
if(e){const t=Object.values(u.MEETING_PROVIDERS).find((t=>t.regex.test(e)))
return t?{class:t.class,controlName:t.controlName,name:t.name,url:e}:void 0}}get decoratedContent(){const{viewData:{messageAttributedBody:e,isJobSeekerRequestReferral:t}}=this.args,n=e&&(0,o.get)(e,"text"),s=(0,p.default)(e,n,this.linkifyOpts),i=(0,o.get)(s,s.length-1+".url")
if(t&&i){this.referralRequestCardUrl=i
s.pop()}return s}get showInlineWarning(){return!this.args.viewData.isConversationBlocked&&!this.isInlineWarningDismissed&&this.args.viewData.hasInlineWarning}get showReactionSummaries(){var e,t
return!(null===(e=this.args.viewData.reactionSummaryViewData)||void 0===e||null===(t=e.reactionSummaryItems)||void 0===t||!t.length)}get displayMessagingStoryAfterTextBody(){return!this.args.viewData.replyToContent}get displayMessagingStoryBeforeTextBody(){return this.args.viewData.replyToContent}get shouldObfuscateMessage(){var e
return(null===(e=this.args.viewData.obfuscatedMessage)||void 0===e?void 0:e.warning)&&!this.args.viewData.isConversationBlocked&&!this.obfuscatedMessageIsRevealed}get enableModifyMessage(){return this.args.viewData.allowMessageEdit&&this._isEditDeleteTimeboxExpired()}get reactionsHoverTrackingName(){return this.args.isOverlay?"overlay.show_reactions_entrypoint":"show_reactions_entrypoint"}get isReferralSunsetLixEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.careers-referrals-sunset")}constructor(){super(...arguments);(0,t.default)(this,"store",I,this);(0,t.default)(this,"lix",E,this);(0,t.default)(this,"i18n",A,this);(0,t.default)(this,"jet",O,this);(0,t.default)(this,"msgOverlay",R,this);(0,t.default)(this,"authenticatedUser",U,this);(0,t.default)(this,"msgDataManager",N,this);(0,t.default)(this,"persistentToastManager",j,this);(0,t.default)(this,"globalHttpHeaders",F,this);(0,t.default)(this,"tracking",L,this);(0,t.default)(this,"sponsoredActionTracking",z,this);(0,t.default)(this,"sound",B,this);(0,t.default)(this,"unrolledUpdateV2",V,this);(0,t.default)(this,"isDeleteMessageModalOpen",q,this);(0,t.default)(this,"obfuscatedMessageIsRevealed",H,this);(0,t.default)(this,"focusOnMsgReportCta",W,this);(0,t.default)(this,"smpContent",G,this);(0,t.default)(this,"isInlineWarningDismissed",K,this);(0,t.default)(this,"isReferralFormOpen",$,this)
this.linkifyOpts={url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")}
const e=this.args.viewData.smpContent
e&&this.store.queryURL(`voyagerMarketplacesDashProjectMessageCards/${encodeURIComponent(e)}`,{adapterOptions:{degradations:[h.MARKETPLACE_PROJECT_DEGRADATION_METADATA.MARKETPLACE_PROJECT_MESSAGE_CARD],degradedEntityIDsToRemove:[e]}}).then((e=>{this.isDestroying||(this.smpContent=e)})).catch((t=>this.jet.error(t,["msg-ui/message-list-item-user-message-presenter","business-inquiry-fetch-message-card-failure",`urn: ${e}`])))
const{urlToUnroll:n,locationSharePreview:s}=this.args.viewData
if(n&&!s){const e=encodeURIComponent(n)
this.store.queryURL(`contentcreation/urlPreview/${e}`,{cacheKey:e}).then((e=>{this.isDestroying||(this.unrolledUpdateV2=(0,o.get)(e,"update"))})).catch((()=>{}))}}_isEditDeleteTimeboxExpired(){return Date.now()-this.args.viewData.messageCreatedAt<36e5}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/message-list-item-user-message-presenter","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}onReferralButtonImpression(){return{name:"CandidateInitiatedStartReferralActionEvent",body:{jobPostingUrn:this.args.viewData.referral.trackingUrn}}}fireBodyLinkTracking(){const e=this.args.viewData.sponsoredData.metadata,t=(0,o.get)(e,"sponsoredTracking"),{sponsoredMessageContentUrn:n,sponsoredMessageTrackingId:s}=this.args.viewData.sponsoredData,i={action:Q.BODY_CLICK,sponsoredConvoId:(0,o.get)(e,"sponsoredConversationTrackingId"),sponsoredMessageContentId:s,sponsoredMetadata:t,sponsoredMessageContentUrn:n}
this.sponsoredActionTracking.fireNodeLevelAdvertiserTracking(this.globalHttpHeaders,this.jet,(0,o.get)(e,"clickTrackingUrl")??"","cta_button",i)}deleteMessageAndCloseModal(){this.isDeleteMessageModalOpen=!1
const{conversationUrn:e,messageUrn:t}=this.args.viewData
e&&t||this._showRecallErrorToast()
this.msgDataManager.recallMessage(e,t).then((()=>{this.sound.play(f.Sound.MessageDeleted)})).catch((e=>{this._showRecallErrorToast()
throw e}))}showObfuscatedMessage(){this.obfuscatedMessageIsRevealed=!0
this.focusOnMsgReportCta=!0}closeReferralFormModal(){this.isReferralFormOpen=!1
this.tracking.fireInteractionEvent("referral_dismiss_form")}},I=(0,s.default)(T.prototype,"store",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(T.prototype,"lix",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,s.default)(T.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(T.prototype,"jet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,s.default)(T.prototype,"msgOverlay",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,s.default)(T.prototype,"authenticatedUser",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,s.default)(T.prototype,"msgDataManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,s.default)(T.prototype,"persistentToastManager",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,s.default)(T.prototype,"globalHttpHeaders",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,s.default)(T.prototype,"tracking",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,s.default)(T.prototype,"sponsoredActionTracking",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,s.default)(T.prototype,"sound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,s.default)(T.prototype,"unrolledUpdateV2",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,s.default)(T.prototype,"isDeleteMessageModalOpen",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,s.default)(T.prototype,"obfuscatedMessageIsRevealed",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,s.default)(T.prototype,"focusOnMsgReportCta",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,s.default)(T.prototype,"smpContent",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,s.default)(T.prototype,"isInlineWarningDismissed",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,s.default)(T.prototype,"isReferralFormOpen",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(T.prototype,"onReferralButtonImpression",[o.action],Object.getOwnPropertyDescriptor(T.prototype,"onReferralButtonImpression"),T.prototype),(0,s.default)(T.prototype,"fireBodyLinkTracking",[o.action],Object.getOwnPropertyDescriptor(T.prototype,"fireBodyLinkTracking"),T.prototype),(0,s.default)(T.prototype,"deleteMessageAndCloseModal",[o.action],Object.getOwnPropertyDescriptor(T.prototype,"deleteMessageAndCloseModal"),T.prototype),(0,s.default)(T.prototype,"showObfuscatedMessage",[o.action],Object.getOwnPropertyDescriptor(T.prototype,"showObfuscatedMessage"),T.prototype),(0,s.default)(T.prototype,"closeReferralFormModal",[o.action],Object.getOwnPropertyDescriptor(T.prototype,"closeReferralFormModal"),T.prototype),T)
e.default=Z;(0,r.setComponentTemplate)(Y,Z)}))
define("msg-ui/components/primitives/message-sender-advertiser-entity-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"T69FkVpi",block:'[[[11,0],[17,1],[12],[1,"\\n"],[41,[30,2],[[[1,"    "],[8,[39,1],null,[["@route","@model"],["companies.company",[30,3,["companyId"]]]],[["default"],[[[[1,"\\n      "],[8,[39,2],null,[["@image","@alt","@title","@class","@ghostType","@desiredWidth"],[[30,3,["profileImage"]],[30,3,["fullName"]],[30,3,["fullName"]],"msg-sender__advertiser-profile-picture EntityPhoto-square-2",[30,3,["ghostType"]],40]],null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[1,"    "],[8,[39,3],null,[["@image","@alt","@title","@class","@ghostType","@desiredWidth"],[[30,3,["profileImage"]],[30,3,["fullName"]],[30,3,["fullName"]],"msg-sender__advertiser-profile-picture EntityPhoto-circle-2",[30,3,["ghostType"]],40]],null],[1,"\\n"]],[]]],[13]],["&attrs","@isCompanySender","@viewData"],false,["if","ember-engines@link-to-external","ember-vector-images@lazy-background","ember-vector-images@lazy-image"]]',moduleName:"msg-ui/components/primitives/message-sender-advertiser-entity-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/primitives/message-sender-entity-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"ldcuTQdQ",block:'[[[41,[28,[37,1],[[30,1,["recipientProfileUrl"]]],null],[[[1,"  "],[10,0],[14,0,"msg-s-event-listitem__unknown-avatar"],[12],[1,"\\n    "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n      "],[1,[28,[35,2],["i18n_view_profile_a11y","msg-ui/components/primitives/message-sender-entity-presenter"],[["firstName"],[[30,1,["familiarName"]]]]]],[1,"\\n    "],[13],[1,"\\n    "],[8,[39,3],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,1,["profileImage"]],[30,1,["fullName"]],[30,1,["fullName"]],[28,[37,4],["msg-s-event-listitem__profile-picture EntityPhoto-circle-",[30,2]],null],100,100,[30,1,["ghostType"]]]],null],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[1,"  "],[8,[39,5],[[24,0,"msg-s-event-listitem__link"],[4,[38,6],["view_profile"],null]],[["@href"],[[30,1,["recipientProfileUrl"]]]],[["default"],[[[[1,"\\n    "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n      "],[1,[28,[35,2],["i18n_view_profile_a11y","msg-ui/components/primitives/message-sender-entity-presenter"],[["firstName"],[[30,1,["familiarName"]]]]]],[1,"\\n    "],[13],[1,"\\n"],[41,[30,3],[[[1,"      "],[8,[39,7],[[24,0,"msg-s-event-listitem__profile-picture"]],[["@viewData","@size"],[[30,1,["entityWithPresenceViewData"]],[30,2]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,3],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,1,["profileImage"]],[30,1,["fullName"]],[30,1,["fullName"]],[28,[37,4],["msg-s-event-listitem__profile-picture EntityPhoto-circle-",[30,2]],null],100,100,[30,1,["ghostType"]]]],null],[1,"\\n"]],[]]],[1,"  "]],[]]]]],[1,"\\n"]],[]]]],["@viewData","@size","@showPresence"],false,["if","global-helpers@not","t","ember-vector-images@lazy-image","concat","ember-cli-pemberly-tracking@shared/external-link","ember-cli-pemberly-tracking@track-interaction","presence@entity-with-presence-presenter"]]',moduleName:"msg-ui/components/primitives/message-sender-entity-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/primitives/message-star-outline",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"DIdVuklN",block:'[[[10,"svg"],[14,"aria-hidden","true"],[14,"focusable","false"],[14,1,"Layer_1"],[14,"data-name","Layer 1"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[14,"width","16"],[14,"height","16"],[14,"viewBox","0 0 16 16"],[14,"fill","currentColor"],[12],[1,"\\n  "],[10,"path"],[14,"d","M8,2.77,9.6,6l3.59.53-2.6,2.54.61,3.58L8,11,4.8,12.67l.61-3.58L2.81,6.55,6.4,6,8,2.77M8,.5,5.73,5.11.67,5.85,4.33,9.43,3.47,14.5,8,12.11l4.53,2.39-.86-5.07,3.66-3.58-5.06-.74L8,.5Z"],[12],[13],[1,"\\n"],[13]],[],false,[]]',moduleName:"msg-ui/components/primitives/message-star-outline.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/primitives/message-with-sending-indicator-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"2y1TpaU4",block:'[[[10,0],[15,0,[29,["msg-s-event-with-indicator display-flex ",[30,1]]]],[12],[1,"\\n  "],[10,0],[14,0,"msg-s-event__content"],[12],[1,"\\n    "],[18,5,null],[1,"\\n  "],[13],[1,"\\n"],[41,[30,2],[[[1,"    "],[10,1],[15,0,[29,["msg-s-event-with-indicator__sending-indicator align-self-flex-end\\n        ",[52,[28,[37,2],[[30,3],"sent"],null]," msg-s-event-with-indicator__sending-indicator--sent "],"\\n        ",[52,[28,[37,2],[[30,3],"sending"],null]," msg-s-event-with-indicator__sending-indicator--sending "],"\\n        "]]],[15,"title",[52,[28,[37,2],[[30,3],"sent"],null],[28,[37,3],["i18n_sent","msg-ui/components/primitives/message-with-sending-indicator-presenter"],[["date","time"],[[28,[37,4],[[30,4]],[["format","useTimeZone"],["fmt_mdy_short",true]]],[28,[37,5],[[30,4]],[["format","useTimeZone"],["fmt_hm",true]]]]]],[28,[37,3],["i18n_sending","msg-ui/components/primitives/message-with-sending-indicator-presenter"],null]]],[12],[1,"\\n"],[41,[28,[37,2],[[30,3],"sent"],null],[[[1,"        "],[10,"svg"],[14,"width","100%"],[14,"height","100%"],[14,"viewBox","0 0 16 16"],[14,"fill","none"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[12],[1,"\\n          "],[10,"circle"],[14,"cx","8"],[14,"cy","8"],[14,"r","6.5"],[12],[13],[1,"\\n          "],[10,"path"],[14,"d","M7.40005 12L4.30005 8.9L5.60005 7.6L7.10005 9L9.70005 5H12L7.40005 12Z"],[12],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,3],"sending"],null],[[[1,"        "],[10,"svg"],[14,"width","100%"],[14,"height","100%"],[14,"viewBox","0 0 16 16"],[14,"fill","none"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[12],[1,"\\n          "],[10,"circle"],[14,"cx","8"],[14,"cy","8"],[14,"r","6.5"],[12],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]],null]],[]]],[1,"    "],[13],[1,"\\n"]],[]],null],[13]],["@classNames","@shouldShowMessageSendingIndicator","@messageStatus","@createdAt","&default"],false,["yield","if","global-helpers@eq","t","ember-cli-pemberly-i18n@format-date","ember-cli-pemberly-i18n@format-time"]]',moduleName:"msg-ui/components/primitives/message-with-sending-indicator-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/primitives/render-chunk",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"bSlyB4PR",block:'[[[42,[28,[37,1],[[28,[37,1],[[30,1]],null]],null],null,[[[41,[30,2,["mention"]],[[[8,[39,3],null,[["@route","@model"],["profile.common.profile",[30,2,["id"]]]],[["default"],[[[[10,1],[15,"data-entity-hovercard-id",[30,2,["entityUrn"]]],[12],[1,[30,2,["value"]]],[13]],[]]]]]],[]],[[[41,[30,2,["allMention"]],[[[10,"strong"],[12],[1,[30,2,["value"]]],[13]],[]],[[[41,[30,2,["groupChatLink"]],[[[8,[39,4],null,[["@href"],[[30,2,["groupChatLink"]]]],[["default"],[[[[1,[30,2,["value"]]]],[]]]]]],[]],[[[41,[30,2,["url"]],[[[8,[39,4],[[24,"target","_blank"],[24,"rel","noopener"]],[["@href","@invokeAction"],[[30,2,["url"]],[52,[28,[37,5],[[30,3],"SPONSORED_MESSAGE"],null],[30,4]]]],[["default"],[[[[1,[30,2,["value"]]]],[]]]]]],[]],[[[41,[30,2,["email"]],[[[10,3],[15,6,[30,2,["email"]]],[12],[1,[30,2,["value"]]],[13]],[]],[[[41,[30,2,["hashtag"]],[[[8,[39,3],[[24,0,"hashtag-link"]],[["@route","@query"],["feed.hashtag-feed.by-keyword",[28,[37,6],null,[["keywords"],[[30,2,["value"]]]]]]],[["default"],[[[[1,[30,2,["value"]]]],[]]]]]],[]],[[[1,[30,2,["value"]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[2]],null]],["@decoratedContent","chunk","@subtype","@fireBodyLinkTracking"],false,["each","-track-array","if","ember-engines@link-to-external","app-aware-link@app-aware-link","global-helpers@eq","hash"]]',moduleName:"msg-ui/components/primitives/render-chunk.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/primitives/video-conference-card-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"v6J3rXtM",block:'[[[1,"\\n"],[8,[39,0],[[4,[38,2],[[30,2,["controlName"]]],null]],[["@class","@href","@target"],[[28,[37,1],["display-flex ",[30,1]],null],[30,2,["url"]],"_blank"]],[["default"],[[[[1,"\\n  "],[10,0],[15,0,[28,[37,1],["msg-ui-video-conference-card-presenter__icon mr4 ",[30,2,["class"]]],null]],[12],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[12],[1,"\\n    "],[10,2],[14,0,"t-14 t-bold"],[12],[1,"\\n      "],[1,[30,2,["name"]]],[1,"\\n    "],[13],[1,"\\n    "],[10,2],[14,0,"t-12"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_join_meeting","msg-ui/components/primitives/video-conference-card-presenter"],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]]]],["@class","@virtualMeetingData"],false,["ember-cli-pemberly-tracking@shared/external-link","concat","ember-cli-pemberly-tracking@track-interaction","t"]]',moduleName:"msg-ui/components/primitives/video-conference-card-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/quick-replies-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@glimmer/component","@glimmer/tracking","@ember/object","@ember/runloop","ember-batcher","global-utils/utils/is-browser","msg-shared/utils/constants","@ember/object/internals","scaffold-sound/services/sound"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v,b,y,_,w,M,D,k,C,S,P,x
const T=(0,a.createTemplateFactory)({id:"2p0CyJc/",block:'[[[11,0],[16,1,[30,0,["quickRepliesId"]]],[24,0,"conversations-quick-replies justify-center display-flex align-items-center"],[17,1],[4,[38,0],["keyup",[30,0,["onKeyUp"]]],null],[4,[38,1],[[30,0,["onDidUpdate"]],[30,2]],null],[12],[1,"\\n"],[41,[30,0,["hasOverflow"]],[[[1,"    "],[8,[39,3],null,[["@class","@circle","@size","@icon","@text","@color","@type","@disabled","@click"],["flex-shrink-zero mr2",true,1,"chevron-left",[28,[37,4],["i18n_scroll_quick_replies_left","msg-ui/components/quick-replies-presenter"],null],"muted","tertiary",[30,0,["disableScrollLeft"]],[28,[37,5],[[30,0,["scrollHandler"]],"LEFT"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[11,"ul"],[16,0,[29,["conversations-quick-replies__container relative list-style-none display-flex justify-flex-start overflow-hidden pv2",[52,[30,0,["animateIn"]]," conversations-quick-replies__container--animate-in"]]]],[4,[38,6],null,[["onRender","routeName","currentRoute"],[[30,0,["createQuickReplyImpressionTracking"]],[28,[37,7],[[53,"outletState"],"render.name"],null],[28,[37,7],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[42,[28,[37,10],[[28,[37,10],[[30,0,["filteredQuickReplies"]]],null]],null],null,[[[1,"      "],[10,"li"],[14,0,"conversations-quick-replies__reply"],[12],[1,"\\n"],[41,[28,[37,11],[[30,3,["replyType"]],"GIF"],null],[[[1,"          "],[8,[39,12],null,[["@controlNamePrefix","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[28,[37,5],[[30,5],[30,3,["quickActionPrefillText"]]],null],[30,6],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,3,["replyType"]],"INMAIL_ACCEPT"],null],[[[1,"          "],[8,[39,12],null,[["@controlNamePrefix","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[28,[37,5],[[30,7],[30,3]],null],[30,6],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,3,["replyType"]],"INMAIL_DECLINE"],null],[[[1,"          "],[8,[39,12],null,[["@controlNamePrefix","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[28,[37,5],[[30,7],[30,3]],null],[30,6],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,3,["replyType"]],"VIDEO_MEETING"],null],[[[1,"          "],[8,[39,12],null,[["@controlNamePrefix","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[30,8],[30,6],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n"]],[]],[[[1,"          "],[8,[39,12],null,[["@controlNamePrefix","@reply","@replyAction","@controlActionEventName","@emojiSkintone","@customInteractionPayload"],[[30,4,["controlNamePrefix"]],[30,3],[28,[37,5],[[30,0,["sendQuickReply"]],[30,3],[30,4,["replyConversationUrn"]]],null],[30,9],[30,0,["emojiSkintoneManager","selectedSkintone"]],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["trackingId"]]],null]]],null],[1,"\\n        "]],[]]]],[]]]],[]]]],[]]],[1,"      "],[13],[1,"\\n"]],[3]],null],[1,"  "],[13],[1,"\\n\\n"],[41,[30,0,["hasOverflow"]],[[[1,"    "],[8,[39,3],null,[["@class","@circle","@size","@icon","@text","@color","@type","@disabled","@click"],["flex-shrink-zero ml2",true,1,"chevron-right",[28,[37,4],["i18n_scroll_quick_replies_right","msg-ui/components/quick-replies-presenter"],null],"muted","tertiary",[30,0,["disableScrollRight"]],[28,[37,5],[[30,0,["scrollHandler"]],"RIGHT"],null]]],null],[1,"\\n"]],[]],null],[13]],["&attrs","@contextWidth","reply","@viewData","@openGIFPopover","@trackingPrefix","@handleInMailReplySmartAction","@openVirtualMeetingModal","@controlActionEventName"],false,["on","did-update","if","artdeco-button@artdeco-button","t","fn","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","each","-track-array","global-helpers@eq","msg-ui@quick-reply-presenter"]]',moduleName:"msg-ui/components/quick-replies-presenter.hbs",isStrictMode:!1}),{IMPRESSION_KEYS:{CONTEXTUAL_RECOMMENDATION_IMPRESSION:I},ACTION_KEYS:{MEBC_QUICK_REPLY_ACTION:E},KEYCODES:{TAB:A}}=g.default
let O=(v=(0,o.inject)("client-sensor-web@client-sensor"),b=(0,o.inject)("msg-shared@emoji-skintone"),y=(0,o.inject)("scaffold-sound@sound"),_=(0,o.inject)("msg-data@data-manager"),w=class extends l.default{constructor(){super(...arguments);(0,n.default)(this,"quickRepliesId",`quick-replies-${(0,h.guidFor)(this)}`);(0,t.default)(this,"clientSensor",M,this);(0,t.default)(this,"emojiSkintoneManager",D,this);(0,t.default)(this,"sound",k,this);(0,t.default)(this,"msgDataManager",C,this);(0,t.default)(this,"disableScrollLeft",S,this);(0,t.default)(this,"disableScrollRight",P,this);(0,t.default)(this,"hasOverflow",x,this)}get filteredQuickReplies(){const e={TEXT:this.args.saveReply,GIF:this.args.openGIFPopover,INMAIL_ACCEPT:this.args.handleInMailReplySmartAction,INMAIL_DECLINE:this.args.handleInMailReplySmartAction,VIDEO_MEETING:this.args.openVirtualMeetingModal},t=this.args.quickReplies.filter((t=>{const{replyType:n}=t
return!n||e[n]}))
this._updateHasOverflow()
return t}get animateIn(){const{latestMessageUrn:e}=this.args.viewData,t=!e||e!==this.lastQRId
this.lastQRId=e
return!t}get scrollingElement(){if(p.default)return document.getElementById(this.quickRepliesId).querySelector(".conversations-quick-replies__container")}_updateHasOverflow(){(0,u.mutateDOM)((()=>{this.isDestroying||(0,m.run)((()=>{this.hasOverflow=this.scrollingElement.scrollWidth>this.scrollingElement.clientWidth}))}))}onKeyUp(e){p.default&&this.hasOverflow&&e.keyCode===A&&this._updateScrollButtons(this.scrollingElement.scrollLeft)}onDidUpdate(){this._updateHasOverflow()}createQuickReplyImpressionTracking(){return this.args.useCase?this.args.quickReplies.map((e=>({name:I,body:{recommendedEntity:{recommendedEntityUrn:e.objectUrn,recommendationTrackingId:e.trackingId,usecase:this.args.useCase,visibleTime:0,duration:0,listPosition:{index:0}}}}))):[]}_updateScrollButtons(e){const t=this.scrollingElement.scrollWidth-this.scrollingElement.clientWidth
if(e<=0){this.disableScrollLeft=!0
this.disableScrollRight=!1}else if(e>=t){this.disableScrollLeft=!1
this.disableScrollRight=!0}}createSendQuickReplyInteractionPayload(e,t){let{controlUrn:n}=t
return{name:E,body:{controlUrn:n,recommendationTrackingId:e,actionCategory:"SELECT",usecase:this.args.useCase}}}sendQuickReply(e,t,n){const s=n.target.querySelector(".conversations-quick-replies__reply-content").innerText
this.args.saveReply(s,e.objectUrn,t)
this.sound.play(f.Sound.MessageSent)
this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"smart-reply-action-event"})}scrollHandler(e){(0,u.mutateDOM)((()=>{if(!this.isDestroying){const{clientWidth:t,scrollLeft:n}=this.scrollingElement,s="LEFT"===e?n-t:n+t
"scrollBehavior"in document.documentElement.style?this.scrollingElement.scrollTo({behavior:"smooth",left:s,top:0}):this.scrollingElement.scrollTo(n,0)
this._updateScrollButtons(s)}}))}},M=(0,s.default)(w.prototype,"clientSensor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,s.default)(w.prototype,"emojiSkintoneManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,s.default)(w.prototype,"sound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,s.default)(w.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(w.prototype,"disableScrollLeft",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=(0,s.default)(w.prototype,"disableScrollRight",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,s.default)(w.prototype,"hasOverflow",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(w.prototype,"onKeyUp",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"onKeyUp"),w.prototype),(0,s.default)(w.prototype,"onDidUpdate",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"onDidUpdate"),w.prototype),(0,s.default)(w.prototype,"createQuickReplyImpressionTracking",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"createQuickReplyImpressionTracking"),w.prototype),(0,s.default)(w.prototype,"createSendQuickReplyInteractionPayload",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"createSendQuickReplyInteractionPayload"),w.prototype),(0,s.default)(w.prototype,"sendQuickReply",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"sendQuickReply"),w.prototype),(0,s.default)(w.prototype,"scrollHandler",[d.action],Object.getOwnPropertyDescriptor(w.prototype,"scrollHandler"),w.prototype),w)
e.default=O;(0,r.setComponentTemplate)(T,O)}))
define("msg-ui/components/quick-reply-presenter",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/debug","@ember/object"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=(0,n.createTemplateFactory)({id:"sUaVNCTO",block:'[[[41,[30,0,["canRender"]],[[[41,[30,0,["isSmartAction"]],[[[1,"    "],[11,"button"],[24,0,"conversations-quick-replies__reply-button artdeco-button artdeco-button--2 artdeco-button--secondary p0"],[24,4,"button"],[4,[38,1],[[30,0,["controlName"]]],[["onInteract"],[[30,1]]]],[4,[38,2],["click",[30,2]],null],[12],[1,"\\n      "],[1,[28,[35,3],null,[["type","size","class"],[[30,0,["icon"]],"small","conversations-quick-replies__rich-props-icon"]]]],[1,"\\n      "],[10,"hr"],[14,0,"conversations-quick-replies__rich-props-vertical-divider"],[12],[13],[1,"\\n      "],[10,1],[14,0,"a11y-text"],[12],[1,[28,[35,4],["i18n_a11y_reply_context","msg-ui/components/quick-reply-presenter"],[["contentText"],[[30,3,["text"]]]]]],[13],[1,"\\n      "],[10,1],[14,"aria-hidden","true"],[14,0,"ml2 mr3"],[12],[1,"\\n        "],[1,[30,3,["text"]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[8,[39,5],[[4,[38,1],[[30,0,["controlName"]]],[["onInteract"],[[30,1]]]]],[["@class","@type","@click"],["conversations-quick-replies__reply-button","secondary",[30,2]]],[["default"],[[[[1,"\\n      "],[10,1],[14,0,"a11y-text"],[12],[1,[28,[35,4],["i18n_a11y_reply_context","msg-ui/components/quick-reply-presenter"],[["contentText"],[[30,3,["text"]]]]]],[13],[1,"\\n      "],[10,1],[14,0,"conversations-quick-replies__reply-content"],[14,"aria-hidden","true"],[12],[1,"\\n"],[41,[30,4],[[[1,"          "],[8,[39,6],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,5,["state","fulfilled"]],[[[1,"              "],[1,[28,[35,7],[[30,3,["text"]],[30,4]],null]],[1,"\\n"]],[]],null],[1,"          "]],[5]]]]],[1,"\\n"]],[]],[[[1,"          "],[1,[30,3,["text"]]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]]]],[]],null]],["@customInteractionPayload","@replyAction","@reply","@emojiSkintone","asset"],false,["if","ember-cli-pemberly-tracking@track-interaction","on","artdeco-icons-web@li-icon","t","artdeco-button@artdeco-button","asset-loader@deferred-asset-loader","msg-reactions@emoji-skintone-modifier"]]',moduleName:"msg-ui/components/quick-reply-presenter.hbs",isStrictMode:!1}),o={TEXT:{typeName:"text",isSmartAction:!1,controlName:"mebc_quick_reply",icon:void 0},GIF:{typeName:"gif",isSmartAction:!0,controlName:"smart_action_gif",icon:"gif"},INMAIL_ACCEPT:{typeName:"inmail-accept",isSmartAction:!0,controlName:"inmail_yes",icon:"pencil-icon"},INMAIL_DECLINE:{typeName:"inmail-decline",isSmartAction:!0,controlName:"inmail_no",icon:"pencil-icon"},VIDEO_MEETING:{typeName:"video-meeting",isSmartAction:!0,controlName:"create_video_meeting_smart_action",icon:"video-conference"}}
class l extends s.default{constructor(){super(...arguments)
this.replyType=this.args.reply.replyType||"TEXT"
this.canRender=this.replyType in o
if(this.canRender){Object.assign(this,o[this.replyType])
this.args.controlActionEventName?this.controlName=this.args.controlActionEventName:this.controlName=`${this.args.trackingPrefix||""}${this.args.controlNamePrefix}${this.controlName}`}}}e.default=l;(0,t.setComponentTemplate)(a,l)}))
define("msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"iaBsrBO2",block:'[[[10,0],[14,0,"msg-form__attachment-drag-and-drop-error-display pv2 ph4 display-flex"],[12],[1,"\\n  "],[10,2],[14,0,"msg-form__attachment-drag-and-drop-error-text flex-1 t-12 t-bold"],[12],[1,"\\n"],[41,[28,[37,1],[[30,1],"MULTIPLE_FILES"],null],[[[1,"      "],[1,[28,[35,2],["i18n_error_multiple_files","msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter"],null]],[1,"\\n"]],[]],[[[1,"      "],[1,[28,[35,2],["i18n_error_invalid_file_type","msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter"],null]],[1,"\\n"]],[]]],[1,"  "],[13],[1,"\\n\\n  "],[11,"button"],[24,0,"msg-form__attachment-drag-and-drop-error-dismiss-button"],[24,4,"button"],[4,[38,3],["click",[30,2]],null],[12],[1,"\\n    "],[1,[28,[35,4],null,[["type","a11y-text","size"],["close",[28,[37,2],["i18n_dismiss_error","msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter"],null],"small"]]]],[1,"\\n  "],[13],[1,"\\n"],[13]],["@errorType","@dismissError"],false,["if","global-helpers@eq","t","on","artdeco-icons-web@li-icon"]]',moduleName:"msg-ui/components/rich-media/attachment-drag-and-drop-error-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/rich-media/attachment-drag-and-drop-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","ember-lifeline","msg-shared/utils/attachments-handler"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,v,b,y,_,w
const M=(0,a.createTemplateFactory)({id:"pQaE/rSe",block:'[[[11,0],[16,0,[28,[37,0],["msg-form__attachment-drag-and-drop",[52,[30,0,["isDraggingOverWindow"]]," msg-form__attachment-drag-and-drop--over-window"],[52,[30,0,["isDraggingOverLayer"]]," msg-form__attachment-drag-and-drop--over-layer"],[52,[30,0,["showUserEducationLayer"]]," msg-form__attachment-drag-and-drop--user-education"]],null]],[4,[38,2],[[30,0,["setupWindowDragAndDropListeners"]]],null],[4,[38,3],["dragenter",[30,0,["onDragEnter"]]],null],[4,[38,3],["dragleave",[30,0,["onDragLeave"]]],null],[4,[38,3],["dragover",[30,0,["onDragOver"]]],null],[4,[38,3],["drop",[30,0,["onDrop"]]],null],[12],[1,"\\n  "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-content display-flex flex-column align-items-center justify-center"],[12],[1,"\\n    "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-state-illustration"],[12],[13],[1,"\\n    "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-text display-flex flex-column align-items-center justify-center"],[12],[1,"\\n      "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-state-text t-16 t-bold"],[12],[1,"\\n        "],[1,[52,[30,0,["isDraggingOverLayer"]],[28,[37,4],["i18n_drop_file","msg-ui/components/rich-media/attachment-drag-and-drop-presenter"],null],[28,[37,4],["i18n_drag_file","msg-ui/components/rich-media/attachment-drag-and-drop-presenter"],null]]],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-discoverability-text text-align-center"],[12],[1,"\\n        "],[10,0],[14,0,"t-16 t-bold"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_select_file","msg-ui/components/rich-media/attachment-drag-and-drop-presenter"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"t-14"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_or_drag_and_drop","msg-ui/components/rich-media/attachment-drag-and-drop-presenter"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["concat","if","did-insert","on","t"]]',moduleName:"msg-ui/components/rich-media/attachment-drag-and-drop-presenter.hbs",isStrictMode:!1}),D="MULTIPLE_FILES",k="INVALID_FILE_TYPE",C=/^image\/*/,S=["ai","psd","pdf","doc","docx","csv","zip","rar","ppt","pptx","pps","ppsx","odt","rtf","xls","xlsx","txt","pub","html","7z","eml"]
let P=(p=(0,l.inject)("jet"),g=(0,l.inject)("tracking"),h=(0,l.inject)("vector@vector-upload"),f=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"jet",v,this);(0,t.default)(this,"tracking",b,this);(0,t.default)(this,"vectorUpload",y,this);(0,t.default)(this,"isDraggingOverWindow",_,this);(0,t.default)(this,"isDraggingOverLayer",w,this)
this.windowDragCounter=0
this.layerDragCounter=0
this.attachmentsHandler=new u.default({vectorUpload:this.vectorUpload,tracking:this.tracking,jet:this.jet,updateUI:this.args.addAttachment,beforeUpload:this.args.beforeUpload,afterUpload:this.afterDropUpload.bind(this)})}setupWindowDragAndDropListeners(){(0,m.addEventListener)(this,window,"dragenter",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.windowDragCounter+=1
if(1===this.windowDragCounter){(0,o.set)(this,"isDraggingOverWindow",!0)
this.tracking.firePageViewEvent(this.args.trackingKeys.PAGE_VIEW.DRAG)}}}));(0,m.addEventListener)(this,window,"dragleave",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){e.preventDefault()
this.windowDragCounter-=1
0===this.windowDragCounter&&(0,o.set)(this,"isDraggingOverWindow",!1)}}));(0,m.addEventListener)(this,window,"drop",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.windowDragCounter=0;(0,o.setProperties)(this,{isDraggingOverWindow:!1,showUserEducationLayer:!1})}}))}onDragEnter(e){if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.layerDragCounter+=1
if(1===this.layerDragCounter){this.isDraggingOverLayer=!0
this.tracking.firePageViewEvent(this.args.trackingKeys.PAGE_VIEW.DROP)}}}onDragLeave(e){if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){e.preventDefault()
this.layerDragCounter-=1
0===this.layerDragCounter&&(this.isDraggingOverLayer=!1)}}onDrop(e){if(this.isDestroying&&!this._isFileDragAndDropEvent(e))return
e.preventDefault()
this.layerDragCounter=0
this.isDraggingOverLayer=!1
const{files:t}=e.dataTransfer
if(0===t.length)return
if(t.length>1){this.args.onError(D)
return}const n=t[0]
if(this._isAcceptedFileType(n)){this.tracking.fireInteractionEvent(this.args.trackingKeys.INTERACTION.DROPPED)
this.attachmentsHandler.uploadAttachment(n)}else this.args.onError(k)}onDragOver(e){e.preventDefault()}_isFileDragAndDropEvent(e){return-1!==Array.prototype.indexOf.call(e.dataTransfer.types,"Files")}_isAcceptedFileType(e){if(!e.type)return!1
if(C.test(e.type))return!0
const t=this._getFileExtension(e.name)
return-1!==S.indexOf(t)}_getFileExtension(e){return e.includes(".")?e.split(".").pop().toLowerCase():""}afterDropUpload(){this.tracking.fireInteractionEvent(this.args.trackingKeys.INTERACTION.UPLOADED)
this.args.afterUpload()}},v=(0,s.default)(f.prototype,"jet",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(f.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(f.prototype,"vectorUpload",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(f.prototype,"isDraggingOverWindow",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=(0,s.default)(f.prototype,"isDraggingOverLayer",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(f.prototype,"setupWindowDragAndDropListeners",[o.action],Object.getOwnPropertyDescriptor(f.prototype,"setupWindowDragAndDropListeners"),f.prototype),(0,s.default)(f.prototype,"onDragEnter",[o.action],Object.getOwnPropertyDescriptor(f.prototype,"onDragEnter"),f.prototype),(0,s.default)(f.prototype,"onDragLeave",[o.action],Object.getOwnPropertyDescriptor(f.prototype,"onDragLeave"),f.prototype),(0,s.default)(f.prototype,"onDrop",[o.action],Object.getOwnPropertyDescriptor(f.prototype,"onDrop"),f.prototype),(0,s.default)(f.prototype,"onDragOver",[o.action],Object.getOwnPropertyDescriptor(f.prototype,"onDragOver"),f.prototype),f)
e.default=P;(0,r.setComponentTemplate)(M,P)}))
define("msg-ui/components/rich-media/audio-message-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","ember","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","global-utils/utils/is-browser","global-utils/utils/html-safe"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h,f,v,b,y
const _=(0,a.createTemplateFactory)({id:"dKLbeJnW",block:'[[[11,"button"],[24,0,"msg-s-event-listitem__audio"],[16,5,[30,0,["buttonStyle"]]],[24,4,"button"],[4,[38,0],["click",[30,0,["onClick"]]],null],[12],[1,"\\n  "],[10,"progress"],[14,0,"msg-s-event-listitem__audio-progress-bar"],[15,2,[30,0,["currentTime"]]],[15,"max",[30,0,["duration"]]],[12],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"msg-s-event-listitem__audio-icon-container relative"],[12],[1,"\\n"],[41,[30,0,["isPlaying"]],[[[1,"      "],[1,[28,[35,2],null,[["class","type","size","a11y-text"],["mh2","pause","small",[28,[37,3],["i18n_pause","msg-ui/components/rich-media/audio-message-presenter"],null]]]]],[1,"\\n"]],[]],[[[1,"      "],[1,[28,[35,2],null,[["class","type","size","a11y-text"],["mh2","play","small",[28,[37,3],["i18n_play","msg-ui/components/rich-media/audio-message-presenter"],null]]]]],[1,"\\n"]],[]]],[1,"  "],[13],[1,"\\n\\n  "],[10,1],[14,0,"msg-s-event-listitem__audio-time t-12 t-white t-normal"],[12],[1,"\\n    "],[1,[28,[35,4],[[30,0,["roundedRemainingTime"]]],[["customPrefixFormat"],[[30,0,["customPrefixFormat"]]]]]],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["on","if","artdeco-icons-web@li-icon","t","global-helpers@format-duration"]]',moduleName:"msg-ui/components/rich-media/audio-message-presenter.hbs",isStrictMode:!1})
let w=(g=(0,c.inject)("tracking"),h=(0,c.inject)("global-services@window"),f=class extends d.default{get customPrefixFormat(){return{prefixInsignificants:!1,prefixSeconds:!0}}get duration(){return(0,l.get)(this.args,"duration")/1e3}get roundedRemainingTime(){return Math.round(this.duration-this.currentTime)}get buttonStyle(){return(0,p.default)(`width: calc(75px + ${this.widthRatio} * (100% - 75px));`)}get widthRatio(){return Math.max(0,Math.min(this.duration/60,1))}constructor(){super(...arguments);(0,t.default)(this,"tracking",v,this);(0,t.default)(this,"windowService",b,this);(0,t.default)(this,"currentTime",y,this);(0,n.default)(this,"isPlaying",!1);(0,n.default)(this,"trackingPrefix","")
u.default&&(0,l.set)(this,"audio",new this.windowService.window.Audio)
const e=document.createElement("source")
e.src=jSecure.sanitizeUrl((0,l.get)(this.args,"url"))
e.type="audio/mp4"
this.audio.appendChild(e)
this.audio.addEventListener("playing",this._handlePlaybackStarted.bind(this))
this.audio.addEventListener("ended",this._handlePlaybackEnded.bind(this))}onClick(){this.isPlaying?this._pauseAudio():this._playAudio()}_handlePlaybackStarted(){this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}play_successful_voice_message`)
this._updateProgress()}_updateProgress(){o.default.testing?(0,l.set)(this,"currentTime",this.audio.currentTime):u.default&&this.windowService.window.requestAnimationFrame((()=>{if(this.isPlaying){(0,l.set)(this,"currentTime",this.audio.currentTime)
this._updateProgress()}}))}_handlePlaybackEnded(){(0,l.setProperties)(this,{isPlaying:!1,currentTime:0})}_playAudio(){(0,l.set)(this,"isPlaying",!0)
this.audio.play()
this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}play_voice_message`)}_pauseAudio(){(0,l.set)(this,"isPlaying",!1)
this.audio.pause()
this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}pause_voice_message`)}},v=(0,s.default)(f.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(f.prototype,"windowService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(f.prototype,"currentTime",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,s.default)(f.prototype,"onClick",[l.action],Object.getOwnPropertyDescriptor(f.prototype,"onClick"),f.prototype),f)
e.default=w;(0,r.setComponentTemplate)(_,w)}))
define("msg-ui/components/rich-media/feed-update-presenter",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=(0,n.createTemplateFactory)({id:"YII0nW2z",block:'[[[8,[39,0],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@viewData","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1],false,[30,2,["messageHoverActionsViewData"]],[30,3],[30,4],[30,5],[30,6],false,false,[30,7],[30,8]]],[["default"],[[[[1,"\\n  "],[8,[39,1],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,2,["eventCreatedAt"]],[30,9],[30,10]]],[["default"],[[[[1,"\\n    "],[10,0],[14,0,"msg-s-event-listitem__content-preview-container"],[12],[1,"\\n      "],[11,0],[24,0,"msg-content-preview artdeco-card"],[17,11],[12],[1,"\\n        "],[8,[39,2],null,[["@route","@model","@class"],["feed.update",[30,12,["updateMetadata","urn"]],"msg-content-preview__link feed-container-theme"]],[["default"],[[[[1,"\\n          "],[8,[39,3],null,[["@showFollowButton","@update","@showNestedShares"],[false,[30,12],[30,13]]],null],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]]]]]],["@deleteMessageEventModalState","@viewData","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus","&attrs","@feedUpdate","@showNestedShares"],false,["msg-ui@primitives/message-hover-actions-presenter","msg-ui@primitives/message-with-sending-indicator-presenter","ember-engines@link-to-external","update-components@mini-update-v2"]]',moduleName:"msg-ui/components/rich-media/feed-update-presenter.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(i,(0,s.default)())
e.default=r}))
define("msg-ui/components/rich-media/file-attachment-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","ember","@ember/object","@ember/service","@glimmer/component","global-utils/utils/is-browser","@glimmer/tracking"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,v,b
const y=(0,a.createTemplateFactory)({id:"zlrd+K7M",block:'[[[8,[39,0],null,[["@classNames","@viewData","@attachment","@hasAttachment","@enableMsgFwd","@deleteMessageEventModalState","@filename","@isImage","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@setMessageFocus","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],[[29,["\\n    msg-s-event-listitem__attachment-item\\n    ",[52,[30,0,["downloaded"]],"msg-s-event-listitem__attachment-item--downloaded"],"\\n  "]],[30,1,["messageHoverActionsViewData"]],[30,1,["attachmentAPIModel"]],true,[30,2],[30,3],[30,1,["filename"]],[30,1,["isImage"]],[30,4],[30,5],[30,6],[30,7],[28,[37,2],[[30,0],"messageFocused"],null],[30,8],false,[30,9],[30,10]]],[["default"],[[[[1,"\\n"],[41,[30,1,["isImage"]],[[[1,"    "],[10,0],[14,0,"msg-s-event-listitem__image-container"],[12],[1,"\\n      "],[11,"button"],[24,0,"full-height full-width"],[24,4,"button"],[4,[38,3],["click",[28,[37,4],[[30,11],[30,1,["downloadUrl"]]],null]],null],[4,[38,3],["click",[28,[37,2],[[30,0],"previewModalIsOpen",true],null]],null],[4,[38,5],["photo_viewer"],null],[12],[1,"\\n        "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n          "],[1,[28,[35,6],["i18n_file_preview","msg-ui/components/rich-media/file-attachment-presenter"],[["filename"],[[30,1,["filename"]]]]]],[1,"\\n        "],[13],[1,"\\n"],[1,"        "],[8,[39,7],null,[["@image","@class","@alt","@ghostType","@desiredWidth"],[[28,[37,8],[[30,1,["downloadUrl"]]],null],"msg-s-event-listitem__image block",[30,1,["filename"]],"image",1000]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[11,3],[16,6,[30,1,["downloadUrl"]]],[24,0,"msg-s-event-listitem__download-attachment t-14 t-black--light t-normal"],[16,"download",[30,1,["filename"]]],[24,"target","_blank"],[24,"tabindex","-1"],[24,"rel","noopener noreferrer"],[4,[38,3],["click",[30,0,["downloadAttachment"]]],null],[4,[38,5],["view_attachment"],null],[12],[1,"\\n      "],[10,0],[15,0,[29,["msg-s-event-listitem__attachment-type ui-attachment ui-attachment--",[30,1,["mediaTypeExtension"]],"\\n          display-flex m0"]]],[12],[1,"\\n        "],[10,0],[14,0,"flex-grow-1 truncate"],[12],[1,"\\n          "],[10,"h3"],[14,0,"ui-attachment__filename"],[12],[1,"\\n            "],[1,[30,1,["filename"]]],[1,"\\n          "],[13],[1,"\\n          "],[10,2],[14,0,"ui-attachment__filesize flex-shrink-zero"],[12],[1,"\\n            "],[1,[30,1,["formattedSize"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"display-flex align-items-center justify-center flex-shrink-zero"],[12],[1,"\\n"],[1,"          "],[10,"button"],[14,0,"ui-attachment__download-button display-flex align-items-center justify-center"],[14,4,"button"],[12],[1,"\\n            "],[1,[28,[35,9],null,[["type","size"],["download-icon","small"]]]],[1,"\\n            "],[10,2],[14,0,"t-14 t-black--light t-bold"],[12],[1,"\\n              "],[1,[28,[35,6],["i18n_download_attachment","msg-ui/components/rich-media/file-attachment-presenter"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]]]],[]]]]]],["@viewData","@enableMsgFwd","@deleteMessageEventModalState","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showSendReactionControls","@reactionsHoverTrackingName","@showImageAttachment"],false,["msg-ui@primitives/message-hover-actions-presenter","if","ember-set-helper@set","on","fn","ember-cli-pemberly-tracking@track-interaction","t","ember-vector-images@custom-image","unbound","artdeco-icons-web@li-icon"]]',moduleName:"msg-ui/components/rich-media/file-attachment-presenter.hbs",isStrictMode:!1})
let _=(p=(0,c.inject)("i18n"),g=(0,c.inject)("tracking"),h=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",f,this);(0,t.default)(this,"tracking",v,this);(0,t.default)(this,"downloaded",b,this)}downloadAttachment(e){e.preventDefault()
if(!o.default.testing&&m.default){const e=document.createElement("a")
e.setAttribute("href",(0,l.get)(this.args,"viewData.downloadUrl"))
e.setAttribute("download",(0,l.get)(this.args,"viewData.filename"))
e.setAttribute("rel","noopener noreferrer")
e.style.display="none"
"pdf"===(0,l.get)(this.args,"viewData.mediaTypeExtension")&&e.setAttribute("target","_blank")
document.body.appendChild(e)
e.click()
document.body.removeChild(e)}this.downloaded=!0}},f=(0,s.default)(h.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(h.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(h.prototype,"downloaded",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(h.prototype,"downloadAttachment",[l.action],Object.getOwnPropertyDescriptor(h.prototype,"downloadAttachment"),h.prototype),h)
e.default=_;(0,r.setComponentTemplate)(y,_)}))
define("msg-ui/components/rich-media/story-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","image-view-model/utils/artdeco-icon","@ember/service","@glimmer/tracking"],(function(e,t,n,s,i,r,a,o,l,c,d,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,v,b,y
const _=(0,a.createTemplateFactory)({id:"ZCuKab/Y",block:'[[[8,[39,0],null,[["@classNames","@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@setMessageFocus","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,1,["messageHoverActionsViewData"]],[30,2],[30,3],[30,4],[30,5],[30,6],[30,7],[28,[37,1],[[30,0],"messageFocused"],null],[30,8],[30,9],[30,10],[30,11]]],[["default"],[[[[1,"\\n  "],[8,[39,2],null,[["@createdAt","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["createdAt"]],[30,12],[30,13]]],[["default"],[[[[1,"\\n    "],[10,0],[14,0,"msg-story-item"],[12],[1,"\\n"],[41,[30,1,["contentCaption"]],[[[1,"        "],[10,0],[14,0,"t-14 t-black--light pl2 pb2"],[12],[1,"\\n          "],[1,[28,[35,4],[[30,1,["contentCaption"]]],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[10,0],[14,0,"pl2 display-flex"],[12],[1,"\\n"],[41,[30,0,["showThumbnailContainer"]],[[[1,"          "],[10,0],[14,"role","link"],[14,"tabindex","0"],[15,"aria-label",[52,[30,0,["messagingStory","url"]],[28,[37,5],["a11y_click_to_view_story","msg-ui/components/rich-media/story-presenter"],null],[28,[37,5],["a11y_cant_view_expired_story","msg-ui/components/rich-media/story-presenter"],null]]],[15,0,[52,[30,0,["showExpiredState"]],"msg-story-item__thumbnail--expired","msg-story-item__thumbnail"]],[12],[1,"\\n"],[41,[30,0,["messagingStoryLoading"]],[[[1,"              "],[8,[39,6],null,[["@size"],["small"]],null],[1,"\\n"]],[]],[[[41,[30,0,["messagingStoryFailedToLoad"]],[[[44,[[28,[37,8],[[30,14],"reload_story_thumbnail"],null]],[[[1,"                "],[8,[39,9],[[16,"aria-label",[28,[37,5],["a11y_retry_loading_story","msg-ui/components/rich-media/story-presenter"],null]],[4,[38,10],[[30,15]],null]],[["@type","@icon","@circle","@size","@color","@click"],["tertiary","refresh",true,2,"muted",[30,0,["fetchMessagingStory"]]]],null],[1,"\\n"]],[15]]]],[]],[[[41,[30,0,["showExpiredState"]],[[[1,"                "],[10,0],[14,0,"msg-story-item__expired-thumbnail-icon-container"],[12],[1,"\\n                  "],[1,[28,[35,11],null,[["class","type","size"],["msg-story-item__expired-thumbnail-icon",[30,0,["expiredThumbnailIcon","name"]],"medium"]]]],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[41,[30,0,["messagingStory","url"]],[[[44,[[28,[37,8],[[33,8],[30,14],"expand_story_thumbnail"],null]],[[[1,"                  "],[8,[39,12],[[24,0,"msg-story-item__link"],[24,"tabindex","-1"],[4,[38,10],[[30,16]],null]],[["@href"],[[30,0,["messagingStory","url"]]]],null],[1,"\\n"]],[16]]],[1,"              "]],[]],null]],[]]],[41,[30,0,["msgDataManager","enableGraphQLProfileVideos"]],[[[1,"                "],[8,[39,13],null,[["@imgClasses","@images","@desiredWidth"],["msg-story-item__thumbnail-image",[30,0,["messagingStory","thumbnail"]],72]],null],[1,"\\n"]],[]],[[[41,[30,0,["messagingStory","thumbnail"]],[[[1,"                "],[8,[39,14],null,[["@class","@ghostType","@image","@desiredWidth"],["msg-story-item__thumbnail-image","image",[30,0,["messagingStory","thumbnail"]],72]],null],[1,"\\n              "]],[]],null]],[]]],[1,"            "]],[]]]],[]]],[1,"          "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showExpiredState"]],[[[1,"          "],[10,0],[15,0,[28,[37,8],["t-12 t-black--light display-flex justify-center",[52,[30,0,["showThumbnailContainer"]]," flex-column"]],null]],[12],[1,"\\n            "],[1,[28,[35,11],null,[["a11y-text","class","type","size"],[[30,0,["messagingStory","expiredText","text"]],"mr1 mb2 align-self-flex-start",[30,0,["expiredTextIcon","name"]],"small"]]]],[1,"\\n            "],[1,[30,0,["messagingStory","expiredText","text"]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]]]]]],["@viewData","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus","@trackingPrefix","controlName","controlName"],false,["msg-ui@primitives/message-hover-actions-presenter","ember-set-helper@set","msg-ui@primitives/message-with-sending-indicator-presenter","if","text-view-model@text-view-model","t","artdeco-loader@artdeco-loader","let","concat","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction","artdeco-icons-web@li-icon","app-aware-link@app-aware-link","image-view-model@image-view-model","ember-vector-images@custom-image"]]',moduleName:"msg-ui/components/rich-media/story-presenter.hbs",isStrictMode:!1})
let w=(u=(0,d.inject)("msg-data@data-manager"),p=class extends o.default{get showThumbnailContainer(){return(0,l.get)(this,"messagingStory.thumbnail")||this.messagingStoryLoading||this.messagingStoryFailedToLoad}get showExpiredState(){return this.messagingStory&&!(0,l.get)(this,"messagingStory.url")&&!this.messagingStoryFailedToLoad&&!this.messagingStoryLoading}constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"messagingStory",h,this);(0,t.default)(this,"messagingStoryLoading",f,this);(0,t.default)(this,"messagingStoryFailedToLoad",v,this);(0,t.default)(this,"expiredTextIcon",b,this);(0,t.default)(this,"expiredThumbnailIcon",y,this)
this.args.viewData.storyItemUrn&&this.fetchMessagingStory()}fetchMessagingStory(){this.messagingStoryLoading=!0
const{storyItemUrn:e,senderProfileUrn:t}=this.args.viewData
this.msgDataManager.fetchMessagingStory(e,t).then((e=>{if(!this.isDestroying){this.expiredThumbnailIcon=(0,c.getLIIcon)((0,l.get)(e,"expiredThumbnailIcon"))
this.expiredTextIcon=(0,c.getLIIcon)((0,l.get)(e,"expiredTextIcon"))
this.messagingStoryFailedToLoad=!1
this.messagingStoryLoading=!1
this.messagingStory=e}})).catch((e=>{if(!this.isDestroying){this.messagingStoryLoading=!1
this.messagingStoryFailedToLoad=!0
throw e}}))}},g=(0,s.default)(p.prototype,"msgDataManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"messagingStory",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(p.prototype,"messagingStoryLoading",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(p.prototype,"messagingStoryFailedToLoad",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(p.prototype,"expiredTextIcon",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(p.prototype,"expiredThumbnailIcon",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(p.prototype,"fetchMessagingStory",[l.action],Object.getOwnPropertyDescriptor(p.prototype,"fetchMessagingStory"),p.prototype),p)
e.default=w;(0,r.setComponentTemplate)(_,w)}))
define("msg-ui/components/rich-media/uploaded-attachment-list-presenter",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","ember-batcher"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o
const l=(0,s.createTemplateFactory)({id:"tlgfZQox",block:'[[[11,0],[24,0,"msg-form__attachment-previews overflow-auto scrollable"],[4,[38,0],[[28,[37,1],[[30,0],"scrollingContainer"],null]],null],[4,[38,2],[[30,0,["scrollToBottom"]],[30,1]],null],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,1]],null]],null],null,[[[1,"    "],[10,"figure"],[15,0,[29,["msg-form__attachment-preview msg-attachment-preview pv2 pl3 pr4\\n        ",[52,[30,2,["isError"]],"msg-attachment-preview--error",[52,[30,2,["isUploading"]],"msg-attachment-preview--uploading"]]]]],[12],[1,"\\n"],[41,[30,2,["isError"]],[[[1,"        "],[1,[28,[35,6],null,[["class","type","size"],["msg-attachment-preview__thumbnail-error EntityPhoto-square-2","signal-error","medium"]]]],[1,"\\n"]],[]],[[[41,[30,2,["isImage"]],[[[1,"        "],[10,0],[14,0,"msg-attachment-preview__image-container"],[12],[1,"\\n          "],[8,[39,7],null,[["@image","@class","@alt","@desiredWidth"],[[30,2,["reference"]],"msg-attachment-preview__image EntityPhoto-square-2",[28,[37,8],["a11y_preview_image","msg-ui/components/rich-media/uploaded-attachment-list-presenter"],[["attachmentName"],[[30,2,["name"]]]]],40]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[10,0],[15,0,[29,["t-12 t-white t-bold msg-attachment-preview__attachment-type ui-attachment ui-attachment--",[30,2,["mediaTypeExtension"]]]]],[12],[1,"\\n          "],[1,[30,2,["mediaTypeExtension"]]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]],[]]],[1,"\\n      "],[10,"figcaption"],[14,0,"flex-1 overflow-hidden ph2"],[12],[1,"\\n"],[41,[28,[37,9],[[28,[37,10],[[30,3]],null],[30,2,["name"]]],null],[[[1,"          "],[10,0],[14,0,"display-flex t-12 t-black--light t-normal"],[12],[1,"\\n            "],[10,"h3"],[14,0,"msg-attachment-preview__attachment-name t-12 t-black--light t-bold truncate"],[12],[1,"\\n              "],[1,[30,2,["name"]]],[1,"\\n            "],[13],[1,"\\n            "],[10,1],[14,0,"msg-attachment-preview__bytesize flex-shrink-zero"],[12],[1,"\\n              "],[1,[30,2,["formattedSize"]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[41,[30,2,["isUploading"]],[[[1,"          "],[10,2],[14,0,"msg-attachment-preview__status msg-attachment-preview__status--uploading t-12 t-black t-bold"],[12],[1,"\\n            "],[1,[28,[35,8],["attachment_status_uploading","msg-ui/components/rich-media/uploaded-attachment-list-presenter"],null]],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,2,["isError"]],[[[1,"          "],[10,2],[14,0,"msg-attachment-preview__status msg-attachment-preview__status--error t-12 t-black t-bold"],[12],[1,"\\n"],[41,[30,2,["customError"]],[[[1,"              "],[1,[30,2,["customError"]]],[1,"\\n"]],[]],[[[1,"              "],[1,[52,[30,2,["isTypeError"]],[28,[37,8],["attachment_unsupported_type","msg-ui/components/rich-media/uploaded-attachment-list-presenter"],null],[52,[30,2,["isSizeError"]],[28,[37,8],["attachment_unsupported_size","msg-ui/components/rich-media/uploaded-attachment-list-presenter"],null],[28,[37,8],["attachment_status_error","msg-ui/components/rich-media/uploaded-attachment-list-presenter"],null]]]],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n"]],[]],[[[1,"          "],[10,2],[14,0,"msg-attachment-preview__status t-12 t-black--light t-normal"],[12],[1,"\\n            "],[1,[28,[35,8],["attachment_status_attached","msg-ui/components/rich-media/uploaded-attachment-list-presenter"],null]],[1,"\\n          "],[13],[1,"\\n        "]],[]]]],[]]],[41,[30,2,["isUploading"]],[[[1,"          "],[10,"progress"],[14,0,"msg-attachment-preview__upload-progress mt1"],[14,"max","100"],[15,2,[30,2,["progress"]]],[12],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n\\n"],[41,[30,2,["isRetryable"]],[[[1,"        "],[11,"button"],[24,0,"msg-attachment-preview__retry-attachment"],[24,4,"button"],[4,[38,11],["click",[28,[37,12],[[30,2,["retryAttachment"]],[30,2]],null]],null],[4,[38,13],["send_retry"],null],[12],[1,"\\n          "],[1,[28,[35,6],null,[["type","ally-text","size"],["refresh",[28,[37,8],["attachment_retry","msg-ui/components/rich-media/uploaded-attachment-list-presenter"],null],"small"]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n      "],[11,"button"],[24,0,"msg-attachment-preview__remove-attachment"],[24,4,"button"],[4,[38,11],["click",[28,[37,12],[[30,4],[30,2]],null]],null],[4,[38,13],["cancel_selected_photo"],null],[12],[1,"\\n        "],[1,[28,[35,6],null,[["type","a11y-text","size"],["close",[28,[37,8],["a11y_attachment_remove","msg-ui/components/rich-media/uploaded-attachment-list-presenter"],[["attachmentName"],[[30,2,["name"]]]]],"small"]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[2]],null],[13]],["@attachments","attachment","@hideAttachmentInfo","@removeAttachment"],false,["did-insert","ember-set-helper@set","did-update","each","-track-array","if","artdeco-icons-web@li-icon","ember-vector-images@custom-image","t","global-helpers@and","global-helpers@not","on","fn","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-ui/components/rich-media/uploaded-attachment-list-presenter.hbs",isStrictMode:!1})
let c=(o=class extends i.default{scrollToBottom(){(0,a.mutateDOM)((()=>{this.isDestroying||(this.scrollingContainer.scrollTop=this.scrollingContainer.scrollHeight)}))}},(0,t.default)(o.prototype,"scrollToBottom",[r.action],Object.getOwnPropertyDescriptor(o.prototype,"scrollToBottom"),o.prototype),o)
e.default=c;(0,n.setComponentTemplate)(l,c)}))
define("msg-ui/components/rich-media/video-message-presenter",["exports","@ember/component","@ember/template-factory","@ember/object","@glimmer/component"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.createTemplateFactory)({id:"N3U2+Bln",block:'[[[10,0],[14,0,"msg-s-event-listitem__video"],[12],[1,"\\n  "],[10,0],[14,0,"msg-s-event-listitem__video-aspect-ratio-container"],[12],[1,"\\n    "],[8,[39,0],null,[["@videoPlayMetadata","@iconSize","@onPlayerReady"],[[30,0,["videoPlayMetadata"]],[30,1],[30,2]]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["@iconSize","@onPlayerReady"],false,["video@native-video-loader"]]',moduleName:"msg-ui/components/rich-media/video-message-presenter.hbs",isStrictMode:!1})
class a extends i.default{constructor(){super(...arguments)
this.videoPlayMetadata=JSON.parse(JSON.stringify((0,s.get)(this.args,"videoPlayMetadata")))
this.videoPlayMetadata.progressiveStreams[0].mediaType="video/mp4"}}e.default=a;(0,t.setComponentTemplate)(r,a)}))
define("msg-ui/components/selectable-entity-presenter",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","@ember/object/internals","@ember/object","@ember/debug","msg-shared/utils/constants"],(function(e,t,n,s,i,r,a,o,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d
const m=(0,i.createTemplateFactory)({id:"Q8RJtBcu",block:'[[[11,0],[16,0,[29,[[52,[30,1],"pt1","msg-selectable-entity"],"\\n    ",[52,[30,2],"msg-selectable-entity__checkbox-only"],"\\n    msg-selectable-entity--",[30,3]]]],[17,4],[4,[38,1],["keyup",[30,0,["onKeyUp"]]],null],[4,[38,1],["click",[30,0,["handleClick"]]],null],[12],[1,"\\n"],[41,[30,5,["hasParticipants"]],[[[41,[30,5,["hasPresenceInformation"]],[[[1,"      "],[8,[39,2],[[24,0,"msg-selectable-entity__entity"]],[["@viewData","@size"],[[30,5,["entityWithPresenceViewData"]],[30,3]]],null],[1,"\\n"]],[]],[[[1,"      "],[8,[39,3],[[24,0,"msg-selectable-entity__entity"]],[["@viewData","@entitySize","@iconSize"],[[30,5,["facepileViewData"]],[30,3],[30,6]]],null],[1,"\\n"]],[]]]],[]],null],[1,"  "],[10,0],[14,0,"msg-selectable-entity__checkbox-container"],[12],[1,"\\n    "],[8,[39,4],[[16,0,[28,[37,5],["msg-selectable-entity__input",[52,[28,[37,6],[[30,3],2],null]," small-input"," simple-form"]],null]],[16,1,[28,[37,5],["checkbox-",[30,0,["inputId"]]],null]]],[["@type","@checked"],["checkbox",[30,7]]],null],[1,"\\n    "],[10,"label"],[14,0,"msg-selectable-entity__checkbox-label ml2"],[15,"aria-label",[52,[30,7],[28,[37,7],["i18n_unselect_conversation_a11y","msg-ui/components/selectable-entity-presenter"],null],[28,[37,7],["i18n_select_conversation_a11y","msg-ui/components/selectable-entity-presenter"],null]]],[15,"for",[28,[37,5],["checkbox-",[30,0,["inputId"]]],null]],[12],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"msg-selectable-entity__checkbox-circle-container"],[12],[1,"\\n      "],[10,0],[14,0,"msg-selectable-entity__checkbox-circle"],[12],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@disableSelectability","@checkboxOnly","@entitySize","&attrs","@viewData","@iconSize","@checked"],false,["if","on","presence@entity-with-presence-presenter","msg-facepile-grid@facepile-presenter","input","concat","global-helpers@eq","t"]]',moduleName:"msg-ui/components/selectable-entity-presenter.hbs",isStrictMode:!1}),{KEYCODES:{ENTER:u}}=c.default
let p=(d=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"inputId",`msg-selectable-entity__checkbox-${(0,a.guidFor)(this)}`)
const{entitySize:e}=this.args}handleClick(e){if(!this.args.disableSelectability){e.stopPropagation()
e.preventDefault()
this.args.onCheckboxClick()}}onKeyUp(e){e.keyCode===u&&this.handleClick(e)}},(0,n.default)(d.prototype,"handleClick",[o.action],Object.getOwnPropertyDescriptor(d.prototype,"handleClick"),d.prototype),(0,n.default)(d.prototype,"onKeyUp",[o.action],Object.getOwnPropertyDescriptor(d.prototype,"onKeyUp"),d.prototype),d)
e.default=p;(0,s.setComponentTemplate)(m,p)}))
define("msg-ui/components/selected-filter-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","@glimmer/tracking","msg-data/enums"],(function(e,t,n,s,i,r,a,o,l,c,d,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,v,b,y,_,w
const M=(0,a.createTemplateFactory)({id:"LQIAQL+W",block:'[[[11,0],[24,0,"msg-selected-filter-presenter t-12"],[17,1],[12],[1,"\\n  "],[10,0],[14,0,"display-flex p2"],[12],[1,"\\n    "],[8,[39,0],[[16,"aria-label",[52,[30,0,["isStarringEnabled"]],[28,[37,2],["a11y_remove_filter_v2","msg-ui/components/selected-filter-presenter"],[["filter"],[[30,2]]]],[28,[37,2],["a11y_remove_filter","msg-ui/components/selected-filter-presenter"],[["filter"],[[30,2]]]]]],[4,[38,3],["dismiss_filter"],null]],[["@icon","@color","@size","@type","@click","@text","@disabled"],["close","muted",1,"tertiary",[30,3],[52,[30,0,["isStarringEnabled"]],[28,[37,2],["i18n_filter_no_unread_count_v2","msg-ui/components/selected-filter-presenter"],[["filter"],[[30,2]]]],[28,[37,2],["i18n_filter_no_unread_count","msg-ui/components/selected-filter-presenter"],[["filter"],[[30,2]]]]],[30,4]]],null],[1,"\\n\\n"],[41,[28,[37,4],[[30,2],"UNREAD"],null],[[[1,"      "],[8,[39,0],null,[["@classNames","@text","@size","@type","@click","@disabled"],["mlA",[28,[37,2],["i18n_mark_all_read","msg-ui/components/selected-filter-presenter"],null],1,"tertiary",[28,[37,5],[[30,0],"confirmationIsOpen",true],null],[30,0,["markAllReadButtonDisabled"]]]],null],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,6],null,[["@testId","@isOpen","@title","@content","@primaryActionText","@primaryActionTextA11y","@onPrimary","@primaryControlName","@secondaryActionText","@secondaryActionTextA11y","@onSecondary","@secondaryControlName","@onEscape"],["msg-mark-all-read-modal",[30,0,["confirmationIsOpen"]],[28,[37,2],["i18n_confirm_mark_all_as_read_v2","msg-ui/components/selected-filter-presenter"],null],[28,[37,2],["i18n_confirmation_text_body_mark_all_read","msg-ui/components/selected-filter-presenter"],null],[28,[37,2],["i18n_yes","msg-ui/components/selected-filter-presenter"],null],[28,[37,2],["a11y_yes_mark_all_read","msg-ui/components/selected-filter-presenter"],null],[30,0,["markAllAsRead"]],[28,[37,7],[[30,5],"mark_all_read_confirm"],null],[28,[37,2],["i18n_no_thanks","msg-ui/components/selected-filter-presenter"],null],[28,[37,2],["a11y_dont_mark_all_read","msg-ui/components/selected-filter-presenter"],null],[28,[37,5],[[30,0],"confirmationIsOpen",false],null],[28,[37,7],[[30,5],"mark_all_read_cancel"],null],[28,[37,5],[[30,0],"confirmationIsOpen",false],null]]],null]],["&attrs","@currentFilter","@clearFilter","@disabled","@trackingPrefix"],false,["artdeco-button@artdeco-button","if","t","ember-cli-pemberly-tracking@track-interaction","global-helpers@eq","ember-set-helper@set","artdeco-modal@artdeco-confirmation-dialog","concat"]]',moduleName:"msg-ui/components/selected-filter-presenter.hbs",isStrictMode:!1})
let D=(u=(0,c.inject)("msg-data@data-manager"),p=(0,c.inject)("persistent-toast-manager@persistent-toast-manager"),g=(0,c.inject)("lix"),h=(0,c.inject)("i18n"),f=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",v,this);(0,t.default)(this,"persistentToastManager",b,this);(0,t.default)(this,"lix",y,this);(0,t.default)(this,"i18n",_,this);(0,t.default)(this,"confirmationIsOpen",w,this)}get markAllReadButtonDisabled(){return this.msgDataManager.progressIndicatorState.markAllReadIndicator||0===this.args.loadedUnreadConversations.length||this.args.disabled}get isStarringEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-message-starring")}markAllAsRead(){this.msgDataManager.markAllConversationsAsRead().then((e=>{if(!this.isDestroying){var t,n
if(null==e||null===(t=e.data)||void 0===t||null===(n=t.value)||void 0===n||!n.synchronouslyProcessed){const e=5e3
this.msgDataManager.progressIndicatorState.setIndicatorInProgress(m.ProgressIndicatorTypeEnum.MARK_ALL_CONVERSATIONS_READ,e)}this.args.clearFilter()}})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@selected-filter-presenter","i18n_failed_to_mark_all_read")([])
this.persistentToastManager.error({message:t})
throw e})).finally((()=>{this.confirmationIsOpen=!1}))}},v=(0,s.default)(f.prototype,"msgDataManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(f.prototype,"persistentToastManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(f.prototype,"lix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(f.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(f.prototype,"confirmationIsOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(f.prototype,"markAllAsRead",[l.action],Object.getOwnPropertyDescriptor(f.prototype,"markAllAsRead"),f.prototype),f)
e.default=D;(0,r.setComponentTemplate)(M,D)}))
define("msg-ui/components/thread-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember-decorators/object","gdpr-notice/utils/notice-constants","msg-shared/utils/constants","msg-shared/utils/custom-tracking","rsvp","@ember/service","global-utils/utils/is-browser","@ember/utils","@ember/object/internals","msg-ui/utils/share-contact-info-helper","msg-shared/utils/user-visible-exception-helper","ember-lifeline","@glimmer/tracking","tracked-toolbox","msg-ui/viewdata/thread-viewdata","msg-shared/utils/view-data-helpers","msg-data/view-models/base","msg-ui/viewdata/sdk-thread-viewdata","scaffold-sound/services/sound","urn-utils","@ember/debug","msg-shared/utils/sdk-view-data-helpers"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h,f,v,b,y,_,w,M,D,k,C,S,P,x,T,I){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var E,A,O,R,U,N,j,F,L,z,B,V,q,H,W,G,K,$,Y,Q,J,Z,X,ee,te,ne,se,ie,re,ae,oe,le,ce,de,me,ue,pe,ge,he,fe,ve,be,ye,_e,we,Me,De
const ke=(0,a.createTemplateFactory)({id:"DpPP2uED",block:'[[[11,0],[4,[38,0],[[30,0,["didUpdateArgs"]]],null],[4,[38,1],[[30,0,["didUpdateArgs"]],[30,1],[30,2]],null],[12],[1,"\\n"],[1,"  "],[8,[39,2],null,[["@actionTrackingPrefix","@conversation","@contextText","@isOriginalSize","@mutePageKey","@recipientProfile","@noticeTypes","@renamePageKey","@setFocusToRenameConversationForm","@showRenameConversationForm","@showConversationMuteBanner","@showRecipientDetailOneToOne","@toggleShowRenameConversation","@toggleConversationMute"],[[30,3],[30,2],[30,4,["contextText"]],[30,5],[30,6],[30,7,["firstObject"]],[30,0,["gdprNoticeType"]],[30,8],[30,9],[30,10],[30,0,["showConversationMuteBanner"]],[30,0,["showOneToOneProfileCard"]],[30,11],[30,0,["toggleConversationMute"]]]],null],[1,"\\n"],[13],[1,"\\n\\n"],[41,[30,0,["showMessageList"]],[[[1,"  "],[8,[39,4],null,[["@composeIsFullyExpanded","@conversation","@latestEvent"],[[30,0,["shouldExpandComposeSection"]],[30,2],[30,2,["latestEvent"]]]],[["default"],[[[[1,"\\n    "],[8,[39,5],[[16,1,[30,13]]],[["@blockedByNoResponse","@isOverlay","@isLoading","@conversation","@handleSuccessfulDiscardRequest","@resendMessage","@inlineProfileCardLayout","@addParticipantsPageKey","@actionTrackingPrefix","@showMessageEditForm","@toggleShowRenameConversation","@showQuickReplies","@quickRepliesList","@quickRepliesUseCase","@sendQuickReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@messageIndexToBeAnchored","@contextWidth"],[[30,0,["blockedByNoResponse"]],[30,14],[30,12,["props","isLoading"]],[30,2],[30,15],[30,0,["resendMessage"]],[30,5],[30,16],[30,3],[30,0,["showMessageEditForm"]],[30,11],[30,0,["showQuickReplies"]],[30,0,["viewData","quickRepliesList"]],[30,17],[30,0,["sendQuickReply"]],[30,0,["openGIFPopover"]],[30,0,["openInMailReplyPanel"]],[30,0,["showInmailDeclineReasonModal"]],[30,0,["openVirtualMeetingModal"]],[30,12,["props","messageIndexToBeAnchored"]],[30,18]]],[["default"],[[[[1,"\\n"],[41,[30,0,["showInMailQuickReplies"]],[[[1,"        "],[8,[39,6],null,[["@viewData","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@contextWidth"],[[30,0,["viewData","quickRepliesViewData"]],[30,0,["viewData","quickRepliesList"]],[30,17],[30,3],[52,[30,14],"mebc_quick_reply","non_inmail_quick_reply"],[30,0,["sendQuickReply"]],[30,0,["openGIFPopover"]],[30,0,["openInMailReplyPanel"]],[30,0,["showInmailDeclineReasonModal"]],[30,0,["openVirtualMeetingModal"]],[30,18]]],null],[1,"\\n"]],[]],null],[1,"    "]],[]]]]],[1,"\\n\\n"],[41,[30,12,["props","scrollingPastThreshold"]],[[[1,"      "],[10,0],[14,0,"msg-s-message-list__new-message msg-animation__indicator"],[12],[1,"\\n        "],[8,[39,7],[[16,"aria-label",[28,[37,8],["a11y_new_messages","msg-ui/components/thread-feature"],null]]],[["@class","@size","@controlType","@text","@click"],["msg-s-message-list__new-message-button block",1,"button",[52,[30,12,["props","hasNewMessages"]],[28,[37,8],["i18n_new_messages_v2","msg-ui/components/thread-feature"],null],[28,[37,8],["i18n_latest_message","msg-ui/components/thread-feature"],null]],[30,12,["actions","scrollToNewMessages"]]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[12]]]]],[1,"\\n"]],[]],[[[1,"  "],[10,0],[15,0,[29,["msg-compose-container__spacer mtA\\n      ",[52,[30,0,["composeIsFullyExpanded"]]," msg-compose-container__spacer--compose-is-expanded"]]]],[12],[13],[1,"\\n"]],[]]],[1,"\\n"],[8,[39,9],null,[["@composeViewContext","@conversation","@selectedInMailReplySmartAction","@cancelQuickAction","@sendQuickAction","@actionTrackingPrefix","@messageEventToEdit","@messageToEdit","@shouldShowMessageEditForm","@onDismissEditForm","@composeIsFullyExpanded","@blockedByNoResponse","@isMessageRequestClickReplyPending","@isOverlay","@subject","@messageRecipients","@msgAdapterOptions","@prefilledMessage","@submitMessage","@sendPremiumInMail","@sendGif","@beforeUpload","@dragAndDropTrackingKeys","@smpContent","@msgFormId","@bubbleId","@isMessageRequestCompose","@contextByRecipients","@hasResharedContent","@isNew","@forwardedEvent","@isInMailCompose","@customPlaceholderText","@prefilledAttachments","@update","@updateFormState","@validateForm","@shouldShowMessageComposeFailedBanner","@enableAttachmentDragAndDrop","@closeVirtualMeetingContainer","@markConversationAsRead","@showExpandButton","@toggleExpandComposeField","@openGIFPopover","@isGifSearchPopoverOpen","@closeGIFPopover","@prefilledSearchTerm","@declineInmailReasonModalIsOpen","@dismissInmailFeedbackModal","@profileContactInfo","@shareInfoModalIsOpen","@onShareContactInfoAccept","@onShareContactInfoDecline","@closeShareProfileInfoModal","@shouldShowComposeRetryLoader","@messageContext","@hasValidRecipients","@isVirtualMeetingModalOpen","@handleSuccessfulDiscardRequest"],[[30,0,["_composeViewContext"]],[30,2],[30,0,["selectedInMailReplySmartAction"]],[28,[37,10],[[30,0],"selectedInMailReplySmartAction",[27]],null],[30,0,["onSendCustomInmailReply"]],[30,3],[30,0,["messageEventToEdit"]],[30,0,["messageToEdit"]],[30,0,["shouldShowMessageEditForm"]],[28,[37,10],[[30,0],"shouldShowMessageEditForm",false],null],[30,0,["composeIsFullyExpanded"]],[30,0,["blockedByNoResponse"]],[30,0,["isMessageRequestClickReplyPending"]],[30,14],[30,0,["subject"]],[30,7],[30,19],[30,20],[30,0,["submitMessage"]],[30,0,["sendPremiumInMail"]],[30,0,["sendGif"]],[30,0,["beforeUpload"]],[30,21],[30,22],[30,0,["msgFormId"]],[30,23],[30,24],[30,25],[30,0,["hasResharedContent"]],[30,26],[30,27],[30,28],[30,29],[30,30],[30,31],[30,0,["updateFormState"]],[30,0,["validateForm"]],[30,0,["shouldShowMessageComposeFailedBanner"]],[30,0,["enableAttachmentDragAndDrop"]],[28,[37,10],[[30,0],"isVirtualMeetingModalOpen",false],null],[30,0,["markConversationAsRead"]],[30,0,["showExpandButton"]],[30,0,["toggleExpandComposeField"]],[28,[37,10],[[30,0],"isGifSearchPopoverOpen",true],null],[30,0,["isGifSearchPopoverOpen"]],[30,0,["closeGIFPopover"]],[30,0,["prefilledGIFSearchTerm"]],[30,32],[28,[37,10],[[30,0],"declineInmailReasonModalIsOpen",false],null],[30,0,["profileContactInfo"]],[30,0,["shareInfoModalIsOpen"]],[30,0,["onShareContactInfoAccept"]],[30,0,["onShareContactInfoDecline"]],[28,[37,10],[[30,0],"shareInfoModalIsOpen",false],null],[30,0,["shouldShowComposeRetryLoader"]],[30,4],[30,0,["hasValidRecipients"]],[30,0,["isVirtualMeetingModalOpen"]],[30,15]]],null]],["@inmailReplyDeepLink","@conversation","@actionTrackingPrefix","@messageContext","@isOriginalSize","@mutePageKey","@messageRecipients","@renamePageKey","@setFocusToRenameConversationForm","@showRenameConversationForm","@toggleShowRenameConversation","scroller","@messageListId","@isOverlay","@handleSuccessfulDiscardRequest","@addParticipantsPageKey","@quickRepliesUseCase","@contextWidth","@msgAdapterOptions","@prefilledMessage","@dragAndDropTrackingKeys","@smpContent","@bubbleId","@isMessageRequestCompose","@contextByRecipients","@isNew","@forwardedEvent","@isInMailCompose","@customPlaceholderText","@prefilledAttachments","@update","@declineInmailReasonModalIsOpen"],false,["did-insert","did-update","msg-conversation-ui@thread-top-card-feature","if","msg-ui@message-list-scroller","msg-ui@message-list-feature","msg-ui@quick-replies-presenter","artdeco-button@artdeco-button","t","msg-ui@thread-footer-feature","ember-set-helper@set"]]',moduleName:"msg-ui/components/thread-feature.hbs",isStrictMode:!1}),Ce="i18n_conversation_send_error",{ACTION_TYPES:Se,MESSAGE_TYPE:Pe,INMAIL_ACTION:xe,INMAIL_MAX_CHARACTERS:Te,INMAIL_SUBJECT_MAX_CHARACTERS:Ie,CONTROL_NAMES:{EDIT_GROUP_NAME:{DONE:Ee}}}=m.default
let Ae=(E=(0,g.inject)("msg-data@data-manager"),A=(0,g.inject)("tracking"),O=(0,g.inject)("lix"),R=(0,g.inject)("authentication@authenticated-user"),U=(0,g.inject)("jet"),N=(0,g.inject)("store"),j=(0,g.inject)("global-services@a11y-notification"),F=(0,g.inject)("i18n"),L=(0,g.inject)("formatter"),z=(0,g.inject)("persistent-toast-manager@persistent-toast-manager"),B=(0,g.inject)("scaffold-sound@sound"),V=(0,g.inject)("presence@presence-api"),q=(0,M.localCopy)("args.composeViewContext"),H=(0,c.on)("messageSendSuccess"),W=(0,c.on)("messageSendFail"),G=class extends o.default{constructor(){super(...arguments);(0,n.default)(this,"msgFormId",`msg-form-${(0,v.guidFor)(this)}`);(0,n.default)(this,"gdprNoticeType",[d.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL]);(0,t.default)(this,"msgDataManager",K,this);(0,t.default)(this,"tracking",$,this);(0,t.default)(this,"lix",Y,this);(0,t.default)(this,"authenticatedUser",Q,this);(0,t.default)(this,"jet",J,this);(0,t.default)(this,"store",Z,this);(0,t.default)(this,"a11yNotification",X,this);(0,t.default)(this,"i18n",ee,this);(0,t.default)(this,"formatter",te,this);(0,t.default)(this,"persistentToastManager",ne,this);(0,t.default)(this,"sound",se,this);(0,t.default)(this,"presenceAPI",ie,this);(0,t.default)(this,"profileContactInfo",re,this);(0,t.default)(this,"shareInfoModalIsOpen",ae,this);(0,t.default)(this,"selectedInMailReplySmartAction",oe,this);(0,t.default)(this,"declineInmailReasonModalIsOpen",le,this);(0,t.default)(this,"isGifSearchPopoverOpen",ce,this);(0,t.default)(this,"isVirtualMeetingModalOpen",de,this);(0,t.default)(this,"prefilledGIFSearchTerm",me,this);(0,t.default)(this,"messageToEdit",ue,this);(0,t.default)(this,"messageEventToEdit",pe,this);(0,t.default)(this,"shouldShowMessageEditForm",ge,this);(0,t.default)(this,"inMailTooLong",he,this);(0,t.default)(this,"longMessageLength",fe,this);(0,t.default)(this,"isMessageRequestClickReplyPending",ve,this);(0,t.default)(this,"blockDialogOpen",be,this);(0,t.default)(this,"_subject",ye,this);(0,t.default)(this,"_composeIsFullyExpanded",_e,this);(0,t.default)(this,"_composeViewContext",we,this);(0,t.default)(this,"composeIsSending",Me,this);(0,t.default)(this,"messageComposeFailed",De,this);(0,n.default)(this,"blockedInmailReplyHelpCenterLink","/help/linkedin/answer/124531")
this.msgDataManager.setMessageSendSubscriber(this,this.msgFormId)
this._originalRecipients=this.args.messageRecipients}get subject(){return this.args.subject||this._subject}get composeIsFullyExpanded(){return this.args.isInMailCompose||this.hasResharedContent||this._composeIsFullyExpanded||this.args.noConvoHistoryInNewConvo}get shouldExpandComposeSection(){return!this.viewData.isInMail&&this.composeIsFullyExpanded&&!this.showBlockedFooter}get enableOlympusKeys(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn")}get showOneToOneProfileCard(){return!this.showMessageList&&this.args.showOneToOneProfileCard}didUpdateArgs(){const{latestMessage:e,isInMail:t,latestMessageActionType:n,quickRepliesList:s}=this.viewData
if(e){let e
this.args.inmailReplyDeepLink&&t&&"DECLINED"!==n&&(this.args.inmailReplyDeepLink.endsWith("sent_accepted")?e=s.findBy("replyType","INMAIL_ACCEPT"):this.args.inmailReplyDeepLink.endsWith("sent_rejected")&&(e=s.findBy("replyType","INMAIL_DECLINE")))
this.selectedInMailReplySmartAction=e}else this.selectedInMailReplySmartAction=void 0
this.args.messageRecipients!==this._originalRecipients&&(this._composeViewContext=null)}get showMessageList(){const{conversationUrn:e,isDraftState:t}=this.viewData
return!this.args.noConvoHistoryInNewConvo&&e&&!t}get showQuickReplies(){const{isViewerCurrentParticipant:e,isInMail:t,isPendingOrDeclinedMessageRequest:n,quickRepliesList:s,showBlockedFooter:i}=this.viewData
return!this.composeIsFullyExpanded&&e&&!t&&!n&&s.length&&!i}get showInMailQuickReplies(){const{isInMail:e,currentUser:t,quickRepliesList:n,isInMailReply:s}=this.viewData
return e&&!t&&n.length&&!s&&!this.selectedInMailReplySmartAction}get blockedByNoResponse(){const{isInMail:e,currentUser:t,isReplyDisabled:n}=this.viewData
return e&&t&&n}get enableAttachmentDragAndDrop(){return!this.hasResharedContent&&!this.args.isMessageRequestCompose}get hasResharedContent(){return this.args.forwardedEvent||this.args.update}get showExpandButton(){return!this.args.isInMailCompose}get inMailRequestContactInfo(){return this.viewData.inMailRequestContactInfo}get shouldShowComposeRetryLoader(){return this.args.isNew&&this.composeIsSending}get shouldShowMessageComposeFailedBanner(){return this.args.isNew&&this.messageComposeFailed}get showConversationMuteBanner(){const{isMute:e,isBlocked:t}=this.viewData
return e&&!this.composeIsFullyExpanded&&!t}_onMessageSendSuccess(e){var t,n,s
null===(t=(n=this.args).didSubmitMessage)||void 0===t||t.call(n,e)
this._composeIsFullyExpanded=!1
if(this.msgDataManager.msgSDKEnabled)this.msgDataManager.setConversationAsActive(e)
else if(e){const t=(0,l.get)(e,"id")
this.msgDataManager.getEventCollection(t)||this.msgDataManager.initEventCollection({name:`${t}`,conversationId:t}).fetchAndLoad({})}if(null!==(s=this.args.messageActions)&&void 0!==s&&s.afterSend){this.args.messageActions.afterSend()
delete this.args.messageActions.afterSend}this._focusMessageInput()
return e}_onMessageSendFail(e){let t=(0,y.default)(e)
if(!t){const e=this.args.isInMailCompose?"i18n_inmail_send_error":Ce
t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)()}this.persistentToastManager.error({message:t})
throw e}handleMessageSendSuccess(e){const t=(0,l.get)(e,"conversation")
this._onMessageSendSuccess(t)}handleMessageSendFail(e){this._onMessageSendFail(e)}_submitMessage(e){var t,n,s,i
const r=!this.args.conversation
this.tracking.fireInteractionEvent(this.args.sendMessageControlName)
if(this.args.isNew){const{recipientIDs:t}=this.viewData
if(!t)return
e.senderID=this.viewData.senderID
e.recipientIDs=t}e.name=this.args.conversationName
e.forward=this.args.forwardedEvent
if(this.args.isInMailCompose){e.messageReplyType=Pe.INMAIL
e.withNonConnection=!0
e.subject=e.subject.substring(0,Ie)}(0,l.get)(this.args,"msgAdapterOptions.groupUrn")&&r&&(e.messageReplyType=Pe.M2GM)
e.isOverlay=this.args.isOverlay
e.messageComposeFlowTrackingId=null===(t=this.args.entryPointData)||void 0===t?void 0:t.messageComposeFlowTrackingId
let a
a=this.args.invitationUrn&&r?this._replyToInvitation:r?this._saveConversation:this._sendReply
null===(n=this.args.messageActions)||void 0===n||null===(s=n.willSend)||void 0===s||s.call(n,e)
return(null!==(i=this.args.messageActions)&&void 0!==i&&i.willSendAsync?this.args.messageActions.willSendAsync(e):p.default.Promise.resolve()).then((()=>a.call(this,e))).then((e=>!this.isDestroying&&this.args.isNew&&e?this._onMessageSendSuccess(e):e)).catch((e=>{this.isDestroying||this.args.isNew&&this._onMessageSendFail(e)}))}_sendReply(e){const{conversationUrn:t}=e
if(!this.msgDataManager.msgSDKEnabled){const n=this.msgDataManager.peekConversation(t),s=(0,l.get)(this.args,"customTrackingObject.moduleKey")||this.args.conversationDetailModuleKey,i=(0,k.getConversationTrackingInfo)(n)
u.default.fireDetailActionEvent({...i,actionType:Se.SEND_MESSAGE,controlName:this.args.sendMessageControlName,moduleKey:s,trackingService:this.tracking})
e.forward&&u.default.fireDetailActionEvent({...i,actionType:(0,l.get)(e.forward,"isInMail")?Se.FORWARD_INMAIL:Se.FORWARD,controlName:this.args.sendMessageControlName,moduleKey:s,trackingService:this.tracking})}e.subscriberId=this.msgFormId
return this.msgDataManager.createAndSaveMessageEvent({participants:this.viewData.senderID,conversationUrn:t,msgData:e}).then((e=>e&&(0,l.get)(e,"conversation")))}_saveConversation(e){const t=(0,l.get)(this.args,"customTrackingObject.moduleKey")||(this.args.isOpenedFromMsgButton?this.tracking.getCurrentPageKey():this.args.composeModuleKey);(0,l.set)(this,"composeIsSending",!0);(0,l.set)(this,"messageComposeFailed",!1)
return this.msgDataManager.createAndSaveConversation(e,{isFromGroupChatComposeUI:this.args.isGroupChatCompose}).then((n=>{const s=(0,k.getConversationTrackingInfo)(n)
u.default.fireDetailActionEvent({...s,moduleKey:t,actionType:Se.SEND_MESSAGE,controlName:this.args.sendMessageControlName,trackingService:this.tracking})
e.forward&&u.default.fireDetailActionEvent({...s,moduleKey:t,actionType:Se.FORWARD,controlName:this.args.sendMessageControlName,trackingService:this.tracking})
e.name&&this.tracking.fireInteractionEvent(Ee)
return n})).catch((e=>{(0,l.set)(this,"messageComposeFailed",!0)
throw e})).finally((()=>{(0,l.set)(this,"composeIsSending",!1)}))}_focusMessageInput(){if(h.default&&window.getSelection().toString())return
const e=document.querySelector(`#${this.msgFormId} .msg-form__contenteditable`)
e&&e.focus()}_fetchContactInfo(){const e=(0,l.get)(this,"authenticatedUser.memberId")
return this.store.findRecord("com.linkedin.voyager.deco.identity.normalizedprofile.shared.WebApplicantProfile",e,{adapterOptions:{url:`/voyager/api/identity/normalizedProfiles/${e}`}}).then((e=>{if(!this.isDestroying){this.profileContactInfo=e
this.shareInfoModalIsOpen=!0}}))}_clickReplyToRecruiterInMail(e,t){let n
n=this.msgDataManager.msgSDKEnabled?this.msgDataManager.updateInMailStateWithoutSendingMessage(this.viewData.conversationUrn,e):this.msgDataManager.clickReplyToInMail(this.viewData.conversationUrn,e,t).then((()=>{this.msgDataManager.getEventCollection((0,x.extractEntityInfoFromUrn)(this.viewData.conversationUrn).id).fetchAndLoad()}))
return n.then((()=>{this.a11yNotify("i18n_a11y_send_successful")})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",Ce)()
this.persistentToastManager.error({message:t})
throw e}))}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}_replyToInvitation(e){return this.msgDataManager.replyToInvitation(this.args.invitationUrn,e).then((e=>{const t=this.args.isOpenedFromMsgButton?this.tracking.getCurrentPageKey():this.args.composeModuleKey,n=(0,k.getConversationTrackingInfo)(e)
u.default.fireDetailActionEvent({...n,moduleKey:t,actionType:Se.SEND_MESSAGE,controlName:this.args.sendMessageControlName,trackingService:this.tracking})
return e}))}_sendCustomInMailReplyMessage(e,t){var n
let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
const i={}
this.viewData.isRecruiterInmailReply&&(i.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{recruiterInMailCandidateReply:s}}})
"ACCEPT"===t?i.conversationState="ACCEPTED":"DECLINE"===t&&(i.conversationState="DECLINED")
this.selectedInMailReplySmartAction=void 0
return this.msgDataManager.sendMessage(this.args.conversation.entityUrn,{text:e},i,this.args.isOverlay,null===(n=this.args.entryPointData)||void 0===n?void 0:n.messageComposeFlowTrackingId)}openInMailReplyPanel(e){this.selectedInMailReplySmartAction=e}showInmailDeclineReasonModal(){this.declineInmailReasonModalIsOpen=!0}openGIFPopover(e){this.isGifSearchPopoverOpen=!0
this.prefilledGIFSearchTerm=e}closeGIFPopover(){this.isGifSearchPopoverOpen=!1
this.prefilledGIFSearchTerm=""}openVirtualMeetingModal(){this.isVirtualMeetingModalOpen=!0}toggleConversationMute(){const{isMute:e,conversationUrn:t,conversationBackendUrn:n,participantTrackingUrns:s,participantPresenceStatuses:i}=this.viewData,r=this.msgDataManager.toggleConversationMute(t,!e),a=e?Se.MUTE:Se.UNMUTE
u.default.fireDetailActionEvent({conversationObjectUrn:n,participantUrns:s,participantPresenceStatuses:i,actionType:a,controlName:this.args.muteConversationControlName,trackingService:this.tracking})
return r}beforeUpload(e){let t,{attachment:n,isPasteEvent:s}=e
t=n.isImage?s?this.args.imagePasteControlName:this.args.imageUploadControlName:this.args.fileUploadControlName
this.tracking.fireInteractionEvent(t)}resendMessage(e,t){var n
return this.msgDataManager.retrySaveMessage(e,t,this.args.isOverlay,null===(n=this.args.entryPointData)||void 0===n?void 0:n.messageComposeFlowTrackingId).then((e=>{this.sound.play(P.Sound.MessageSent)
return e}))}sendQuickReply(e,t,n){if(this.msgDataManager.msgSDKEnabled){var s
return this.msgDataManager.sendMessage(n,{text:e,attributes:[]},{quickActionContextUrn:t},this.args.isOverlay,null===(s=this.args.entryPointData)||void 0===s?void 0:s.messageComposeFlowTrackingId).then((e=>{let{conversation:t}=e
this.args.isNew&&t&&this._onMessageSendSuccess(t)}))}const i={conversationUrn:n,message:e,messageReplyType:Pe.M2M,adapterOptions:{quickReplyExtension:{extensionContentType:"QUICK_REPLY",quickReply:t}}}
return this._submitMessage(i)}sendGif(e){var t
return this.msgDataManager.sendMessage(this.viewData.conversationUrn,{text:"",attributes:[]},{renderContent:[{externalMedia:e}]},this.args.isOverlay,null===(t=this.args.entryPointData)||void 0===t?void 0:t.messageComposeFlowTrackingId).then((e=>{let{conversation:t}=e
if(!this.isDestroying){this.toggleExpandComposeField(!1)
this.args.isNew&&t&&this._onMessageSendSuccess(t)}}))}sendPremiumInMail(e){this._focusMessageInput()
if(this.msgDataManager.msgSDKEnabled){var t
this.messageComposeFailed=!1
this.composeIsSending=!0
this.tracking.fireInteractionEvent(this.args.sendMessageControlName)
return(null!==(t=this.args.messageActions)&&void 0!==t&&t.willSendAsync?this.args.messageActions.willSendAsync(e):p.default.Promise.resolve()).then((()=>{var t
const n={hostMessageCreateContent:{"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{premiumInMail:{}}}},hostRecipientUrns:this.viewData.recipientIDs}
e.attachments&&(n.renderContent=[...e.attachments])
e.update&&n.renderContent.push({hostUrnData:{hostUrn:(0,l.get)(this.args.update,"dashEntityUrn"),type:"FEED_UPDATE"}})
if(this.args.forwardedEvent){n.forwardedMessageUrn=this.args.forwardedEvent.entityUrn
n.renderContent=[{forwardedMessageContent:(0,I.messageStateToFragment)(this.args.forwardedEvent,this.msgDataManager.mailboxParticipants,this.i18n,this.formatter)}]}return this.msgDataManager.sendMessage(this.args.conversation.clientId,e.attributedBody,n,this.args.isOverlay,null===(t=this.args.entryPointData)||void 0===t?void 0:t.messageComposeFlowTrackingId)})).then((e=>{let{conversation:t}=e
const{entityUrn:n}=t
return this.msgDataManager.fetchMailboxConversation(n)})).then((e=>!this.isDestroying&&e?this._onMessageSendSuccess(e):e)).catch((e=>{if(!this.isDestroying){this.messageComposeFailed=!0
this._onMessageSendFail(e)}})).finally((()=>{this.composeIsSending=!1}))}return this._submitMessage(e)}submitMessage(e){var t=this
const n=this.messageComposeFailed&&this.args.isNew
this.args.isNew&&(this.messageComposeFailed=!1);(0,l.set)(this,"composeIsSending",!0)
this._focusMessageInput()
if(this.msgDataManager.msgSDKEnabled){var s
this.tracking.fireInteractionEvent(this.args.sendMessageControlName)
return(null!==(s=this.args.messageActions)&&void 0!==s&&s.willSendAsync?this.args.messageActions.willSendAsync(e):p.default.Promise.resolve()).then((()=>{var s,i,r,a,o,c,d,m
if(this.isDestroying)return(0,p.reject)()
const u={renderContent:[]}
this.args.conversationName&&(u.conversationTitle=this.args.conversationName)
e.attachments&&u.renderContent.push(...e.attachments)
e.update&&u.renderContent.push({hostUrnData:{hostUrn:(0,l.get)(this.args.update,"dashEntityUrn"),type:"FEED_UPDATE"}})
if(null!==(s=this.args.msgAdapterOptions)&&void 0!==s&&s.marketplaceProjectProposalUrn){const{marketplaceProjectProposalUrn:t}=this.args.msgAdapterOptions,n=(0,I.getMarketplaceProjectUrn)(t)
u.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{marketplacePlatform:{marketplaceProjectProposalUrn:t,marketplaceProjectUrn:n}}}}
if(e.smpContent){const t=(0,l.get)(e.smpContent,"entityUrn")
u.renderContent.push({hostUrnData:{hostUrn:t,type:"SMP_MESSAGE_CARD"}})}}if(this.viewData.isRecruiterInmailReply){u.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{recruiterInMailCandidateReply:{}}}}
"ACCEPT"===e.inMailResponseAction?u.conversationState="ACCEPTED":"DECLINE"===e.inMailResponseAction&&(u.conversationState="DECLINED")}if(null!==(i=e.adapterOptions)&&void 0!==i&&i.jobApplication){const{jobApplication:t,careersValidationToken:n}=e.adapterOptions
u.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{freeJobPosterToApplicant:{jobApplicationUrn:t.replace("fs_","fsd_"),validationToken:n}}}}}null!==(r=e.adapterOptions)&&void 0!==r&&r.prop&&(u.hostMessageCreateContent={"com.linkedin.voyager.dash.messaging.MessageCreateContent":{messageCreateContentUnion:{propMessage:e.adapterOptions.prop}}})
null!==(a=this.args.contextByRecipients)&&void 0!==a&&a.length?u.messageRequestContextByRecipient=this.args.contextByRecipients.map((e=>({hostRecipientUrn:`urn:li:fsd_profile:${e.recipient}`,contextEntityUrn:e.contextEntityUrn}))):!this.args.messageContext||"REPLY"===(null===(o=this.args.messageContext)||void 0===o?void 0:o.composeOptionType)||this.args.invitationUrn||null!==(c=this.args.msgAdapterOptions)&&void 0!==c&&c.marketplaceProjectProposalUrn||null!==(d=this.args.msgAdapterOptions)&&void 0!==d&&d.jobApplication||null!==(m=this.args.msgAdapterOptions)&&void 0!==m&&m.prop||(u.messageRequestContextByRecipient=[{contextEntityUrn:this.args.messageContext.contextEntityUrn.replace("fs_","fsd_"),hostRecipientUrn:this.viewData.recipientIDs[0]}])
if(this.args.forwardedEvent){u.forwardedMessageUrn=this.args.forwardedEvent.entityUrn
u.renderContent=[{forwardedMessageContent:(0,I.messageStateToFragment)(this.args.forwardedEvent,this.msgDataManager.mailboxParticipants,this.i18n,this.formatter)}]}this.args.invitationUrn&&(u.invitationUrn=this.args.invitationUrn.replace("urn:li:fs_relInvitation","urn:li:invitation"))
const g=this.args.conversation.entityUrn??this.args.conversation.clientId
if(this.viewData.isRecruiterInmailReply&&this.inMailRequestContactInfo){this.inMailContactInfoRequestCallback=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
t.inMailContactInfoRequestCallback=null
u.hostMessageCreateContent["com.linkedin.voyager.dash.messaging.MessageCreateContent"].messageCreateContentUnion.recruiterInMailCandidateReply=s
return t._sendMessageAndHandleResponse(g,e.attributedBody,u,n)}
return this._fetchContactInfo().catch((e=>{this.inMailContactInfoRequestCallback()
throw e}))}return this._sendMessageAndHandleResponse(g,e.attributedBody,u,n)}))}if("INMAIL_REPLY"===e.messageReplyType&&this.inMailRequestContactInfo){this.inMailReplyPayload=e
return this._fetchContactInfo().catch((t=>{this._submitMessage(e).finally((()=>{this.isDestroying||(this.inMailReplyPayload=void 0)}))
throw t}))}return this._submitMessage(e)}_sendMessageAndHandleResponse(e,t,n,s){let i
if(s){var r,a,o
const t=null===(r=this.msgDataManager.getMailboxByConversationUrn(e).state.draftConversations.get(e))||void 0===r||null===(a=r.messages)||void 0===a||null===(o=a.first())||void 0===o?void 0:o.clientId
i=this.resendMessage(e,t)}else{var c
i=this.msgDataManager.sendMessage(e,t,n,this.args.isOverlay,null===(c=this.args.entryPointData)||void 0===c?void 0:c.messageComposeFlowTrackingId)}return i.then((e=>{let{conversation:t}=e
const{entityUrn:n}=t
return this.msgDataManager.fetchMailboxConversation(n)})).then((e=>!this.isDestroying&&e?this._onMessageSendSuccess(e):e)).catch((t=>{var s
this.args.isNew&&(0,l.set)(this,"messageComposeFailed",!0)
const i=this.msgDataManager.getMailboxByConversationUrn(e)
this.jet.error(new Error("Failed to send message through SDK"),[`is from compose UI: ${!!this.args.isNew}`,`is new conversation: ${!e.startsWith("urn:li:msg_conversation")}`,`is message request: ${!(null===(s=n.messageRequestContextByRecipient)||void 0===s||!s.length)}`,`conversation exists locally: ${!!this.msgDataManager.getTrackedConversation(e)}`,`conversation identifier: ${e}`,`draft conversations in mailbox: ${Array.from(i.state.draftConversations.keys()).join(" ")}`,`persisted conversations in mailbox: ${i.state.conversations._conversations.map((e=>`${e.entityUrn} & ${e.clientId}`)).join(" ")}`],{shouldRethrow:!1})
this.isDestroying||this._onMessageSendFail(t)})).finally((()=>{(0,l.set)(this,"composeIsSending",!1)}))}toggleExpandComposeField(e){const t="boolean"==typeof e?e:!this.composeIsFullyExpanded
this._composeIsFullyExpanded=t}updateFormState(e){var t,n
null===(t=(n=this.args).setHasDraft)||void 0===t||t.call(n,!!e)}focusMessageInput(){this._focusMessageInput()}showMessageEditForm(e,t){this.messageToEdit=e
this.messageEventToEdit=t
this.shouldShowMessageEditForm=!0}validateForm(e){if(this.args.isNew){let t=!1
if(this.args.isInMailCompose){const n=this.inMailTooLong
t=e.length>Te
if(t){n||this.a11yNotify("i18n_inmail_too_long")
this.longMessageLength=e.length}else n&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
this.inMailTooLong=t}return(0,l.get)(this.args,"messageRecipients.length")&&(!this.args.isInMailCompose||(0,f.isPresent)(e)&&!t)}return!0}onSendCustomInmailReply(e,t){var n=this
const s=e?xe.DECLINE:xe.ACCEPT
if(this.msgDataManager.msgSDKEnabled){if(!e&&this.inMailRequestContactInfo){this.inMailContactInfoRequestCallback=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
n.inMailContactInfoRequestCallback=null
return n._sendCustomInMailReplyMessage(t,s,e)}
return this._fetchContactInfo().catch((e=>{this.inMailContactInfoRequestCallback()
throw e}))}return e&&!t?this._clickReplyToRecruiterInMail(!1).then((()=>{this.isDestroying||(this.selectedInMailReplySmartAction=void 0)})):this._sendCustomInMailReplyMessage(t,s)}if(t){const n={message:t,conversationUrn:this.viewData.conversationUrn,messageReplyType:Pe.INMAIL_REPLY,inMailResponseAction:s}
if(!e&&this.inMailRequestContactInfo){this.inMailReplyPayload=n
return this._fetchContactInfo().catch((e=>{this._submitMessage(n).finally((()=>{if(!this.isDestroying){this.selectedInMailReplySmartAction=void 0
this.inMailReplyPayload=void 0}}))
throw e}))}this.selectedInMailReplySmartAction=void 0
return this._submitMessage(n)}return e?this._clickReplyToRecruiterInMail(!1).then((()=>{this.isDestroying||(this.selectedInMailReplySmartAction=void 0)})):p.default.resolve().then((()=>{const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_inmail_empty_body_error")()
this.persistentToastManager.error({errorMessage:e})}))}onShareContactInfoAccept(e,t,n){if(this.msgDataManager.msgSDKEnabled){var s
const n=(0,x.extractEntityInfoFromUrn)(e).id
return null===(s=this.inMailContactInfoRequestCallback)||void 0===s?void 0:s.call(this,{email:n,phoneNumber:{number:t}})}const i=(0,b.default)({emailUrn:e,number:t,wechatId:n}),r=this.inMailReplyPayload
if(r){this.selectedInMailReplySmartAction=void 0;(0,l.set)(r,"inMailContactInfo",i)
return this._submitMessage(r).finally((()=>{this.isDestroying||(this.inMailReplyPayload=void 0)}))}return this._clickReplyToRecruiterInMail(!0,i)}onShareContactInfoDecline(){if(this.msgDataManager.msgSDKEnabled){var e
null===(e=this.inMailContactInfoRequestCallback)||void 0===e||e.call(this)
return}const t=this.inMailReplyPayload
if(t){this.selectedInMailReplySmartAction=void 0;(0,l.set)(t,"inMailContactInfo",{})
this._submitMessage(t).finally((()=>{this.isDestroying||(this.inMailReplyPayload=void 0)}))}else this._clickReplyToRecruiterInMail(!0,{})}updateSubject(e){this._subject=e.target.value}markConversationAsRead(e){(0,_.runTask)(this,(()=>{!this.isDestroying&&e&&(0,l.get)(e,"entityUrn")&&!(0,l.get)(e,"read")&&this.msgDataManager.markConversationAsRead((0,l.get)(e,"entityUrn"))}))}get viewData(){var e
const{conversation:t}=this.args,n=this.args.messageRecipients&&(0,l.get)(this.args.messageRecipients,"firstObject")instanceof C.default?null===(e=this.args.messageRecipients)||void 0===e?void 0:e.mapBy("content.miniProfile"):this.args.messageRecipients
return this.msgDataManager.msgSDKEnabled?new S.default({conversation:t,composeViewContext:this._composeViewContext,authenticatedUser:this.authenticatedUser,messageRecipients:n,msgDataManager:this.msgDataManager,presenceAPI:this.presenceAPI}):new D.default({conversation:t&&(0,l.get)(t,"content"),composeViewContext:this._composeViewContext,authenticatedUser:this.authenticatedUser,msgDataManager:this.msgDataManager,messageRecipients:n})}},K=(0,s.default)(G.prototype,"msgDataManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,s.default)(G.prototype,"tracking",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,s.default)(G.prototype,"lix",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,s.default)(G.prototype,"authenticatedUser",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,s.default)(G.prototype,"jet",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,s.default)(G.prototype,"store",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,s.default)(G.prototype,"a11yNotification",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,s.default)(G.prototype,"i18n",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,s.default)(G.prototype,"formatter",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,s.default)(G.prototype,"persistentToastManager",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,s.default)(G.prototype,"sound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,s.default)(G.prototype,"presenceAPI",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,s.default)(G.prototype,"profileContactInfo",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,s.default)(G.prototype,"shareInfoModalIsOpen",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,s.default)(G.prototype,"selectedInMailReplySmartAction",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,s.default)(G.prototype,"declineInmailReasonModalIsOpen",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,s.default)(G.prototype,"isGifSearchPopoverOpen",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,s.default)(G.prototype,"isVirtualMeetingModalOpen",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,s.default)(G.prototype,"prefilledGIFSearchTerm",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,s.default)(G.prototype,"messageToEdit",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,s.default)(G.prototype,"messageEventToEdit",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,s.default)(G.prototype,"shouldShowMessageEditForm",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,s.default)(G.prototype,"inMailTooLong",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,s.default)(G.prototype,"longMessageLength",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,s.default)(G.prototype,"isMessageRequestClickReplyPending",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,s.default)(G.prototype,"blockDialogOpen",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,s.default)(G.prototype,"_subject",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,s.default)(G.prototype,"_composeIsFullyExpanded",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,s.default)(G.prototype,"_composeViewContext",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,s.default)(G.prototype,"composeIsSending",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,s.default)(G.prototype,"messageComposeFailed",[w.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(G.prototype,"didUpdateArgs",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"didUpdateArgs"),G.prototype),(0,s.default)(G.prototype,"handleMessageSendSuccess",[H],Object.getOwnPropertyDescriptor(G.prototype,"handleMessageSendSuccess"),G.prototype),(0,s.default)(G.prototype,"handleMessageSendFail",[W],Object.getOwnPropertyDescriptor(G.prototype,"handleMessageSendFail"),G.prototype),(0,s.default)(G.prototype,"openInMailReplyPanel",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"openInMailReplyPanel"),G.prototype),(0,s.default)(G.prototype,"showInmailDeclineReasonModal",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"showInmailDeclineReasonModal"),G.prototype),(0,s.default)(G.prototype,"openGIFPopover",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"openGIFPopover"),G.prototype),(0,s.default)(G.prototype,"closeGIFPopover",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"closeGIFPopover"),G.prototype),(0,s.default)(G.prototype,"openVirtualMeetingModal",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"openVirtualMeetingModal"),G.prototype),(0,s.default)(G.prototype,"toggleConversationMute",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"toggleConversationMute"),G.prototype),(0,s.default)(G.prototype,"beforeUpload",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"beforeUpload"),G.prototype),(0,s.default)(G.prototype,"resendMessage",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"resendMessage"),G.prototype),(0,s.default)(G.prototype,"sendQuickReply",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"sendQuickReply"),G.prototype),(0,s.default)(G.prototype,"sendGif",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"sendGif"),G.prototype),(0,s.default)(G.prototype,"sendPremiumInMail",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"sendPremiumInMail"),G.prototype),(0,s.default)(G.prototype,"submitMessage",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"submitMessage"),G.prototype),(0,s.default)(G.prototype,"toggleExpandComposeField",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"toggleExpandComposeField"),G.prototype),(0,s.default)(G.prototype,"updateFormState",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"updateFormState"),G.prototype),(0,s.default)(G.prototype,"focusMessageInput",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"focusMessageInput"),G.prototype),(0,s.default)(G.prototype,"showMessageEditForm",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"showMessageEditForm"),G.prototype),(0,s.default)(G.prototype,"validateForm",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"validateForm"),G.prototype),(0,s.default)(G.prototype,"onSendCustomInmailReply",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"onSendCustomInmailReply"),G.prototype),(0,s.default)(G.prototype,"onShareContactInfoAccept",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"onShareContactInfoAccept"),G.prototype),(0,s.default)(G.prototype,"onShareContactInfoDecline",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"onShareContactInfoDecline"),G.prototype),(0,s.default)(G.prototype,"updateSubject",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"updateSubject"),G.prototype),(0,s.default)(G.prototype,"markConversationAsRead",[l.action],Object.getOwnPropertyDescriptor(G.prototype,"markConversationAsRead"),G.prototype),G)
e.default=Ae;(0,r.setComponentTemplate)(ke,Ae)}))
define("msg-ui/components/thread-footer-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","msg-ui/viewdata/thread-footer-viewdata","msg-ui/viewdata/sdk-thread-footer-viewdata","@glimmer/tracking"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,v,b,y,_,w,M,D,k,C,S,P,x,T,I,E,A,O
const R=(0,a.createTemplateFactory)({id:"C9CHJ0R+",block:'[[[41,[30,0,["viewData","customLssFooter"]],[[[1,"  "],[10,0],[14,0,"pt3 ph5 pb2"],[12],[1,"\\n    "],[10,2],[14,0,"t-12 t-black--light mb3"],[12],[1,"\\n      "],[1,[30,0,["viewData","customLssFooter","mainText","text"]]],[1,"\\n      "],[11,"button"],[24,0,"t-12 t-black--light link-without-visited-state"],[24,4,"button"],[4,[38,1],["click",[28,[37,2],[[30,0],"blockDialogOpen",true],null]],null],[12],[1,"\\n        "],[1,[30,0,["viewData","customLssFooter","unsubscribeText","text"]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[41,[30,0,["blockDialogOpen"]],[[[1,"      "],[8,[39,3],null,[["@modalIsOpen","@convoId","@participantNames","@closeModal"],[true,[30,0,["viewData","conversationId"]],[30,0,["viewData","participantNames"]],[28,[37,2],[[30,0],"blockDialogOpen",false],null]]],null],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["viewData","showBlockedFooter"]],[[[1,"  "],[10,0],[14,0,"align-items-flex-end display-flex artdeco-divider"],[12],[1,"\\n    "],[10,0],[14,0,"msg-s-conversation-blocked-footer"],[12],[1,"\\n      "],[8,[39,4],null,[["@type"],["note"]],[["default"],[[[[1,"\\n"],[1,"        "],[1,[28,[35,5],[[30,1,["footerText"]]],null]],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[41,[30,0,["viewData","isBlocked"]],[[[1,"  "],[8,[39,6],null,[["@viewData"],[[30,0,["viewData","unspamFooterViewData"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["conversationWithBlockedMember"]],[[[1,"  "],[8,[39,7],null,null,null],[1,"\\n"]],[]],[[[41,[30,2],[[[1,"  "],[8,[39,8],null,[["@viewData","@quickReply","@cancel","@send","@trackingPrefix"],[[30,0,["viewData","inmailQuickActionFooterViewData"]],[30,2],[30,3],[30,4],[30,5]]],null],[1,"\\n"]],[]],[[[41,[30,6],[[[1,"    "],[8,[39,9],null,[["@trackingPrefix","@saveEditControlName","@viewData","@prefilledMessage","@onDismissEditForm","@conversation"],[[30,5],[28,[37,10],[[30,5],"save_edit"],null],[30,0,["viewData","editMessageFooterViewData"]],[30,7],[30,8],[30,9]]],null],[1,"\\n"]],[]],[[[41,[30,10],[[[1,"    "],[10,2],[14,0,"msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[12],[1,"\\n      "],[1,[28,[35,11],["i18n_no_response_yet","msg-ui/components/thread-footer-feature"],[["linkInfo"],[[28,[37,12],null,[["target","href","rel","class","aria-label","data-control-name","data-test-msg-ui-thread-footer-feature__awaiting-inmail-response-learn-more"],["_blank",[30,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,[37,11],["i18n_learn_more_a11y","msg-ui/components/thread-footer-feature"],null],"awaiting_inmail_response_learn_more","true"]]]]]]],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["blockedByDecline"]],[[[1,"    "],[10,2],[14,0,"msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[12],[1,"\\n      "],[1,[28,[35,11],["i18n_recipient_declined_inmail","msg-ui/components/thread-footer-feature"],[["linkInfo"],[[28,[37,12],null,[["target","href","rel","class","aria-label","data-control-name","data-test-msg-ui-thread-footer-feature__inmail-declined-learn-more"],["_blank",[30,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,[37,11],["i18n_learn_more_a11y","msg-ui/components/thread-footer-feature"],null],"inmail_declined_learn_more","true"]]]]]]],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[28,[37,13],[[30,0,["viewData","messageRequestState"]],"PENDING"],null],[[[1,"    "],[8,[39,14],null,[["@isMessageRequestClickReplyPending","@isGroupMessageRequest","@senderName","@actionTrackingPrefix","@sendAcceptReply","@sendRejectReply"],[[30,0,["isMessageRequestClickReplyPending"]],[30,0,["isGroupMessageRequest"]],[30,0,["viewData","participantName"]],[30,5],[28,[37,15],[[30,0,["oneClickReplyToMessageRequest"]],true],null],[28,[37,15],[[30,0,["oneClickReplyToMessageRequest"]],false],null]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showDeclinedMessageRequestAccept"]],[[[1,"    "],[8,[39,16],null,[["@senderName","@acceptMessageRequest"],[[30,0,["viewData","participantName"]],[28,[37,15],[[30,0,["oneClickReplyToMessageRequest"]],true],null]]],null],[1,"\\n"]],[]],[[[41,[30,11],[[[1,"    "],[8,[39,17],null,[["@conversation","@isOverlay","@subject","@viewData","@msgAdapterOptions","@prefilledMessage","@submitMessage","@beforeUpload","@dragAndDropTrackingKeys","@smpContent","@update","@updateFormState"],[[30,9],[30,12],[30,13],[30,0,["viewData","inmailComposeFormViewData"]],[30,14],[30,15],[30,16],[30,17],[30,18],[30,19],[30,20],[30,21]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showMessageForm"]],[[[1,"    "],[8,[39,18],null,[["@id","@beforeUpload","@bubbleId","@composeIsFullyExpanded","@messageContext","@contextByRecipients","@conversation","@hasResharedContent","@isOverlay","@externallyValid","@forwardedEvent","@isInMailCompose","@msgAdapterOptions","@overridePlaceholder","@prefilledAttachments","@prefilledMessage","@subject","@submitMessage","@sendGif","@toggleExpandComposeField","@update","@smpContent","@updateFormState","@validateForm"],[[30,22],[30,17],[30,23],[30,24],[52,[30,25],[30,26]],[30,27],[30,9],[30,28],[30,12],[52,[30,29],[30,30],true],[30,31],[30,11],[30,14],[52,[30,32],[30,32],[28,[37,11],["i18n_write_a_message","msg-ui/components/thread-footer-feature"],null]],[30,33],[30,15],[30,13],[30,34],[30,35],[30,36],[30,20],[30,19],[30,21],[30,37]]],[["default"],[[[[1,"\\n"],[41,[30,40,["isOverCharLimit"]],[[[1,"        "],[8,[39,19],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,41],[[[1,"        "],[8,[39,20],null,[["@resendMessage"],[[30,39,["onSubmit"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,42],[[[1,"        "],[8,[30,38,["attachmentDragAndDropPresenter"]],null,[["@composeIsFullyExpanded","@trackingKeys"],[[30,24],[30,18]]],null],[1,"\\n"],[41,[51,[30,40,["showMiniAttachmentPreviews"]]],[[[1,"          "],[8,[30,38,["uploadedAttachmentListPresenter"]],null,null,null],[1,"\\n"],[41,[30,40,["attachmentDropErrorType"]],[[[1,"            "],[8,[30,38,["attachmentDragAndDropErrorPresenter"]],null,null,null],[1,"\\n"]],[]],null]],[]],null]],[]],null],[1,"\\n"],[41,[30,40,["showMentionsPicker"]],[[[1,"        "],[8,[30,38,["mentionsPickerPresenter"]],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,43],[[[1,"        "],[8,[39,22],null,[["@viewData","@refocusElement","@closeVirtualMeetingContainer","@filloutMeetingInvite"],[[30,0,["viewData","virtualMeetingModalViewData"]],[28,[37,10],["#",[30,22]," .msg-form__contenteditable"],null],[30,44],[30,39,["updateTextarea"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"      "],[8,[30,38,["messageContentContainerPresenter"]],[[24,0,"msg-form__message-texteditor relative flex-grow-1 display-flex"]],[["@composeIsFullyExpanded","@expandButtonSize","@handleFocusIn","@labelText","@showExpandButton","@toggleExpandComposeField","@trackingPrefix","@update","@smpContent"],[[30,24],1,[28,[37,15],[[30,45],[30,9]],null],[28,[37,11],[[52,[30,29],"a11y_compose_new","a11y_compose"],"msg-ui/components/thread-footer-feature"],[["names"],[[52,[30,0,["viewData","isGroupChat"]],[52,[30,0,["viewData","conversationName"]],[30,0,["viewData","conversationName"]],[28,[37,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[28,[37,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]]]]],[30,46],[30,36],[30,5],[30,20],[30,19]]],null],[1,"\\n"],[41,[30,40,["showMiniAttachmentPreviews"]],[[[41,[30,40,["attachments","length"]],[[[1,"          "],[11,"button"],[24,0,"msg-form__mini-attachment-preview t-12 t-black--light t-bold pv1"],[24,4,"button"],[4,[38,1],["click",[30,36]],null],[12],[1,"\\n            "],[1,[28,[35,11],["i18n_num_files_attached","msg-ui/components/thread-footer-feature"],[["numberOfAttachments"],[[30,40,["attachments","length"]]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"      "],[10,"footer"],[15,0,[29,["msg-form__footer flex-shrink-zero ",[52,[30,12],"","pb7"]]]],[12],[1,"\\n        "],[10,0],[14,0,"msg-form__left-actions display-flex"],[12],[1,"\\n"],[41,[51,[30,28]],[[[1,"            "],[8,[30,38,["uploadAttachmentPresenter"]],null,[["@buttonClasses","@icon","@labelText","@acceptTypes","@disabled","@trackingPrefix"],[[29,["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0 ",[52,[30,12],"artdeco-button--1","artdeco-button--2"]]],[28,[37,23],null,[["type","size"],["image",[52,[30,12],"small","medium"]]]],[28,[37,11],[[52,[30,29],"a11y_attach_image_new","a11y_attach_image"],"msg-ui/components/thread-footer-feature"],[["names"],[[52,[30,0,["viewData","isGroupChat"]],[52,[30,0,["viewData","conversationName"]],[30,0,["viewData","conversationName"]],[28,[37,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[28,[37,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]]]]],[30,40,["supportedImageAttachmentTypes"]],[30,25],[28,[37,10],[[30,5],"image"],null]]],null],[1,"\\n            "],[8,[30,38,["uploadAttachmentPresenter"]],null,[["@buttonClasses","@icon","@labelText","@acceptTypes","@disabled","@trackingPrefix"],[[29,["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0 ",[52,[30,12],"artdeco-button--1","artdeco-button--2"]]],[28,[37,23],null,[["type","size"],["attachment",[52,[30,12],"small","medium"]]]],[28,[37,11],[[52,[30,29],"a11y_attach_file_new","a11y_attach_file"],"msg-ui/components/thread-footer-feature"],[["names"],[[52,[30,0,["viewData","isGroupChat"]],[52,[30,0,["viewData","conversationName"]],[30,0,["viewData","conversationName"]],[28,[37,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[28,[37,11],["i18n_participants_full_names","msg-ui/components/thread-footer-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]]]]],[30,40,["supportedFileAttachmentTypes"]],[30,25],[28,[37,10],[[30,5],"file"],null]]],null],[1,"\\n"]],[]],null],[41,[30,0,["enableGifButton"]],[[[1,"            "],[8,[39,24],null,[["@bundle"],["tenor-gif"]],[["default"],[[[[1,"\\n"],[41,[30,47,["state","fulfilled"]],[[[1,"                "],[8,[39,25],null,[["@size","@trackingPrefix","@conversation","@openGIFPopover","@disabled","@isGifSearchPopoverOpen"],[[52,[30,12],1,2],[30,5],[30,9],[30,48],[30,25],[52,[30,49],"true","false"]]],null],[1,"\\n"]],[]],null],[1,"            "]],[47]]]]],[1,"\\n"],[41,[30,49],[[[1,"              "],[8,[39,24],null,[["@bundle"],["tenor-gif"]],[["default"],[[[[1,"\\n"],[41,[30,50,["state","fulfilled"]],[[[1,"                  "],[8,[39,26],null,[["@trackingPrefix","@closeHovercard","@handleGIFSend","@afterSend","@prefilledSearchTerm","@isOverlay"],[[30,5],[30,51],[30,39,["handleGIFSend"]],[30,39,["focusTextarea"]],[30,52],[30,12]]],null],[1,"\\n"]],[]],null],[1,"              "]],[50]]]]],[1,"\\n"]],[]],null]],[]],null],[1,"\\n          "],[8,[39,24],null,[["@bundle"],["emoji-picker"]],[["default"],[[[[1,"\\n"],[41,[30,53,["state","fulfilled"]],[[[1,"              "],[8,[39,27],null,[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@hoverableOutletId","@size","@onHoverableHide","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses","@triggerData"],[true,[30,39,["updateTextareaWithEmoji"]],[52,[30,12],"msg_overlay_emoji","msg_pillar_emoji"],[52,[30,12],"msg-overlay__emoji-hoverable-outlet"],[52,[30,12],1,2],[30,39,["focusComposeAfterEmojiPickerClose"]],[52,[30,12],"overlay.close_emoji_picker","msg.close_emoji_picker"],[52,[30,12],"overlay.open_emoji_picker","msg.open_emoji_picker"],[52,[30,12],"overlay.select_emoji","msg.select_emoji"],[52,[30,12],"overlay.select_searched_emoji","msg.select_searched_emoji"],"msg-form__footer-action",[28,[37,12],null,[["bubbleId","conversationUrn"],[[30,23],[30,0,["viewData","conversationUrn"]]]]]]],null],[1,"\\n"]],[]],null],[1,"          "]],[53]]]]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[1,"\\n          "],[8,[30,38,["sendControlsPresenter"]],null,[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",[30,40,["pressEnterToSend"]]]],null],[1,"\\n          "],[8,[30,38,["sendModeTogglePresenter"]],null,[["@isEnterToSendEnabled","@setEnterToSendSetting","@afterToggleAction","@triggerButtonSize"],[[30,40,["pressEnterToSend"]],[30,39,["setEnterToSendSetting"]],[30,39,["focusTextarea"]],[52,[30,12],1,2]]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n      "],[8,[30,38,["mentionToInviteToastPresenter"]],null,[["@actionTrackingPrefix"],[[30,5]]],null],[1,"\\n    "]],[38,39,40]]]]],[1,"\\n  "]],[]],null]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"\\n"],[41,[30,54],[[[1,"  "],[8,[39,28],null,[["@trackingPrefix","@dismissModal"],[[30,5],[30,55]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,56],[[[1,"  "],[8,[39,29],null,[["@viewData","@isOpen","@onShareContactInfoAccept","@sendInMailReply","@closeModal"],[[30,0,["viewData","shareProfileInfoModalViewData"]],[30,56],[30,57],[30,58],[30,59]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,60],[[[1,"  "],[8,[39,30],null,null,null],[1,"\\n"]],[]],null]],["@composeViewContext","@selectedInMailReplySmartAction","@cancelQuickAction","@sendQuickAction","@actionTrackingPrefix","@shouldShowMessageEditForm","@messageToEdit","@onDismissEditForm","@conversation","@blockedByNoResponse","@isInMailCompose","@isOverlay","@subject","@msgAdapterOptions","@prefilledMessage","@sendPremiumInMail","@beforeUpload","@dragAndDropTrackingKeys","@smpContent","@update","@updateFormState","@msgFormId","@bubbleId","@composeIsFullyExpanded","@isMessageRequestCompose","@messageContext","@contextByRecipients","@hasResharedContent","@isNew","@hasValidRecipients","@forwardedEvent","@customPlaceholderText","@prefilledAttachments","@submitMessage","@sendGif","@toggleExpandComposeField","@validateForm","components","actions","props","@shouldShowMessageComposeFailedBanner","@enableAttachmentDragAndDrop","@isVirtualMeetingModalOpen","@closeVirtualMeetingContainer","@markConversationAsRead","@showExpandButton","assetLoader","@openGIFPopover","@isGifSearchPopoverOpen","assetLoader","@closeGIFPopover","@prefilledGIFSearchTerm","assetLoader","@declineInmailReasonModalIsOpen","@dismissInmailFeedbackModal","@shareInfoModalIsOpen","@onShareContactInfoAccept","@onShareContactInfoDecline","@closeShareProfileInfoModal","@shouldShowComposeRetryLoader"],false,["if","on","ember-set-helper@set","msg-shared-modals@block-lss-modal-presenter","artdeco-inline-feedback@artdeco-inline-feedback","text-view-model@text-view-model","msg-ui@unspam-footer-presenter","msg-ui@blocked-conversation-footer-presenter","msg-ui@inmail-quick-action-footer-presenter","msg-ui@msg-edit-form/edit-message-footer-presenter","concat","t","hash","global-helpers@eq","msg-ui@pending-message-request-footer-presenter","fn","msg-ui@declined-message-request-footer-presenter","msg-ui@inmail-compose-form-presenter","msg-ui@msg-form/base-form-feature","msg-ui@msg-form/primitives/character-limit-banner","msg-ui@msg-form/primitives/send-failure-banner","unless","msg-shared-modals@virtual-meeting-modal-presenter","artdeco-icons-web@li-icon","asset-loader@deferred-asset-loader","tenor-gif@gif-button-presenter","tenor-gif@tenor-search-presenter","emoji-picker@emoji-hoverable","msg-shared-modals@inmail-feedback-modal-presenter","msg-shared-modals@share-profile-info-modal-presenter","msg-shared-modals@compose-retry-loader-presenter"]]',moduleName:"msg-ui/components/thread-footer-feature.hbs",isStrictMode:!1})
let U=(p=(0,c.inject)("authentication@authenticated-user"),g=(0,c.inject)("profile-services@identity-store"),h=(0,c.inject)("formatter"),f=(0,c.inject)("msg-data@data-manager"),v=(0,c.inject)("persistent-toast-manager@persistent-toast-manager"),b=(0,c.inject)("i18n"),y=(0,c.inject)("global-services@a11y-notification"),_=(0,c.inject)("router"),w=(0,c.inject)("presence@presence-api"),M=class extends o.default{constructor(){super(...arguments);(0,n.default)(this,"blockedInmailReplyHelpCenterLink","/help/linkedin/answer/124531");(0,t.default)(this,"authenticatedUser",D,this);(0,t.default)(this,"identityStore",k,this);(0,t.default)(this,"formatter",C,this);(0,t.default)(this,"msgDataManager",S,this);(0,t.default)(this,"persistentToastManager",P,this);(0,t.default)(this,"i18n",x,this);(0,t.default)(this,"a11yNotification",T,this);(0,t.default)(this,"router",I,this);(0,t.default)(this,"presenceAPI",E,this);(0,t.default)(this,"isMessageRequestClickReplyPending",A,this);(0,t.default)(this,"blockDialogOpen",O,this)}get conversationWithBlockedMember(){const{participants:e,isRestrictedProfile:t}=this.viewData
return t&&1===e.length}get blockedByDecline(){const{inmailReplyAction:e,currentUser:t,isReplyDisabled:n}=this.viewData
return"DECLINED"===e&&!t&&n}get showDeclinedMessageRequestAccept(){const{messageRequestState:e,isGroupChat:t}=this.viewData
return"DECLINED"===e&&!t}get showMessageForm(){return this.viewData.isUserRepliesEnabled}get isGroupMessageRequest(){const{messageRequestState:e,isGroupChat:t}=this.viewData
return"PENDING"===e&&t}get isSmpNewConvo(){return!!(0,l.get)(this.args,"msgAdapterOptions.marketplaceProjectProposalUrn")&&!this.args.conversation}get enableGifButton(){return!(this.args.isInMailCompose||this.viewData.isInMail||this.args.hasResharedContent||this.isSmpNewConvo)}get viewData(){const{composeViewContext:e,messageRecipients:t,conversation:n,messageEventToEdit:s,profileContactInfo:i}=this.args
if(this.msgDataManager.msgSDKEnabled)return new m.default({composeViewContext:e,recipients:t,conversation:n,messageEventToEdit:s,profileContactInfo:i,msgDataManager:this.msgDataManager,authenticatedUser:this.authenticatedUser,i18n:this.i18n,participants:this.msgDataManager.mailboxParticipants,router:this.router,presenceAPI:this.presenceAPI},{formatName:this.formatter.formatName.bind(this.formatter),getIdentityRecord:this.identityStore.findRecord.bind(this.identityStore)})
const r=s&&void 0!==(0,l.get)(s,"content")?(0,l.get)(s,"content"):s
return new d.default({composeViewContext:e,recipients:t,conversation:n&&(0,l.get)(n,"content"),messageEventToEdit:r,profileContactInfo:i,msgDataManager:this.msgDataManager,authenticatedUser:this.authenticatedUser,router:this.router},{formatName:this.formatter.formatName.bind(this.formatter),getIdentityRecord:this.identityStore.findRecord.bind(this.identityStore)})}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}oneClickReplyToMessageRequest(e){const{conversationUrn:t}=this.viewData
this.isMessageRequestClickReplyPending=!0
return this.msgDataManager.clickReplyToMessageRequest(t,e,this.isGroupMessageRequest).then((()=>{if(!e){var n,s
null===(n=(s=this.args).handleSuccessfulDiscardRequest)||void 0===n||n.call(s,t)}this.a11yNotify("i18n_a11y_send_successful")})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_conversation_send_error")()
this.persistentToastManager.error({message:t})
throw e})).finally((()=>{this.isMessageRequestClickReplyPending=!1}))}},D=(0,s.default)(M.prototype,"authenticatedUser",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,s.default)(M.prototype,"identityStore",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,s.default)(M.prototype,"formatter",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(M.prototype,"msgDataManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(M.prototype,"persistentToastManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,s.default)(M.prototype,"i18n",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,s.default)(M.prototype,"a11yNotification",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,s.default)(M.prototype,"router",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(M.prototype,"presenceAPI",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,s.default)(M.prototype,"isMessageRequestClickReplyPending",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(M.prototype,"blockDialogOpen",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(M.prototype,"oneClickReplyToMessageRequest",[l.action],Object.getOwnPropertyDescriptor(M.prototype,"oneClickReplyToMessageRequest"),M.prototype),M)
e.default=U;(0,r.setComponentTemplate)(R,U)}))
define("msg-ui/components/unspam-footer-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@glimmer/component","msg-shared/utils/custom-tracking","msg-shared/utils/constants","@ember/object","urn-utils"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,v,b,y,_,w
const M=(0,a.createTemplateFactory)({id:"dwGR5r9n",block:'[[[11,0],[24,0,"msg-s-conversation-unspam pt2 pb3 ph3 text-align-center"],[17,1],[12],[1,"\\n  "],[10,2],[14,0,"t-12 t-black t-normal pb2"],[12],[1,"\\n    "],[1,[28,[35,0],["i18n_spam_info_message","msg-ui/components/unspam-footer-presenter"],null]],[1,"\\n  "],[13],[1,"\\n  "],[8,[39,1],null,[["@class","@click","@type"],["full-width",[30,0,["unspamConversation"]],"secondary"]],[["default"],[[[[1,"\\n    "],[1,[28,[35,0],["i18n_move_to_inbox","msg-ui/components/unspam-footer-presenter"],null]],[1,"\\n  "]],[]]]]],[1,"\\n"],[13]],["&attrs"],false,["t","artdeco-button@artdeco-button"]]',moduleName:"msg-ui/components/unspam-footer-presenter.hbs",isStrictMode:!1}),{ACTION_TYPES:D,CONTROL_NAMES:k}=d.default
let C=(p=(0,o.inject)("msg-data@data-manager"),g=(0,o.inject)("i18n"),h=(0,o.inject)("persistent-toast-manager@persistent-toast-manager"),f=(0,o.inject)("tracking"),v=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",b,this);(0,t.default)(this,"i18n",y,this);(0,t.default)(this,"persistentToastManager",_,this);(0,t.default)(this,"tracking",w,this)}unspamConversation(){const{conversationUrn:e,conversationBackendUrn:t,participantTrackingUrns:n,participantPresenceStatuses:s}=this.args.viewData
this.msgDataManager.unspamConversation(e).then((()=>{var i,r
const a=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_unspam_success")()
this.persistentToastManager.success({message:a})
c.default.fireDetailActionEvent({actionType:D.UNSPAM,controlName:k.CONVERSATION.UNSPAM,conversationObjectUrn:t,participantUrns:n,participantPresenceStatuses:s,trackingService:this.tracking})
null===(i=(r=this.args).redirectToActiveConversation)||void 0===i||i.call(r,(0,u.extractEntityInfoFromUrn)(e).id)})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_unspam_failed")()
this.persistentToastManager.error({message:t})
throw e}))}},b=(0,s.default)(v.prototype,"msgDataManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(v.prototype,"i18n",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(v.prototype,"persistentToastManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(v.prototype,"tracking",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(v.prototype,"unspamConversation",[m.action],Object.getOwnPropertyDescriptor(v.prototype,"unspamConversation"),v.prototype),v)
e.default=C;(0,r.setComponentTemplate)(M,C)}))
define("msg-ui/components/virtual-meeting-cta-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","ember","@ember/service","@ember/application","@glimmer/tracking","@ember/object"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,v,b,y,_,w,M,D
const k=(0,a.createTemplateFactory)({id:"t4L0lycU",block:'[[[8,[39,0],null,[["@isVisible"],[[30,0,["showOnboardingNotification"]]]],[["default"],[[[[1,"\\n  "],[8,[39,1],[[4,[38,4],["virtual_meeting_entrypoint"],null]],[["@aria-label","@class","@type","@color","@circle","@click","@conversationUrn","@controlType","@icon","@size"],[[28,[37,2],["i18n_open_virtual_meeting_dialog","msg-ui/components/virtual-meeting-cta-presenter"],null],"msg-form__footer-action flex-shrink-zero",[52,[30,1],"primary","tertiary"],[52,[30,1],"default","muted"],true,[30,0,["openVirtualMeetingModal"]],[30,2,["conversationUrn"]],"button","video-conference",[30,3]]],null],[1,"\\n"]],[]]]]],[1,"\\n\\n"],[41,[30,0,["isVirtualMeetingContainerOpen"]],[[[1,"  "],[8,[39,5],null,[["@viewData","@refocusElement","@closeVirtualMeetingContainer","@filloutMeetingInvite"],[[30,2,["virtualMeetingModalViewData"]],[28,[37,6],[[30,4]," .msg-form__contenteditable"],null],[28,[37,7],[[30,0],"isVirtualMeetingContainerOpen",false],null],[30,5]]],null],[1,"\\n"]],[]],null]],["@invertColor","@viewData","@ctaSize","@parentRefocusElement","@updateTextarea"],false,["product-education@coachmark","artdeco-button@artdeco-button","t","if","ember-cli-pemberly-tracking@track-interaction","msg-shared-modals@virtual-meeting-modal-presenter","concat","ember-set-helper@set"]]',moduleName:"msg-ui/components/virtual-meeting-cta-presenter.hbs",isStrictMode:!1})
let C=(p=(0,c.inject)("msg-shared-modals@virtual-meeting-onboarding"),g=(0,c.inject)("prefetch"),h=(0,c.inject)("msg-data@data-manager"),f=(0,c.inject)("persistent-toast-manager@persistent-toast-manager"),v=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"isVirtualMeetingContainerOpen",b,this);(0,t.default)(this,"showOnboardingNotification",y,this);(0,t.default)(this,"vmOnboardingService",_,this);(0,t.default)(this,"prefetch",w,this);(0,t.default)(this,"msgDataManager",M,this);(0,t.default)(this,"persistentToastManager",D,this)
this.vmOnboardingService.fetchOnboardingNotification().then((e=>{this.isDestroying||(this.showOnboardingNotification=e)}))}openVirtualMeetingModal(){this.isVirtualMeetingContainerOpen=!0
this.showOnboardingNotification=!1
this.vmOnboardingService.dismissOnboardingNotification()
this.prefetch.prefetchAssets("msg-video-call","d_flagship3_messaging_video_conference").then((()=>{if(!l.default.testing||this.args.testingPrefetchOverride){(0,d.getOwner)(this).lookup("service:video-call@fetch-client").fetchConferenceClient()}}))}},b=(0,s.default)(v.prototype,"isVirtualMeetingContainerOpen",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=(0,s.default)(v.prototype,"showOnboardingNotification",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=(0,s.default)(v.prototype,"vmOnboardingService",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(v.prototype,"prefetch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,s.default)(v.prototype,"msgDataManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,s.default)(v.prototype,"persistentToastManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(v.prototype,"openVirtualMeetingModal",[u.action],Object.getOwnPropertyDescriptor(v.prototype,"openVirtualMeetingModal"),v.prototype),v)
e.default=C;(0,r.setComponentTemplate)(k,C)}))
define("msg-ui/components/visible-beacon",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@ember/debug","@glimmer/component","ember-batcher","global-utils/utils/intersection-observer","@ember/object"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c
const d=(0,s.createTemplateFactory)({id:"AHI3n11O",block:'[[[11,0],[4,[38,0],[[30,0,["handleDidInsert"]]],null],[12],[1,"\\n  "],[18,1,null],[1,"\\n"],[13]],["&default"],false,["did-insert","yield"]]',moduleName:"msg-ui/components/visible-beacon.hbs",isStrictMode:!1})
let m=(c=class extends r.default{get buffer(){return this.args.buffer||300}_fireInView(){this.isDestroying||this.args.inView()}handleDidInsert(e){const t={rootMargin:`0px 0px ${this.buffer}px`},{rootSelector:n}=this.args
n&&(t.root=document.querySelector(n));(0,o.onInViewportOnce)(e,(()=>(0,a.mutateDOM)(this._fireInView.bind(this))),t)}},(0,t.default)(c.prototype,"handleDidInsert",[l.action],Object.getOwnPropertyDescriptor(c.prototype,"handleDidInsert"),c.prototype),c)
e.default=m;(0,n.setComponentTemplate)(d,m)}))
define("msg-ui/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="msg-ui/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(e){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}var n=t
e.default=n}))
define.alias("ember-truth-helpers/helpers/and","msg-ui/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","msg-ui/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","msg-ui/helpers/artdeco-is-between-dates")
define.alias("ember-media-player/helpers/autoplay-media","msg-ui/helpers/autoplay-media")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","msg-ui/helpers/cal-dates-equal")
define("msg-ui/helpers/date-group-heading",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","@ember/component/helper","msg-ui/helpers/is-current-year"],(function(e,t,n,s,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,d,m,u,p,g
let h=(l=(0,r.inject)("i18n"),c=(0,r.inject)("formatter"),d=(0,r.inject)("date"),m=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",u,this);(0,t.default)(this,"formatter",p,this);(0,t.default)(this,"date",g,this)}compute(e){const t=e[0],n=this.date.now(),s=n-t
let i
if(t>=new Date(n).setHours(0,0,0,0))return this.i18n.lookupTranslation("components/msg-ui@message-list-feature","i18n_today")()
i=s<6048e5?"fmt_d":(0,o.isCurrentYear)(t,this.date)?"fmt_md_medium":"fmt_mdy_medium"
return this.formatter.formatDate(t,i,!0)}},u=(0,s.default)(m.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,s.default)(m.prototype,"formatter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,s.default)(m.prototype,"date",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m)
e.default=h}))
define.alias("ember-element-helper/helpers/element","msg-ui/helpers/element")
define.alias("ember-holy-futuristic-template-namespacing-batman/helpers/-translate-dynamic-2","msg-ui/helpers/ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2")
define("msg-ui/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})}))
define.alias("ember-truth-helpers/helpers/eq","msg-ui/helpers/eq")
define("msg-ui/helpers/extract-participant-names",["exports","@ember/component/helper","@ember/object","global-helpers/helpers/name"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.extractParticipantNames=i
function i(e){return null==e?void 0:e.map((e=>(0,s.getName)((0,n.get)(e,"miniProfile"))))}class r extends t.default{compute(e){let[t]=e
return i(t)}}e.default=r}))
define.alias("ember-media-player/helpers/format-autoplay","msg-ui/helpers/format-autoplay")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-ui/helpers/format-number")
define.alias("ember-semaphore/helpers/format-title","msg-ui/helpers/format-title")
define("msg-ui/helpers/get-message-seen-receipts",["exports","@ember/component/helper","msg-shared/utils/urn-id-helpers","msg-data/utils/seen-receipts-manager"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.helper)((e=>{let[t,i,r]=e
if(!r)return[]
const a=(0,n.extractNormalizedEventId)(r)
return s.default.getMessageSeenReceipts(t,i,a)}))
e.default=i}))
define.alias("ember-truth-helpers/helpers/gt","msg-ui/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","msg-ui/helpers/gte")
define.alias("ember-truth-helpers/helpers/is-array","msg-ui/helpers/is-array")
define("msg-ui/helpers/is-current-year",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","@ember/component/helper"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.isCurrentYear=function(e,t){const n=t.now()
return new Date(n).getFullYear()===new Date(e).getFullYear()}
e.isCurrentYearWithNowTimestamp=d
var o,l,c
function d(e,t){return new Date(t).getFullYear()===new Date(e).getFullYear()}let m=(o=(0,r.inject)("date"),l=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"dateService",c,this)}compute(e){let[t]=e
return d(t,this.dateService.now())}},c=(0,s.default)(l.prototype,"dateService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=m}))
define.alias("ember-truth-helpers/helpers/is-empty","msg-ui/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","msg-ui/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","msg-ui/helpers/li-icon")
define.alias("ember-async-data/helpers/load","msg-ui/helpers/load")
define.alias("ember-truth-helpers/helpers/lt","msg-ui/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","msg-ui/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-eq","msg-ui/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","msg-ui/helpers/not")
define.alias("ember-truth-helpers/helpers/or","msg-ui/helpers/or")
define("msg-ui/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})}))
define.alias("ember-media-player/helpers/seek-media","msg-ui/helpers/seek-media")
define.alias("ember-set-helper/helpers/set","msg-ui/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","msg-ui/helpers/t")
define.alias("ember-cli-pemberly-litms/helpers/tag-manager-test-helper","msg-ui/helpers/tag-manager-test-helper")
define.alias("ember-truth-helpers/helpers/xor","msg-ui/helpers/xor")
define.alias("ember-uuid","msg-ui/index")
define("msg-ui/initializers/artdeco",["exports","artdeco-eyeglass"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=i
const n=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function s(e,t){const s=e[t]
e[t]=function(){n.forEach((e=>e&&"function"==typeof e.teardown&&e.teardown()))
s&&"function"==typeof s&&s.call(e)}}function i(e){if("undefined"!=typeof document){n.forEach((e=>e.install()))
"function"==typeof e.willDestroy?s(e,"willDestroy"):"function"==typeof e.destroy&&s(e,"destroy")}}var r={name:"artdeco",initialize:i}
e.default=r}))
define("msg-ui/initializers/ember-faker",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=t
function t(){}var n={name:"ember-faker",initialize:t}
e.default=n}))
define("msg-ui/initializers/icons",["exports","artdeco-icons-web/src/icons","msg-ui/config/environment"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function s(e){throw e}var i={name:"icons",initialize:function(){const{environment:e,APP:i}=n.default
let r,a
i&&({artdecoCustomSpriteUrl:r,artdecoCustomSpriteName:a}=i)
const o="test"!==e
t.default.load(o,r,a).catch(s)}}
e.default=i}))
define.alias("ember-cli-pemberly-lix/initializers/lix","msg-ui/initializers/lix")
define.alias("ember-m3/initializers/m3-store","msg-ui/initializers/m3-store")
define.alias("video/instance-initializers/media-plugins","msg-ui/instance-initializers/media-plugins")
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","msg-ui/modifiers/artdeco-calendar-click-watcher")
define.alias("ember-ref-bucket/modifiers/create-ref","msg-ui/modifiers/create-ref")
define.alias("@ember/render-modifiers/modifiers/did-insert","msg-ui/modifiers/did-insert")
define.alias("@ember/render-modifiers/modifiers/did-update","msg-ui/modifiers/did-update")
define.alias("ember-prop-modifier","msg-ui/modifiers/prop")
define.alias("@ember/render-modifiers/modifiers/will-destroy","msg-ui/modifiers/will-destroy")
define.alias("@embroider/util/services/ensure-registered","msg-ui/services/-ensure-registered")
define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-ui/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","msg-ui/services/artdeco-modal")
define.alias("client-sensor-web/services/client-sensor","msg-ui/services/client-sensor")
define.alias("ember-date-service/services/date","msg-ui/services/date")
define.alias("@linkedin/ember-restli-graphql/services/graphql","msg-ui/services/graphql")
define.alias("@linkedin/ember-pem/services/internal-event-utils","msg-ui/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","msg-ui/services/internal-pem-tracking")
define.alias("ember-cli-pemberly-lix/services/lix","msg-ui/services/lix")
define.alias("ember-m3/services/m3-schema-manager","msg-ui/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","msg-ui/services/media-player")
define.alias("@linkedin/ember-pem/services/pem-tracking","msg-ui/services/pem-tracking")
define.alias("@linkedin/ember-qualtrics/services/qualtrics-surveys","msg-ui/services/qualtrics-surveys")
define.alias("ember-cli-realtime/services/realtime-api","msg-ui/services/realtime-api")
define.alias("ember-media-player/services/static-asset-loader","msg-ui/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","msg-ui/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","msg-ui/services/tag-manager")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","msg-ui/services/tracking-adapter-for-tag-manager")
define.alias("ember-singularity/services/unified-event-handler","msg-ui/services/unified-event-handler")
define("msg-ui/services/update-message-compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/object","@ember/object/events","@ember/service"],(function(e,t,n,s,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,d
let m=(l=(0,o.inject)("jet"),c=class extends o.default{constructor(){super(...arguments);(0,n.default)(this,"overlayBaseFormSubscriberList",[]);(0,t.default)(this,"jet",d,this)}setBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.push(e):this.pillarBaseForm=e}removeBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.splice(this.overlayBaseFormSubscriberList.indexOf(e),1):e===this.pillarBaseForm&&(this.pillarBaseForm=null)}_getBaseFormSubscriber(e,t){return t?this.overlayBaseFormSubscriberList.findBy("bubbleId",e):this.pillarBaseForm}triggerFocusMessageCompose(e){let{bubbleId:t,isOverlay:n}=e
const s=this._getBaseFormSubscriber(t,n)
s?(0,a.sendEvent)(s,"focusMessageCompose"):this.logErrorForNoBaseFormFound("triggerFocusMessageCompose",t)}triggerUpdateMessageCompose(e){let{bubbleId:t,isOverlay:n,messageText:s}=e
const i=this._getBaseFormSubscriber(t,n)
i?(0,a.sendEvent)(i,"updateMessageCompose",[s]):this.logErrorForNoBaseFormFound("triggerUpdateMessageCompose",t)}logErrorForNoBaseFormFound(e,t,n){const s=this.overlayBaseFormSubscriberList.map((e=>(0,r.get)(e,"conversation.entityUrn"))),i=[`${e}()`]
t&&i.push(`bubbleId: ${t}`)
n&&i.push(`conversationUrn: ${n}`)
i.push(`baseFormConversationUrns: ${s.join(", ")}`)
this.jet.error(new Error("No baseFormSubscriber was found from conversation entityUrn"),i)}},d=(0,s.default)(c.prototype,"jet",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c)
e.default=m}))
define.alias("artdeco-datepicker/templates/components/artdeco-calendar","msg-ui/templates/components/artdeco-calendar")
define.alias("artdeco-datepicker/templates/components/artdeco-datepicker-embedded-cal","msg-ui/templates/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/templates/components/artdeco-datepicker","msg-ui/templates/components/artdeco-datepicker")
define.alias("artdeco-datepicker/templates/components/artdeco-daterange-embedded-cal","msg-ui/templates/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/templates/components/artdeco-daterange","msg-ui/templates/components/artdeco-daterange")
define.alias("ember-async-data/tracked-async-data","msg-ui/tracked-async-data")
define("msg-ui/utils/attributed-text-manager",["exports","ember","@ember/object","@ember/utils","global-utils/utils/get-ie-version","global-utils/utils/is-browser","rich-text/utils/mentions-texteditor-helpers"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o={mention:"STRONG",wrapper:"P",newLine:"BR",nonVisual:["STYLE","#comment"],grammarly:"G",text:"#text"},l="msg-form__mention-highlight",c="data-id"
function d(e){return-1!==o.nonVisual.indexOf(e.nodeName)}e.default=class{constructor(){this.resetModel()
r.default?this.needsBlankChar=window.navigator.userAgent.indexOf("Firefox")>-1||this._isIEOrEdgeBrowser():this.needsBlankChar=!1}resetModel(){this.Model={text:"",attributes:[],cursor:0}
this.isBrowser=r.default
this.didAttributesChange=!0
this.EntityMap={}
this.History=new a.History}getModel(){return this.Model}setModel(e){this.History.addToUndo(e)
this.Model=e
return this}updateModelCursorPosition(e){this.History.addToUndo(this.Model)
this.Model={text:this.Model.text,attributes:this.Model.attributes,cursor:e}
return this.Model}updateModelFromHTML(e){const t=e.childNodes
this.History.clearRedo()
this.didAttributesChange=!1
if(""===e.textContent){this.resetModel()
return}let n=0
const s={text:"",attributes:[]}
if(this.needsBlankChar&&1===e.textContent.length){s.text=e.textContent
s.position=1
s.cursor=1
this.setModel(s)
this.didAttributesChange=!0
return}for(let e=0;e<t.length;e+=1){const i=t[e]
if(i.nodeName===o.wrapper){const e=i.childNodes
for(let t=0;t<e.length;t+=1){const i=e[t]
if(this.isMentionNode(i)){const e=i.getAttribute(c),t=this.EntityMap[e]
if(t){const r={start:n,length:i.textContent.length,entity:t,urn:e}
s.attributes.push(r)}}if(!d(i)){s.text+=i.textContent
n+=i.textContent.length}}}if(this._shouldInsertReturn(t,i,e)){s.text+="\n"
n+=1}else if(1===t.length&&1===i.childNodes.length&&i.childNodes[0]===o.newLine){s.text+="\n"
n+=1
s.cursor=1}}if(!s.cursor){const{end:t}=this.getCaretPosition(e)
s.cursor=t}const i=s.text.length<this.Model.text.length
this.cleanModel(s,i)}getCaretPosition(e){return(0,a.getCaretPosition)(e,this.isBrowser)}setCaretPosition(e,t){let n,s,i,r
if(!this.isBrowser)return
n=document.createRange()
s=window.getSelection()
let a=e,l=!1
const c=t.childNodes
for(let e=0;e<c.length;e+=1){let t=!1
const n=c[e].textContent.length
if(a-n>0){a-=n
e<c.length-1&&(a-=1)}else{r=c[e].childNodes
for(i=0;i<r.length;i+=1){const e=r[i].textContent.length
if(!(a-e>0)){r[i].nodeName===o.mention&&(l=!0)
t=!0
break}a-=e}if(t)break}}if(r&&r.length&&i>-1){l?n.setStart(r[i].childNodes[0],a):n.setStart(r[i],a)
n.collapse(!0)
s.removeAllRanges()
s.addRange(n)
t.focus()}}correctClickPosition(e){if(!this.needsBlankChar)return
const{text:t}=this.getModel()
t.length||this.setCaretPosition(0,e)}cleanModel(e,t){const n={text:e.text,attributes:[],cursor:e.cursor}
let s=0
e.attributes.sort(((e,t)=>e.start-t.start))
e.attributes.forEach((i=>{var r
const a=e.text.substr(i.start,i.length)
if(i.mentionInProgress||!this.isMentionEntity(null===(r=i.entity)||void 0===r?void 0:r.entityUrn)){n.attributes.push(i)
return}const o=this.EntityMap[i.urn]
let{firstName:l="",lastName:c=""}=o
a.indexOf(`@${l}`)>-1?l=`@${l}`:a.indexOf(`@${c}`)>-1&&(c=`@${c}`)
const d=a.split(" ")
if(d.length>1&&""===d[d.length-1]){d.splice(d.length-1,1)
d[d.length-1]+=" "
this.didAttributesChange=!0}const m=l.split(" ").concat(c.split(" "))
l.match(/[\u3400-\u9FBF]/)&&c.length&&c.match(/[\u3400-\u9FBF]/)&&m.unshift(c+l)
let u=0
for(let e=0;e<m.length;e+=1)if(d[u]&&d[u]===m[e]){if(u===d.length-1){const{start:e,length:t,entity:r,urn:a}=i
n.attributes.push({start:e+s,length:t,entity:r,urn:a})
return}u+=1}else if(!t){this.didAttributesChange=!0
if(u===d.length-1&&d[u]&&0===d[u].indexOf(m[e])){const t=d[u].length-m[e].length,{start:s,length:r,entity:a,urn:o}=i
n.attributes.push({start:s,length:r-t,entity:a,urn:o})
return}if(0===u){const t=d[u].indexOf(m[e])
if(t>0){const{start:e,length:s,entity:r,urn:a}=i
n.attributes.push({start:e+t,length:s-t,entity:r,urn:a})
return}}}if(t){const t=this.generateRemainingMentionText(d,m),{diffPosition:r}=t
let{finalMentionText:a}=t
a=a.indexOf("@")>-1?a:`@${a}`
const o=this.updateModelWithNewMentionText(a,i,e.text,r),{cursor:l,diff:c,mention:u,text:p}=o
s+=c
u&&n.attributes.push(u)
n.text=p
n.cursor=l
this.didAttributesChange=!0}}))
const i=0!==this.getModel().attributes.length,r=0===n.attributes.length
i&&r&&(this.didAttributesChange=!0)
this.setModel(n)}generateRemainingMentionText(e,t){let n,s="",i=0,r=0,a=!1
const o=e
for(let e=0;e<t.length&&i<o.length;e+=1){const l=t[e],c=o[i]
if(c.trim()===l){s+=`${c} `
r=e
i<o.length-1&&(i+=1)}else if(0===c.indexOf(l)){n=s.trim().length
a=!0
const e=c.replace(l,"")
o[i]=e}else if(e===t.length-1&&i<o.length-1){e=r
i+=1
n=s.trim().length
a=!0}else n||a||(n=s.trim().length)}return{finalMentionText:s,diffPosition:n}}updateModelWithNewMentionText(e,t,n,s){if(e&&"@"!==e){const i=e.trim(),r=i.length-t.length,a=n.substr(0,t.start)+i+n.substr(t.start+t.length),o=t.start+s
t.length=i.length
return{text:a,cursor:o,diff:r,mention:t}}delete this.EntityMap[t.urn]
return{text:n.substr(0,t.start)+n.substr(t.start+t.length),cursor:t.start,diff:-t.length}}createHTMLFromModel(){let e="",t=0
const{text:n}=this.Model
if(!n)return jSecure.sanitizeHTML(this._carriageReturnHandler(this.needsBlankChar))
this.Model.attributes.sort(((e,t)=>e.start-t.start)).forEach((s=>{const{start:i,length:r}=s
e=`${e}${jSecure.htmlEncode(n.substring(t,i))}${this.createHTMLForAttribute(s)}`
t=i+r}))
e+=jSecure.htmlEncode(n.substring(t))
return jSecure.sanitizeHTML(e.split("\n").map((e=>(0,s.isPresent)(e)?jSecure.mk`<${o.wrapper}>${new jSecure.UnsafeString(jSecure.sanitizeHTML(e))}</${o.wrapper}>`:this._carriageReturnHandler(this.needsBlankChar))).join(""))}createHTMLForAttribute(e){let{entity:t,start:n,length:s,mentionInProgress:i}=e
return`<strong class="${i?"msg-form__mention-in-progress":l}" data-id="${jSecure.htmlEncode(t?t.entityUrn:"mention-in-progress")}">${jSecure.htmlEncode(this.Model.text.substring(n,n+s))}</strong>`}insertText(e,t){let{start:n,end:s}=t
if(!e)return
const{text:i,attributes:r}=this.Model,a=this._calcOffset(e,i,n),o={attributes:r.reduce(((t,i)=>{if(i.start+i.length<=n)return t.concat(i)
if(i.start>=s){const r={start:n+e.length+(i.start-s),length:i.length,entity:i.entity,urn:i.urn}
return t.concat(r)}return t}),[]),cursor:n+e.length+a,text:`${i.slice(0,n)}${e}${i.slice(s)}`}
this.didAttributesChange=!0
this.setModel(o)
return this}_calcOffset(e,t){let n=0
if(this.needsBlankChar)if("\n"===e){const{length:e}=t,s=" "===t[e-1]?t.slice(0,-1):t
"\n"===s[s.length-1]&&(n=1)}else n=(e.match(/\n\n/g)||[]).length
return n}insertAttribute(e){const t=(0,n.getProperties)(e,["match","entity","entityUrn","mentionInProgress"]),s=this.getModel(),{text:i}=s,{start:r,end:a}=e.tokenSelection,o=e.match.text.length-(a-r),l={text:`${i.substring(0,r)}${e.match.text}${i.substring(a)}`,attributes:s.attributes.reduce(((e,t)=>{if(t.start>=a){const{start:n,length:s,entity:i,urn:r}=t
e.push({urn:r,length:s,entity:i,start:n+o})}else e.push(t)
return e}),[]),cursor:r+e.match.text.length}
this.didAttributesChange=!0
const{entity:c}=t,d=null==c?void 0:c.entityUrn,m={urn:d,entity:c,start:r,length:t.match.length}
t.mentionInProgress&&(m.mentionInProgress=!0)
l.attributes.push(m)
this.EntityMap[d]=c
this.setModel(l)
return this}removeMentionInProgress(){const e=this.getModel()
e.attributes=e.attributes.filter((e=>!e.mentionInProgress))
this.setModel(e)
this.didAttributesChange=!0}handleUndoRedo(e){let t
t=e.shiftKey?this.History.redo():this.History.undo()
if(t&&t.model){this.setModel(t.model)
this.didAttributesChange=!0}return this}getTextBeforeCursor(e){const{text:t}=this.Model,n=this.Model.attributes.sort(((e,t)=>t.start-e.start)).find((t=>{var n
return t.entity&&t.start+t.length<=e.start&&this.isMentionEntity(null===(n=t.entity)||void 0===n?void 0:n.entityUrn)}))
if(n){const s=n.start+n.length
return t.substring(s,e.end)}return t.substring(0,e.end)}isMentionNode(e){return e.className===l&&e.getAttribute(c)}isMentionEntity(e){return e&&e.includes("urn:li:member")||e.includes("miniProfile")||e.includes("urn:li:fs_conversation")||e.includes("urn:li:fsd_profile")}mentionAtPosition(e){return this.getModel().attributes.find((t=>{let{start:n,length:s}=t
return e>=n&&e<=n+s-1}))}_isGrammarly(e){return e.nodeName===o.grammarly&&e.classList.contains("gr_")}_shouldInsertReturn(e,t,n){const{nodeName:s}=t
return n<e.length-1&&!this._isGrammarly(t)&&s!==o.mention&&(s===o.newLine||s!==o.text)}_isIEOrEdgeBrowser(){return!(t.default.testing||!r.default)&&!!(0,i.default)(window.navigator.userAgent)}_carriageReturnHandler(e){return e?jSecure.mk`<${o.wrapper}>&nbsp;<br /></${o.wrapper}>`:jSecure.mk`<${o.wrapper}><br /></${o.wrapper}>`}}}))
define.alias("ember-highcharts/utils/build-options","msg-ui/utils/build-options")
define("msg-ui/utils/conversation-properties",["exports","msg-shared/utils/constants","@ember/object","msg-shared/helpers/is-sponsored-conversation","msg-shared/helpers/is-inmail-conversation"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.enableUserReplies=function(e){return!e||(0,n.get)(e,"viewerCurrentParticipant")}
e.getReplyMessageType=function(e,t){if((0,i.isInmailConversation)(e,t))return r.INMAIL_REPLY
if((0,s.isSponsoredConversation)(e,t))return r.SPONSORED_MESSAGE_REPLY
return r.M2M}
const{MESSAGE_TYPE:r}=t.default}))
define("msg-ui/utils/events-grouper",["exports","@ember/object/internals","@ember/utils","@ember/object","msg-shared/utils/constants","msg-shared/helpers/is-company-profile","msg-shared/utils/urn-id-helpers","msg-data/utils/seen-receipts-manager","msg-shared/utils/view-data-helpers"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.dateBoundary=u
e.findNewestEventSeenByNone=b
e.groupEvents=function(e,n,i,r){let a,o,c
const d=[]
let g
i&&r&&(g=b(e,i,r))
for(let i=0,r=e.length;i<r;i++){o=e[i]
a=e[i-1]||{}
c=e[i+1]||{}
d.push({id:(0,t.guidFor)(o.content),messageIndex:r-i-1,event:o,dateBoundary:u(a,o),senderGroupMessageCount:m(a,o,c),showMeta:!!(0,s.get)(o,"eventContent.recalledAt")||!(0,l.isSystemMessage)(o)&&p(a,o),isLastInGroup:p(o,c),isSystemMessagePrecededByM2MMessage:h(a,o),isSystemMessageFollowedByM2MMessage:f(o,c),isMessageFollowedByDateBoundary:u(o,c),isM2MMessageFollowedByDateBoundary:v(o,c),isOldestUnreadEvent:i===n,isEventSeenByNone:g?i>=g:null})}return d}
e.isDifferentGroup=p
e.isDifferentSender=d
e.isM2MMessage=g
e.isM2MMessageImmediatelyFollowedByDateBoundary=v
e.isSystemMessageImmediatelyFollowedByM2MMessage=f
e.isSystemMessageImmediatelyPrecededByM2MMessage=h
e.senderGroupMessageCountHeader=m
const{MESSAGE_TYPE:c}=i.default
function d(e,t){if((0,l.isSystemMessage)(t)||(0,l.isSystemMessage)(e))return!0
const n=(0,s.get)(t,"from")||{}
return(0,r.isCompanyProfile)(n)?(0,s.get)(e,"from.miniCompany.id")!==(0,s.get)(n,"miniCompany.id"):(0,s.get)(e,"from.miniProfile.id")!==(0,s.get)(n,"miniProfile.id")}function m(e,t,s){let i=!1
const r=d(e,t)
if(!(0,l.isSystemMessage)(t)&&r){i=(0,n.isEmpty)(s)||!d(t,s)?2:1}return i}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0
if(!Object.keys(e).length){const e=(0,s.get)(t,"subtype")
if("SPONSORED_MESSAGE"===e||"SPONSORED_MESSAGE_REPLY"===e)return!1}const n=new Date(Number((0,s.get)(e,"createdAt"))).setHours(0,0,0,0),i=new Date(Number((0,s.get)(t,"createdAt"))).setHours(0,0,0,0),r=Number(i)
return n!==r&&{timestamp:r}}function p(e,t){const n=d(e,t),i=(0,s.get)(t,"createdAt")-(0,s.get)(e,"createdAt")>6e4
return n||i}function g(e){return(0,s.get)(e,"subtype")===c.M2M}function h(e,t){return!(!(0,l.isSystemMessage)(t)||!g(e)||u(e,t))}function f(e,t){return!(!(0,l.isSystemMessage)(e)||!g(t)||u(e,t))}function v(e,t){return!(!g(e)||!u(e,t))}function b(e,t,n){for(let i=e.length-1;i>=0;i--){const r=o.default.getMessageSeenReceipts(n,o.default.getParticipantMiniprofiles(t),(0,a.extractNormalizedEventId)((0,s.get)(e[i],"entityUrn")))
if(r&&r.length>0)return i+1}return-1}}))
define.alias("ember-cli-realtime/utils/eventsource-polyfill","msg-ui/utils/eventsource-polyfill")
define("msg-ui/utils/format-participant-change-summary",["exports","@ember/object","@ember/debug","global-utils/utils/html-safe","msg-data/view-models/message-event","msg-shared/helpers/get-member-or-company-name","msg-ui/helpers/extract-participant-names"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.formatParticipantChangeSummary=function(e,n,i,o){const l=(0,t.get)(e,"eventContent"),c=(0,t.get)(l,"addedParticipants").toArray(),d=(0,t.get)(l,"removedParticipants").toArray(),m=(0,t.get)(e,"from.miniProfile.entityUrn")
let u
const p={},g=n===(0,t.get)(e,"from.miniProfile.entityUrn")
g||(p.usersName=(0,r.getMemberOrCompanyName)((0,t.get)(e,"from"),i,"full"))
if(c.length)if(1===c.length)if((0,t.get)(c[0],"miniProfile.entityUrn")===m)u=g?"i18n_you_joined_conversation":"i18n_other_user_joined_conversation_usersname"
else{u=g?"i18n_you_added_single_participant_to_conversation":"i18n_other_user_added_single_participant_to_conversation"
p.addedUserName=(0,a.extractParticipantNames)(c)[0]}else{u=g?"i18n_you_added_multiple_participants_to_conversation":"i18n_other_user_added_multiple_participants_to_conversation"
p.addedUserNames=(0,a.extractParticipantNames)(c)}else if(d.length)if((0,t.get)(d[0],"miniProfile.entityUrn")===m)if(1===d.length){u=g?"i18n_you_left_conversation":"i18n_single_other_user_left_conversation"
p.removedUserName=(0,a.extractParticipantNames)(d)[0]}else{u="i18n_multiple_other_users_left_conversation"
p.removedUserNames=(0,a.extractParticipantNames)(d)}else if((0,t.get)(d[0],"miniProfile.entityUrn")===n)u="i18n_you_were_removed_usersname"
else if(1===d.length){u=g?"i18n_you_removed_single_participant_from_conversation":"i18n_other_user_removed_single_participant_from_conversation_usersname"
p.removedUserName=(0,a.extractParticipantNames)(d)[0]}else{u=g?"i18n_you_removed_multiple_participants_from_conversation":"i18n_other_user_removed_multiple_participants_from_conversation_usersname"
p.removedUserNames=(0,a.extractParticipantNames)(d)}return(0,s.default)(o.lookupTranslation("components/msg-ui@message-snippet",u)([p]))}}))
define.alias("client-sensor-web/utils/helpers","msg-ui/utils/helpers")
define("msg-ui/utils/marketplace-project-card-constants",["exports","@linkedin/ember-pem/utils/degradation-tracking-metadata"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MARKETPLACE_PROJECT_DEGRADATION_METADATA=void 0
const n={MARKETPLACE_PROJECT_MESSAGE_CARD:new t.default("marketplace-project-message-card","failed-marketplace-project-message-card",{productName:"Voyager - Services Marketplace",clientSensorGroupName:"service-marketplace",nonDegradedResponseCodes:[]})}
e.MARKETPLACE_PROJECT_DEGRADATION_METADATA=n}))
define("msg-ui/utils/mentions-helper",["exports","@ember/debug","@ember/object"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){const s=(0,n.get)(t,"participants").reduce(((e,t)=>{e.set((0,n.get)(t,"miniProfile.entityUrn"),!0)
return e}),new Map)
return e.filter((e=>!s.has((0,n.get)(e,"entityUrn"))))}
e.getMembersToInviteByParticipants=function(e,t){const s=t.reduce(((e,t)=>{e.set(t.entity.entityUrn,!0)
return e}),new Map)
return e.filter((e=>!s.has((0,n.get)(e,"entityUrn"))))}}))
define("msg-ui/utils/message-grouper",["exports","@ember/utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.dateBoundary=s
e.findNewestMessageSeenByNone=function(e,t){if(t)for(let n=e.length-1;n>=0;n--){const s=t[e.at(n).entityUrn]
if(s&&s.length>0)return n+1}return-1}
e.isDifferentGroup=function(e,t){if(!e||!t)return!0
const s=n(e,t),i=t.deliveredAt-e.deliveredAt>6e4
return s||i}
e.isDifferentSender=n
e.isM2MMessageImmediatelyFollowedByDateBoundary=function(e,t){if(!t)return!0
if("SYSTEM"!==e.messageBodyRenderFormat&&s(e,t))return!0
return!1}
e.isSystemMessageImmediatelyFollowedByM2MMessage=function(e,t){if("SYSTEM"===e.messageBodyRenderFormat&&(!t||"SYSTEM"!==t.messageBodyRenderFormat&&!s(e,t)))return!0
return!1}
e.isSystemMessageImmediatelyPrecededByM2MMessage=function(e,t){if(!e)return!1
if("SYSTEM"===t.messageBodyRenderFormat&&"SYSTEM"!==e.messageBodyRenderFormat&&!s(e,t))return!0
return!1}
e.senderGroupMessageCountHeader=function(e,s,i){let r=!1
const a=n(e,s)
if("SYSTEM"!==s.messageBodyRenderFormat&&a){const e=(0,t.isEmpty)(i)||!n(s,i)
r=e?2:1}return r}
function n(e,t){return!e||!t||("SYSTEM"===t.messageBodyRenderFormat||"SYSTEM"===e.messageBodyRenderFormat||e.senderUrn!==t.senderUrn)}function s(e,t){const n=new Date(Number(t.deliveredAt)).setHours(0,0,0,0),s=Number(n)
if(!e)return{timestamp:s}
return new Date(Number(e.deliveredAt)).setHours(0,0,0,0)!==s&&{timestamp:s}}}))
define("msg-ui/utils/message-request-helper",["exports","msg-shared/utils/constants","@ember/object"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.extractMessageRequestMetaData=function(e){const t=(0,n.get)(e,"contextText.attributes.firstObject")
let i,r
if((0,n.get)(t,"type")===s.type){i=(0,n.get)(t,"miniGroup.eventContent.customContent.group.groupName")
r=s.icon}return{context:i,contextIcon:r}}
const{MESSAGE_REQUEST_CONTEXT_TYPE:{GROUP_NAME:s}}=t.default}))
define("msg-ui/utils/notification-sounds",["exports","ember","global-utils/utils/is-browser"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.soundPlaybackUtils=e.notificationSounds=void 0
const s="https://media.licdn.com/media/",i=n.default&&window.Audio?{TYPING:new window.Audio(`${s}AAMB_wQiAAgAAQAAAAAAAA0WAAAAJGY1ZGY1NGUxLTY2MzUtNDY0OC1hNGYxLWMwYjRiZDdmMWE4Ng.bin`),SEND:new window.Audio(`${s}AAMB_wQiAAgAAQAAAAAAAAukAAAAJDE2NTM5ZDVkLTU0ZWItNDU0ZS1hMTFlLThlNmM3MjFhMGEyNQ.bin`),RECEIVE:new window.Audio(`${s}AAMBAQQiAAgAAQAAAAAAAAriAAAAJDg2ZWY0MzhjLWQ5YTUtNDgyMy1hZjQ3LWYzM2RlOWRjZmZkYg.bin`)}:{}
e.notificationSounds=i
const r={prevTypingSound:null,playSound(e){e===i.TYPING&&(this.prevTypingSound=e)
t.default.testing||e.play()},stopTypingSound(){t.default.testing||!this.prevTypingSound||this.prevTypingSound.paused||this.prevTypingSound.pause()}}
e.soundPlaybackUtils=r}))
define("msg-ui/utils/realtime-onboarding",["exports","@ember/object","rsvp","global-utils/utils/get-csrf-token"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t,n,s,i){this.legoResolver=e
this.legoTracking=t
this.msgUserSettings=n
this.store=s
this.tracking=i
this._legoWidgetTrackingToken=void 0}run(){this._fetchLegoWidget().then((()=>this.msgUserSettings.getRealtimeSettingExplicitlyChosen())).then((e=>{if(!e){this.tracking.firePageViewEvent("flagship3_messaging_realtime_onboarding")
return this._enableRealtimeSettings()}})).then((()=>this._dismissLegoWidget()))}_fetchLegoWidget(){return this.legoResolver.fireLegoCall({pageKey:"messaging_realtime",slotId:"onboarding",groupId:"onboarding_group",widgetId:"realtime_onboarding"}).then((e=>{if(!e)return(0,n.reject)()
this._legoWidgetTrackingToken=(0,t.get)(e,"trackingToken")
return e}))}_dismissLegoWidget(){this.legoTracking.sendLegoAction(this._legoWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}_enableRealtimeSettings(){return this.store.adapterFor("-ember-m3").ajax("/psettings/seen-receipts","post",{data:{seenReceiptsEnabled:!0,csrfToken:(0,s.default)()},headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{const n=(0,t.get)(e,"result.responseCode")
if(200!==n)throw new Error(`failed to set realtime setting, responseCode: ${n}`)}))}}}))
define("msg-ui/utils/send-typing-indicator",["exports","@ember/debug","global-utils/utils/is-browser"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t,s){if(!e)return
if(!t)return
t.adapterFor("application").ajax("/voyager/api/messaging/conversations?action=typing","post",{data:{conversationId:e}}).catch((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{status:t,message:i}=e
if(!(n.default&&!s.navigator.onLine||0===t||500===t||i&&i.includes("returned a 500")))throw e}))}}))
define("msg-ui/utils/share-contact-info-helper",["exports","urn-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){const{emailUrn:n,number:s,wechatId:i}=e,r={email:(0,t.extractEntityInfoFromUrn)(n).id}
s&&(r.phoneNumber={number:s})
i&&(r.wechatId=i)
return r}}))
define("msg-ui/utils/uuid-generator",["exports","ember-uuid/utils/uuid-generator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}})
Object.defineProperty(e,"unparse",{enumerable:!0,get:function(){return t.unparse}})
Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.v1}})
Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return t.v4}})}))
define.alias("ember-vector-images/utils/vector-url","msg-ui/utils/vector-url")
define("msg-ui/utils/virtual-meeting-constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MEETING_PROVIDERS=void 0
e.MEETING_PROVIDERS={bluejeans:{class:"msg-ui-video-conference-card-presenter__icon-bluejeans",controlName:"virtual_meetings_open_link_bluejeans",name:"BlueJeans",regex:/^(https?:\/\/)?(.*\.)?bluejeans\.com\/(\d+)([\/\?].*)?$/},teams:{class:"msg-ui-video-conference-card-presenter__icon-teams",controlName:"virtual_meetings_open_link_teams",name:"Microsoft Teams",regex:/^(https?:\/\/)?(.*\.)?teams\.microsoft\.com(:\d+)?\/.+meetup-join.*$/},zoom:{class:"msg-ui-video-conference-card-presenter__icon-zoom",controlName:"virtual_meetings_open_link_zoom",name:"Zoom",regex:/^(https?:\/\/)?(.*\.)?zoom\.(com|us)\/.+\/(\d+)([\/\?].*)?$/}}}))
define("msg-ui/viewdata/base-form-viewdata",["exports","msg-data/viewdata","@ember/object","global-helpers/helpers/name","msg-mentions/viewdata/mentions-picker-viewdata","urn-utils","msg-ui/viewdata/forwarded-message-viewdata","msg-shared/utils/get-latest-event-by-conversation-urn","msg-mentions/viewdata/mention-to-invite-toast-viewdata","msg-shared/utils/view-data-helpers"],(function(e,t,n,s,i,r,a,o,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const d=["conversation","conversationMentions","connectionMentionData","forwardedEvent","formatter","i18n","msgDataManager","router"]
class m extends t.default{get requiredProps(){return d}get conversationUrn(){const{conversation:e}=this.props
return e&&(0,n.get)(e,"entityUrn")}get conversationId(){const{conversation:e}=this.props
if(e)return(0,r.extractEntityInfoFromUrn)((0,n.get)(e,"entityUrn")).id}get isGroupChat(){const{conversation:e}=this.props
return!!e&&(0,n.get)(e,"groupChat")}get conversationParticipants(){const{conversation:e}=this.props
if(!e)return[]
return((0,n.get)(e,"participants")||[]).map((e=>{const t=(0,n.get)(e,"miniProfile")
return{profile:t,fullName:this.props.formatter.formatName((0,s.getName)(t),"full"),entity:(0,n.getProperties)(t,"entityUrn","firstName","lastName")}}))}get connectionMentions(){var e
if(null===(e=this.props.connectionMentionData)||void 0===e||!e.typeaheadResults)return[]
const{conversationMentions:t,connectionMentionData:{tokenSelection:i,typeaheadResults:r}}=this.props,a=t.mapBy("mentionedMemberProfile.id")
return r.filter((e=>{const t=(0,n.get)(e,"miniProfile.id")
return-1===a.indexOf(t)})).map(((e,t)=>{const r=(0,n.get)(e,"miniProfile"),a=`@${this.props.formatter.formatName((0,s.getName)(r),"full")}`,o=(0,n.getProperties)(r,"entityUrn","firstName","lastName")
return{mentionedMemberProfile:r,editorAttribute:{index:t,tokenSelection:i,entity:o,entityUrn:o.entityUrn,match:{start:i.start,length:a.length,text:a}}}}))}get mentionsPickerViewData(){return new i.default({conversationParticipantMentions:this.props.conversationMentions,connectionMentions:this.connectionMentions,formatter:this.props.formatter})}get forwardedMessageViewData(){const{forwardedEvent:e}=this.props
if(e)return new a.default({forwardedEvent:e,forwardedContent:void 0,formatter:this.props.formatter,i18n:this.props.i18n,router:this.props.router})}get latestEvent(){const{conversation:e}=this.props
if(!e)return
const t=(0,o.getLatestEventByConversationUrn)((0,n.get)(e,"entityUrn"),this.props.msgDataManager)
return t?(0,n.get)(t,"content"):void 0}get isInMail(){return(0,c.isInMail)(this.latestEvent)}get isInMailConversation(){return(0,c.isInMailOrInMailReply)(this.latestEvent)}get messageReplyType(){return(0,c.getMessageReplyType)(this.latestEvent)}get isReplyDisabled(){const{conversation:e}=this.props
return!!e&&(0,n.get)(e,"withNonConnection")}get isRecruiterInmail(){const{latestEvent:e}=this
return!!e&&(0,n.get)(e,"eventContent.customContent.recruiterInmail")}get inmailProductType(){const{latestEvent:e}=this
if(e)return(0,n.get)(e,"eventContent.customContent.inmailProductType")}get mentionToInviteToastViewData(){const{conversation:e}=this.props
return new l.default({conversation:e})}get isGroupChatWithAddParticipantFeature(){const{conversation:e}=this.props
return!!e&&(this.isGroupChat&&(0,n.get)(this.props,"conversation.featureTypes").includes("ADD_PARTICIPANT"))}}e.default=m}))
define("msg-ui/viewdata/compose-viewdata",["exports","@ember/object","msg-data/viewdata","urn-utils"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends n.default{get requiredProps(){return["messageRecipients","conversation"]}get conversationId(){const{conversation:e}=this.props
return e&&(0,s.extractEntityInfoFromUrn)((0,t.get)(e,"entityUrn")).id}get numOfRecipients(){const{messageRecipients:e}=this.props
return e&&e.length}get recipientUrns(){const{messageRecipients:e}=this.props
return e&&e.mapBy("entityUrn")||[]}}e.default=i}))
define("msg-ui/viewdata/conversation-entity-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/object","tracked-toolbox","presence/viewdata/entity-with-presence-viewdata","msg-facepile-grid/viewdata/facepile-viewdata","msg-data/viewdata"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o
const l=["conversation","latestEvent","authenticatedUserMiniProfile","formatter"]
let c=(o=class extends a.default{get requiredProps(){return l}get hasParticipants(){return!0}get hasPresenceInformation(){const{conversation:e,latestEvent:t}=this.props
return!(0,n.get)(e,"groupChat")&&"MEMBER_TO_MEMBER"===(0,n.get)(t,"subtype")&&!(0,n.get)(e,"withNonConnection")}get entityWithPresenceViewData(){const{props:{conversation:e,formatter:t}}=this
if(!this.hasPresenceInformation)return
const s=(0,n.get)(e,"participants.firstObject.miniProfile")
return new i.default({profile:s,altText:t.formatName(s,"full")})}get facepileViewData(){const{props:{conversation:e,authenticatedUserMiniProfile:t,formatter:s}}=this,i=(0,n.get)(e,"participants").toArray()
i&&(0,n.get)(e,"groupChat")&&(0,n.get)(e,"viewerCurrentParticipant")&&i.push({miniProfile:t,picture:(0,n.get)(t,"picture"),ghostType:"person",fullName:s.formatName(t,"full")})
return new r.default({participants:i,formatter:s,isGroupChat:!!(0,n.get)(e,"groupChat")})}},(0,t.default)(o.prototype,"entityWithPresenceViewData",[s.cached],Object.getOwnPropertyDescriptor(o.prototype,"entityWithPresenceViewData"),o.prototype),(0,t.default)(o.prototype,"facepileViewData",[s.cached],Object.getOwnPropertyDescriptor(o.prototype,"facepileViewData"),o.prototype),o)
e.default=c}))
define("msg-ui/viewdata/conversation-list-item-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/object","urn-utils","tracked-toolbox","global-utils/utils/html-safe","msg-ui/viewdata/conversation-entity-viewdata","msg-shared-modals/viewdata/conversation-header-dropdown-menu-viewdata","global-helpers/helpers/name","msg-shared/helpers/participant-names-with-self","msg-shared/utils/get-latest-event-by-conversation-urn","msg-ui/helpers/is-current-year","msg-shared/helpers/get-member-or-company-name","msg-shared/helpers/get-share-content-type","msg-ui/utils/format-participant-change-summary","msg-shared/utils/get-participant-presence-statuses","msg-shared/utils/custom-tracking","msg-shared/utils/view-data-helpers","msg-data/viewdata"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h,f,v,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y
const _=["conversation","authenticatedUserMiniProfile","msgDataManager","nowTimestamp","formatter","i18n"]
let w=(y=class extends b.default{get requiredProps(){return _}get id(){const{conversation:e}=this.props
return(0,s.extractEntityInfoFromUrn)((0,n.get)(e,"entityUrn")).id}get entityUrn(){return(0,n.get)(this.props.conversation,"entityUrn")}get conversationBackendUrn(){return(0,n.get)(this.props.conversation,"backendUrn")}get isArchived(){return(0,n.get)(this.props.conversation,"archived")}get isStarred(){return(0,n.get)(this.props.conversation,"starred")}get isRead(){return(0,n.get)(this.props.conversation,"read")}get isMute(){return(0,n.get)(this.props.conversation,"muted")}get conversationUnreadCount(){const e=(0,n.get)(this.props.conversation,"unreadCount")
return this.isRead||0!==e?e:1}get title(){const{props:{conversation:e,authenticatedUserMiniProfile:t,i18n:s}}=this
let i,a
if((0,n.get)(e,"groupChat")){const r=(0,n.get)(e,"name")
if(r)return r
a=(0,c.participantNamesWithSelf)(e,t,!0,s)
i="i18n_conversation_familiar_names"}else{a=this._getParticipantNames()
i=this._isConversationWithAdvertiser()?"i18n_conversation_familiar_names":"i18n_conversation_full_names"}return(0,r.default)(s.lookupTranslation("components/msg-ui@conversation-list-item-viewdata-i18n",i)([{names:a}]))}get timestampText(){if(!this.latestEvent)return
const{props:{nowTimestamp:e,formatter:t}}=this,s=(0,n.get)(this.latestEvent,"createdAt")
return s>new Date(e).setHours(0,0,0,0)?t.formatTime(s,"fmt_hm",!0):t.formatDate(s,(0,m.isCurrentYearWithNowTimestamp)(s,e)?"fmt_md_medium":"fmt_mdy_medium",!0)}get messageSnippetIcon(){const{latestEvent:e}=this
if(!e)return null
const t=(0,n.get)(e,"eventContent")
return(0,n.get)(t,"addedParticipants.length")?"connect":(0,n.get)(t,"removedParticipants.length")?"leave":this._shouldRenderAttachmentDetails()?"attachment":this._eventHasLocationShare(t)?"location-marker":null}get messageSnippetPillText(){const{latestEvent:e,props:{conversation:t,i18n:s}}=this
if(!e)return null
let i,a
if("INMAIL"===(0,n.get)(e,"subtype"))i="i18n_inmail_label"
else if(this._isConversationWithAdvertiser()){const s=(0,n.get)(e,"eventContent.customContent.advertiserLabel")||(0,n.get)(t,"sponsoredConversationMetadata.advertiserLabel")
if(s){i="i18n_spinmail_advertiser_label"
a={label:s}}}return i?(0,r.default)(s.lookupTranslation("components/msg-ui@message-snippet",i)([a])):null}get messageSnippetText(){const{latestEvent:e,props:{conversation:t,authenticatedUserMiniProfile:s,formatter:i,i18n:a}}=this
if(!e)return
let o,l
const c=(0,n.get)(e,"eventContent"),d=(0,n.get)(e,"subtype")
if((0,n.get)(c,"recalledAt"))o="i18n_message_deleted"
else{if((0,n.get)(e,"obfuscatedMessageWarning")&&!(0,n.get)(t,"blocked"))return(0,n.get)(e,"obfuscatedMessageWarning.text")
if("SYSTEM"===(0,n.get)(c,"messageBodyRenderFormat"))return(0,n.get)(c,"attributedBody.text")
if("PARTICIPANT_CHANGE"===d)return(0,g.formatParticipantChangeSummary)(e,(0,n.get)(s,"entityUrn"),i,a)
if("SPONSORED_INMAIL"===d)return(0,n.get)(c,"subject")
if("INMAIL"===d)return(0,n.get)(c,"subject")||(0,n.get)(c,"attributedBody.text")
{const t=this._messageContentSummary(e,i)
o=t.i18nTemplate
l=t.i18nArgs}}return o?(0,r.default)(a.lookupTranslation("components/msg-ui@message-snippet",o)([l])):""}get toggleReadButtonTitle(){const{props:{conversation:e,i18n:t}}=this
let s
const i={isRead:this.isRead},a=(0,n.get)(e,"name")
if(a){s="i18n_mark_as_read_unread_thread_name"
i.threadName=a}else{s="i18n_mark_as_read_unread_participants"
i.names=this._getParticipantNames()}return(0,r.default)(t.lookupTranslation("components/msg-ui@conversation-list-item-viewdata-i18n",s)([i]))}get nudgeText(){const e=this.props.msgDataManager.nudgingDataManager.getNudge(this.id)
return e?(0,n.get)(e,"nudgeText.text"):void 0}get controlName(){const{conversation:e}=this.props,t=(0,n.get)(e,"messageRequestState")
return"PENDING"===t?"view_message_request_conversation":"DECLINED"===t?"view_declined_message_request_conversation":"view_message"}get messageRequestContext(){return(0,n.get)(this.props.conversation,"shortContextText")}get participantTrackingUrns(){return(0,f.getParticipantTrackingUrns)((0,n.get)(this.props.conversation,"participants"))}get participantPresenceStatuses(){return(0,h.getParticipantPresenceStatuses)(this.props.conversation)}get isGroupChat(){return(0,n.get)(this.props.conversation,"groupChat")}get isSponsoredInMail(){return"SPONSORED_INMAIL"===(0,n.get)(this.latestEvent,"subtype")}get participantNames(){return this._getParticipantNames()}get conversationEntityViewData(){const{props:{conversation:e,authenticatedUserMiniProfile:t,formatter:n},latestEvent:s}=this
if(s)return new a.default({conversation:e,latestEvent:s,authenticatedUserMiniProfile:t,formatter:n})}get conversationHeaderDropdownMenuViewData(){const{conversation:e,msgDataManager:t,authenticatedUserProfile:n,i18n:s,formatter:i,router:r}=this.props
return new o.default({conversation:e,authenticatedUserProfile:n,msgDataManager:t,i18n:s,formatter:i,router:r})}get latestEvent(){const{conversation:e,msgDataManager:t}=this.props,s=(0,d.getLatestEventByConversationUrn)((0,n.get)(e,"entityUrn"),t)
return s?(0,n.get)(s,"content"):void 0}get latestEventIsFromCurrentUser(){const{props:{authenticatedUserMiniProfile:e},latestEvent:t}=this
return!!t&&(0,n.get)(e,"entityUrn")===(0,n.get)(t,"from.miniProfile.entityUrn")}_messageContentSummary(e,t){let s
const i={},r=(0,n.get)(e,"eventContent")
this.latestEventIsFromCurrentUser||(i.senderName=(0,u.getMemberOrCompanyName)((0,n.get)(e,"from"),t,"familiar"))
if((0,n.get)(r,"customContent.forwardedContentType"))s=this.latestEventIsFromCurrentUser?"i18n_you_forwarded":"i18n_other_user_forwarded_preformatted_name"
else if(this._shouldRenderAttachmentDetails()){s=this.latestEventIsFromCurrentUser?"i18n_you_sent_x_attachments":"i18n_sender_sent_x_attachments_v2"
i.count=(0,n.get)(r,"attachments.length")}else if((0,n.get)(r,"customContent.media"))s=this.latestEventIsFromCurrentUser?"i18n_you_sent_gif":"i18n_sender_sent_gif_preformatted_name"
else if((0,n.get)(r,"mediaAttachments.length")){const e=(0,n.get)(r,"mediaAttachments.firstObject.mediaType")
s="AUDIO"===e?this.latestEventIsFromCurrentUser?"i18n_you_sent_voice_message":"i18n_sender_sent_voice_message_preformatted_name":"VIDEO"===e?this.latestEventIsFromCurrentUser?"i18n_you_sent_video":"i18n_sender_sent_video_preformatted_name":this.latestEventIsFromCurrentUser?"i18n_you_sent_x_attachments":"i18n_sender_sent_x_attachments_v2"}else if(this._eventHasLocationShare(r))s=this.latestEventIsFromCurrentUser?"i18n_you_sent_location":"i18n_sender_sent_location_preformatted_name"
else if((0,n.get)(r,"storyItemUrn")&&!(0,n.get)(r,"replyToContent"))s=this.latestEventIsFromCurrentUser?"i18n_you_sent_story":"i18n_sent_you_story_preformatted_name"
else if((0,n.get)(r,"attributedBody.text")){i.body=(0,n.get)(r,"attributedBody.text")
s=this.latestEventIsFromCurrentUser?"i18n_you_said_message":"i18n_sender_said_message_v2"}else if((0,n.get)(r,"sticker"))s=this.latestEventIsFromCurrentUser?"i18n_you_sent_sticker":"i18n_sender_sent_sticker_v2"
else if((0,p.getShareContentType)((0,n.get)(r,"feedUpdate"))){i.shareContentType=(0,p.getShareContentType)((0,n.get)(r,"feedUpdate"))
s=this.latestEventIsFromCurrentUser?"i18n_you_sent_share_content_v3":"i18n_sender_share_content_v3"}else(0,n.get)(r,"digitalMediaConferenceUrn")&&(s=this.latestEventIsFromCurrentUser?"i18n_you_sent_virtual_meeting":"i18n_sent_you_a_virtual_meeting_preformatted_name")
return{i18nTemplate:s,i18nArgs:i}}_eventHasLocationShare(e){var t
return null===(t=(0,n.get)(e,"attributedBody.text"))||void 0===t?void 0:t.startsWith("https://www.bing.com/maps?cp=")}_isConversationWithAdvertiser(){if(!this.latestEvent)return!1
return["SPONSORED_INMAIL","SPONSORED_MESSAGE","SPONSORED_MESSAGE_REPLY"].includes((0,n.get)(this.latestEvent,"subtype"))}_getParticipantNames(){const{conversation:e}=this.props
return((0,n.get)(e,"participants")||[]).map((e=>this._isConversationWithAdvertiser()&&(0,n.get)(e,"alternateName")?{firstName:(0,n.get)(e,"alternateName"),lastName:""}:(0,l.getName)((0,n.get)(e,"miniProfile"))))}_shouldRenderAttachmentDetails(){return(0,n.get)(this.latestEvent,"eventContent.attachments.length")&&!(0,v.isSponsoredMailOrReply)(this.latestEvent)}},(0,t.default)(y.prototype,"conversationEntityViewData",[i.cached],Object.getOwnPropertyDescriptor(y.prototype,"conversationEntityViewData"),y.prototype),(0,t.default)(y.prototype,"conversationHeaderDropdownMenuViewData",[i.cached],Object.getOwnPropertyDescriptor(y.prototype,"conversationHeaderDropdownMenuViewData"),y.prototype),y)
e.default=w}))
define("msg-ui/viewdata/conversation-preview-viewdata",["exports","@ember/object","global-helpers/helpers/name","msg-data/viewdata","presence/viewdata/entity-with-presence-viewdata","urn-utils"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class a extends s.default{get requiredProps(){return["conversationPreview","formatter","router"]}get viewerInConversation(){return(0,t.get)(this.props.conversationPreview,"viewerInConversation")}get conversationId(){if(this.viewerInConversation)return(0,r.extractEntityInfoFromUrn)((0,t.get)(this.props.conversationPreview,"conversationUrn")).id}get title(){return(0,t.get)(this.props.conversationPreview,"conversationTitle.text")}get subtitle(){return(0,t.get)(this.props.conversationPreview,"conversationSubtitle.text")}get participants(){return((0,t.get)(this.props.conversationPreview,"participants")||[]).map((e=>{const s=(0,t.get)(e,"messagingMember.miniProfile"),r=new i.default({profile:s,altText:this.props.formatter.formatName(s,"full")}),a=(0,t.get)(s,"publicIdentifier")
return{participantProfileUrl:a?this.props.router.urlFor("profile.common.profile",{vanityName:a}):void 0,entityWithPresenceViewData:r,occupation:(0,t.get)(s,"occupation"),name:(0,n.getName)(s),distance:(0,t.get)(e,"distance.value")}}))}get conversationJoinable(){return(0,t.get)(this.props.conversationPreview,"conversationJoinable")}get voyagerApiNotJoinableReason(){return(0,t.get)(this.props.conversationPreview,"conversationNotJoinableReason.text")}}e.default=a}))
define("msg-ui/viewdata/edit-message-footer-viewdata",["exports","@ember/object","msg-data/viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends n.default{get requiredProps(){return["messageEventToEdit","conversationEntityUrn"]}get eventCreatedAt(){return(0,t.get)(this.props.messageEventToEdit,"createdAt")}get conversationUrn(){return this.props.conversationEntityUrn}get eventUrn(){return(0,t.get)(this.props.messageEventToEdit,"entityUrn")}}e.default=s}))
define("msg-ui/viewdata/feed-update-viewdata",["exports","@ember/object","msg-ui/viewdata/message-hover-actions-viewdata","msg-data/viewdata"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=["event","formatter","router"]
class r extends s.default{get requiredProps(){return i}get eventCreatedAt(){return(0,t.get)(this.props.event,"createdAt")}get messageHoverActionsViewData(){return new n.default({event:this.props.event,formatter:this.props.formatter,router:this.props.router})}}e.default=r}))
define("msg-ui/viewdata/file-attachment-viewdata",["exports","msg-ui/viewdata/message-hover-actions-viewdata","global-utils/utils/file-size-formatter","msg-shared/utils/file-meta","@ember/object","msg-data/viewdata"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=["event","attachment","formatter","i18n","router"]
class o extends r.default{get requiredProps(){return a}get downloadUrl(){return(0,i.get)(this.props.attachment,"reference")}get isImage(){return(0,s.isSupportedImageFile)((0,i.get)(this.props.attachment,"mediaType"),(0,i.get)(this.props.attachment,"name"))}get filename(){return jSecure.htmlUnencode((0,i.get)(this.props.attachment,"name"))}get mediaTypeExtension(){return(0,s.mediaTypeExtension)((0,i.get)(this.props.attachment,"mediaType"))}get formattedSize(){return(0,n.default)((0,i.get)(this.props.attachment,"byteSize"),this.props.i18n)}get messageHoverActionsViewData(){return new t.default({event:this.props.event,formatter:this.props.formatter,router:this.props.router})}get attachmentAPIModel(){return this.props.attachment}}e.default=o}))
define("msg-ui/viewdata/forwarded-message-viewdata",["exports","@ember/object","msg-shared/helpers/get-member-or-company-name","msg-ui/viewdata/message-sender-entity-viewdata","global-utils/utils/html-safe","msg-data/viewdata"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a=["forwardedEvent","forwardedContent","i18n","formatter","router"]
class o extends r.default{get requiredProps(){return a}get senderName(){const{props:{forwardedEvent:e,forwardedContent:s,formatter:i}}=this
let r
r=e?(0,t.get)(e,"from"):(0,t.get)(s,"originalFrom")
return(0,n.getMemberOrCompanyName)(r,i,"full")}get participantProfileUrl(){const{props:{forwardedEvent:e,forwardedContent:n}}=this
return e?this.props.router.urlFor("profile.common.profile",{vanityName:(0,t.get)(e,"from.miniProfile.publicIdentifier")}):this.props.router.urlFor("profile.common.profile",{vanityName:(0,t.get)(n,"originalFrom.miniProfile.publicIdentifier")})}get timestampText(){const{props:{forwardedEvent:e,forwardedContent:n,formatter:s,i18n:r}}=this
let a
a=e?(0,t.get)(e,"createdAt"):(0,t.get)(n,"originalCreatedAt")
const o=s.formatDate(a,"fmt_md_medium",!0),l=s.formatTime(a,"fmt_hm",!0)
return(0,i.default)(r.lookupTranslation("components/msg-ui@forwarded-message-presenter","i18n_original_sent_date")([{dayMonth:o,hourMinute:l}]))}get messageBodyText(){const{props:{forwardedEvent:e,forwardedContent:n}}=this
return e?(0,t.get)(e,"eventContent.attributedBody.text"):(0,t.get)(n,"forwardedBody.text")}get messageSenderEntityViewData(){const{props:{forwardedEvent:e,forwardedContent:n,formatter:i}}=this
let r
r=e?(0,t.get)(e,"from"):(0,t.get)(n,"originalFrom")
return new s.default({messageSender:r,formatter:i,router:this.props.router})}}e.default=o}))
define("msg-ui/viewdata/inline-warning-viewdata",["exports","@ember/object","msg-data/viewdata","msg-shared-modals/viewdata/conversation-semaphore-viewdata","urn-utils"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=["message","conversation"]
class a extends n.default{get requiredProps(){return r}get conversationId(){return(0,i.extractEntityInfoFromUrn)((0,t.get)(this.props.conversation,"entityUrn")).id}get conversationUrn(){return(0,t.get)(this.props.conversation,"entityUrn")}get messageUrn(){return(0,t.get)(this.props.message,"entityUrn")}get warningText(){return(0,t.get)(this.props.message,"inlineWarning.text")}get reportSpamCTAText(){return(0,t.get)(this.props.message,"reportSpamCTAText")}get inlineWarningDismissCTAText(){return(0,t.get)(this.props.message,"inlineWarningDismissCTAText")}get messageBackendUrn(){return(0,t.get)(this.props.message,"backendUrn")}get messageSenderProfileUrn(){return(0,t.get)(this.props.message,"from.miniProfile.entityUrn")}get conversationSemaphoreViewData(){return new s.default({conversation:this.props.conversation})}}e.default=a}))
define("msg-ui/viewdata/inmail-compose-form-viewdata",["exports","@ember/object","global-helpers/helpers/name","msg-data/viewdata","global-utils/utils/urn-converter","presence/viewdata/entity-with-presence-viewdata"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class a extends s.default{get requiredProps(){return["composeViewContext","recipients","msgDataManager","formatName","getIdentityRecord","router"]}get composeViewContext(){return this.props.composeViewContext}get footerIcon(){return this.composeViewContext&&(0,t.get)(this.composeViewContext,"footerIcon")}get footerText(){return this.composeViewContext&&(0,t.get)(this.composeViewContext,"footerText")}get recipientProfile(){return(0,t.get)(this.props.recipients,"firstObject")}get recipientParticipantProfileUrl(){const e=(0,t.get)(this.recipientProfile,"publicIdentifier")
if(e)return this.props.router.urlFor("profile.common.profile",{vanityName:e})}get recipientEntityUrn(){return(0,t.get)(this.recipientProfile,"entityUrn")}get recipientName(){const e=(0,n.getName)(this.recipientProfile)
return e&&this.methods.formatName(e,"full")}get recipientOccupation(){return(0,t.get)(this.recipientProfile,"occupation")}get entityWithPresenceViewData(){return new r.default({profile:this.recipientProfile,altText:this.recipientName})}get fetchIsOpenLink(){const e=(0,i.fromUrn)(this.recipientEntityUrn).id
return this.methods.getIdentityRecord("com.linkedin.voyager.identity.profile.MemberBadges",e,{reload:!0}).then((e=>e&&(0,t.get)(e,"openLink")))}get fetchInmailCredits(){return this.props.msgDataManager.fetchInmailCredits().then((e=>(0,t.get)(e,"inMail")))}}e.default=a}))
define("msg-ui/viewdata/inmail-quick-action-footer-viewdata",["exports","@ember/object","msg-shared/utils/constants","msg-data/viewdata"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const{INMAIL_TYPES:i}=n.default
class r extends s.default{get requiredProps(){return["latestMessage"]}get inmailType(){const{latestMessage:e}=this.props,n=e&&(0,t.get)(e,"subtype"),s=e&&(0,t.get)(e,"eventContent.customContent.inmailProductType")
return"INMAIL"===n&&s===i.RECRUITER?"lts":"INMAIL"===n&&s===i.SALES?"lss":"premium"}}e.default=r}))
define("msg-ui/viewdata/message-hover-actions-viewdata",["exports","@ember/object","global-helpers/helpers/name","msg-data/viewdata"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=["event","formatter","router"]
class r extends s.default{get requiredProps(){return i}get messageUrn(){return(0,t.get)(this.props.event,"entityUrn")}get senderFamiliarName(){const e=(0,t.get)(this.props.event,"from.miniProfile")
return e&&this.props.formatter.formatName((0,n.getName)(e),"familiar")}get senderFullName(){const e=(0,t.get)(this.props.event,"from.miniProfile")
return e&&this.props.formatter.formatName((0,n.getName)(e),"full")}get messageTextBody(){return(0,t.get)(this.props.event,"eventContent.attributedBody")}get senderParticipantProfileUrl(){const e=(0,t.get)(this.props.event,"from.miniProfile.publicIdentifier")
return e?this.props.router.urlFor("profile.common.profile",{vanityName:e}):void 0}get messageSubject(){return(0,t.get)(this.props.event,"eventContent.subject")}get messageSubtype(){return(0,t.get)(this.props.event,"subtype")}get messageAPIModel(){return this.props.event}}e.default=r}))
define("msg-ui/viewdata/message-list-item-system-message-viewdata",["exports","@ember/object","msg-data/viewdata","msg-ui/utils/format-participant-change-summary"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=["message","authenticatedUserMiniProfile","formatter","i18n"]
class r extends n.default{get requiredProps(){return i}get messageTextBody(){return(0,t.get)(this.props.message,"eventContent.attributedBody")}get hasSystemMessageBodyRenderFormat(){return"SYSTEM"===(0,t.get)(this.props.message,"eventContent.messageBodyRenderFormat")}get isParticipantChangeSystemMessage(){return"PARTICIPANT_CHANGE"===(0,t.get)(this.props.message,"subtype")}get participantChangeSummary(){return(0,s.formatParticipantChangeSummary)(this.props.message,(0,t.get)(this.props.authenticatedUserMiniProfile,"entityUrn"),this.props.formatter,this.props.i18n)}}e.default=r}))
define("msg-ui/viewdata/message-list-item-user-message-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/object","global-helpers/helpers/name","urn-utils","tracked-toolbox","global-utils/utils/url","msg-data/viewdata","msg-ui/viewdata/feed-update-viewdata","msg-ui/viewdata/file-attachment-viewdata","msg-ui/viewdata/forwarded-message-viewdata","msg-ui/viewdata/message-hover-actions-viewdata","msg-ui/viewdata/reaction-summary-viewdata","msg-shared/helpers/is-sponsored-conversation","msg-ui/viewdata/story-viewdata","msg-shared/utils/constants","msg-ui/viewdata/inline-warning-viewdata","global-helpers/utils/get-attributed-text-html"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h,f,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b
const{REFERRALS:{PENDING:y},JOB_STATE:{LISTED:_}}=h.default
let w=(b=class extends o.default{get requiredProps(){return["message","msgDataManager","conversation","authenticatedUserMiniProfile","formatter","i18n","router"]}get messageUrn(){return(0,n.get)(this.props.message,"entityUrn")}get conversationUrn(){return(0,n.get)(this.props.conversation,"entityUrn")}get conversationId(){return(0,i.extractEntityInfoFromUrn)((0,n.get)(this.props.conversation,"entityUrn")).id}get isConversationBlocked(){return(0,n.get)(this.props.conversation,"blocked")}get senderName(){return(0,s.getName)((0,n.get)(this.props.message,"from.miniProfile"))}get senderFamiliarName(){return this.props.formatter.formatName(this.senderName,"familiar")}get senderFullName(){return this.props.formatter.formatName(this.senderName,"full")}get isSentByCurrentUser(){const{props:{message:e,authenticatedUserMiniProfile:t}}=this
return(0,n.get)(t,"entityUrn")===(0,n.get)(e,"from.miniProfile.entityUrn")}get hasBeenEdited(){return!!(0,n.get)(this.props.message,"eventContent.lastEditedAt")}get messageAttributedBody(){return(0,n.get)(this.props.message,"eventContent.attributedBody")}get urlToUnroll(){var e
const t=this.messageAttributedBody&&(0,n.get)(this.messageAttributedBody,"text"),s=(0,a.getUrlsFromText)(t,!0).filter((e=>e.toLowerCase()))
return"INMAIL"!==this.messageSubType&&!(null!==(e=this.fileAttachmentViewDataItems)&&void 0!==e&&e.length)&&!this.hasArticleOrUpdate&&!this.smpContent&&t&&1===s.length&&!a.CONTAINS_GROUPCHATLINK_REGEX.test(s[0])&&s[0]}get locationSharePreview(){var e
const t=this.messageAttributedBody&&(0,n.get)(this.messageAttributedBody,"text")
if(this.urlToUnroll!==t||null===(e=this.urlToUnroll)||void 0===e||!e.startsWith("https://www.bing.com/maps?cp="))return!1
const s=(0,a.parseQueryString)(this.urlToUnroll)
if(!s.cp||!s.q)return!1
const i=s.cp.split("~")
if(2!==i.length)return!1
return{imageUrl:jSecure.sanitizeUrl(`https://dev.virtualearth.net/REST/v1/Imagery/Map/CanvasLight?key=AjWfR7LMpDYZJOLH-RZEhFo2MmRUXEVeFQpb8Osj8kIp0-PLHN8l3ceo7aWzblYg&mapSize=500,500&dpi=Large&pp=${i.join(",")};60`),title:s.q}}get messageCreatedAt(){return(0,n.get)(this.props.message,"createdAt")}get isError(){return(0,n.get)(this.props.message,"isError")}get messageSubType(){return(0,n.get)(this.props.message,"subtype")}get subject(){return(0,n.get)(this.props.message,"eventContent.subject")}get gif(){return(0,n.get)(this.props.message,"eventContent.customContent.media.gif")}get digitalMediaConferenceUrn(){return(0,n.get)(this.props.message,"eventContent.digitalMediaConferenceUrn")}get virtualMeetingTimeRange(){return(0,n.get)(this.props.message,"eventContent.virtualMeetingTimeRange")}get isRecalled(){return void 0!==(0,n.get)(this.props.message,"eventContent.recalledAt")}get hasForwardedContent(){return void 0!==(0,n.get)(this.props.message,"eventContent.customContent.forwardedContentType")}get stickerImage(){return(0,n.get)(this.props.message,"eventContent.sticker.image")}get footerTextViewModel(){return(0,n.get)(this.props.message,"eventContent.footerText")}get smpContent(){return(0,n.get)(this.props.message,"eventContent.smpContent")}get hasArticleOrUpdate(){return/article|activity|contentTopic|lyndaCourse/.test((0,n.get)(this.props.message,"eventContent.feedUpdate.updateMetadata.urn"))}get feedUpdate(){return(0,n.get)(this.props.message,"eventContent.feedUpdate")}get groupName(){return(0,n.get)(this.props.message,"eventContent.customContent.group.groupName")}get jobPostingReferral(){return(0,n.get)(this.props.message,"eventContent.customContent.jobPostingReferral")}get allowMessageForward(){const{message:e}=this.props
return"SPONSORED_MESSAGE"!==(0,n.get)(e,"subtype")&&!(0,n.get)(e,"inlineWarning")&&!this.storyItemUrn}get allowReactions(){var e
const{message:t,conversation:s}=this.props
return(null===(e=(0,n.get)(s,"featureTypes"))||void 0===e?void 0:e.includes("REACTIONS"))&&(0,n.get)(s,"viewerCurrentParticipant")&&!(0,n.get)(s,"blocked")&&!(0,n.get)(t,"isNew")&&!(0,n.get)(t,"isError")}get allowMessageEdit(){return this.isSentByCurrentUser&&!(0,n.get)(this.props.message," isNew")&&!(0,p.isSponsoredConversation)(this.props.conversation)}get storyItemUrn(){return(0,n.get)(this.props.message,"eventContent.storyItemUrn")}get replyToContent(){return(0,n.get)(this.props.message,"eventContent.replyToContent")}get isJobSeekerRequestReferral(){return"JOB_SEEKER_REQUEST_REFERRAL"===(0,n.get)(this.props.message,"eventContent.customContent.type")}get referral(){const e=(0,n.get)(this.props.message,"eventContent.customContent")
if(e)return{jobPosting:(0,n.get)(e,"jobPostingReferral.jobPosting"),companyName:(0,n.get)(e,"companyName")||(0,n.get)(e,"company.name"),companyLogo:(0,n.get)(e,"companyLogo"),jobTitle:(0,n.get)(e,"jobTitle"),trackingUrn:(0,n.get)(e,"trackingUrn"),isPendingReferralForListedJob:(0,n.get)(e,"viewerEmployee")&&(0,n.get)(e,"jobPostingReferral.state")===y&&(0,n.get)(e,"jobState")===_,isHiringPlatformSupported:(0,n.get)(e,"jobPostingReferral")&&(0,n.get)(e,"jobPostingReferral.supportedDeliveryDestinationTypes").includes("HIRING_PLATFORM")}}get mediaAttachments(){if((0,n.get)(this.props.message,"eventContent.mediaAttachments"))return(0,n.get)(this.props.message,"eventContent.mediaAttachments").map((e=>({mediaType:(0,n.get)(e,"mediaType"),audioDuration:(0,n.get)(e,"audioMetadata.duration"),audioUrl:(0,n.get)(e,"audioMetadata.url"),videoPlayMetadata:(0,n.get)(e,"videoPlayMetadata")})))}get sponsoredData(){return{metadata:(0,n.get)(this.props.conversation,"sponsoredConversationMetadata"),sponsoredMessageContentUrn:(0,n.get)(this.props.message,"eventContent.customContent.sponsoredMessageContentUrn"),sponsoredMessageTrackingId:(0,n.get)(this.props.message,"eventContent.customContent.sponsoredMessageTrackingId")}}get obfuscatedMessage(){return{warning:(0,v.default)((0,n.get)(this.props.message,"obfuscatedMessageWarning")),ctaText:(0,n.get)(this.props.message,"viewObfuscatedMessageCTAText")}}get hasInlineWarning(){return!!(0,n.get)(this.props.message,"inlineWarning")}get messageStatus(){return this.props.msgDataManager.getEventIndicatorByUrn(this.messageUrn)}get messageHoverActionsViewData(){return new m.default({event:this.props.message,formatter:this.props.formatter,router:this.props.router})}get fileAttachmentViewDataItems(){var e
return(null===(e=(0,n.get)(this.props.message,"eventContent.attachments"))||void 0===e?void 0:e.map((e=>new c.default({attachment:e,event:this.props.message,formatter:this.props.formatter,i18n:this.props.i18n,router:this.props.router}))))||[]}get forwardedMessageViewData(){return new d.default({forwardedEvent:void 0,forwardedContent:(0,n.get)(this.props.message,"eventContent.customContent"),formatter:this.props.formatter,i18n:this.props.i18n,router:this.props.router})}get feedUpdateViewData(){return new l.default({event:this.props.message,formatter:this.props.formatter,router:this.props.router})}get storyViewData(){return new g.default({event:this.props.message,formatter:this.props.formatter,router:this.props.router})}get reactionSummaryViewData(){return new u.default({event:this.props.message})}get inlineWarningViewData(){return new f.default({message:this.props.message,conversation:this.props.conversation})}},(0,t.default)(b.prototype,"messageHoverActionsViewData",[r.cached],Object.getOwnPropertyDescriptor(b.prototype,"messageHoverActionsViewData"),b.prototype),(0,t.default)(b.prototype,"fileAttachmentViewDataItems",[r.cached],Object.getOwnPropertyDescriptor(b.prototype,"fileAttachmentViewDataItems"),b.prototype),(0,t.default)(b.prototype,"forwardedMessageViewData",[r.cached],Object.getOwnPropertyDescriptor(b.prototype,"forwardedMessageViewData"),b.prototype),(0,t.default)(b.prototype,"feedUpdateViewData",[r.cached],Object.getOwnPropertyDescriptor(b.prototype,"feedUpdateViewData"),b.prototype),(0,t.default)(b.prototype,"storyViewData",[r.cached],Object.getOwnPropertyDescriptor(b.prototype,"storyViewData"),b.prototype),(0,t.default)(b.prototype,"reactionSummaryViewData",[r.cached],Object.getOwnPropertyDescriptor(b.prototype,"reactionSummaryViewData"),b.prototype),(0,t.default)(b.prototype,"inlineWarningViewData",[r.cached],Object.getOwnPropertyDescriptor(b.prototype,"inlineWarningViewData"),b.prototype),b)
e.default=w}))
define("msg-ui/viewdata/message-list-item-viewdata",["exports","@ember/object","global-helpers/helpers/name","msg-data/viewdata","msg-data/utils/seen-receipts-manager","msg-shared/helpers/is-current-user","msg-shared/utils/urn-id-helpers","msg-ui/viewdata/message-list-item-system-message-viewdata","msg-ui/viewdata/message-list-item-user-message-viewdata","msg-ui/viewdata/message-sender-advertiser-entity-viewdata","msg-ui/viewdata/message-sender-entity-viewdata","msg-ui/utils/events-grouper","msg-shared/utils/view-data-helpers","msg-spinmail-data/viewdata/sponsored-message-actions-viewdata"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const g=["message","conversation","conversationSeenReceipts","msgDataManager","authenticatedUser","formatter","i18n","router","previousMessage","nextMessage"]
class h extends s.default{get requiredProps(){return g}get messageUrn(){return(0,t.get)(this.props.message,"entityUrn")}get messageBackendUrn(){return(0,t.get)(this.props.message,"backendUrn")}get messageCreatedAt(){return(0,t.get)(this.props.message,"createdAt")}get senderUrn(){return(0,t.get)(this.props.message,"from.miniProfile.entityUrn")}get senderName(){return(0,n.getName)((0,t.get)(this.props.message,"from.miniProfile"))}get senderPronouns(){return(0,t.get)(this.props.message,"from.miniProfile")}get senderFullName(){if(this.senderName)return(0,t.get)(this.props.message,"from.alternateName")||this.props.formatter.formatName(this.senderName,"full")}get senderProfileUrl(){const e=(0,t.get)(this.props.message,"from.miniProfile.publicIdentifier")
if(e)return this.props.router.urlFor("profile.common.profile",{vanityName:e})}get companySenderUrn(){return(0,t.get)(this.props.message,"from.miniCompany.entityUrn")}get companySenderName(){return(0,t.get)(this.props.message,"from.miniCompany.name")}get footerText(){return(0,t.get)(this.props.message,"eventContent.footerText")}get isSponsoredMessage(){return"SPONSORED_MESSAGE"===(0,t.get)(this.props.message,"subtype")}get isSystemMessage(){return("CONVERSATION_UPDATE"===(0,t.get)(this.props.message,"subtype")||"INVITATION_ACCEPT"===(0,t.get)(this.props.message,"subtype")||"PARTICIPANT_CHANGE"===(0,t.get)(this.props.message,"subtype")||"SYSTEM"===(0,t.get)(this.props.message,"eventContent.messageBodyRenderFormat"))&&!(0,t.get)(this.props.message,"eventContent.recalledAt")}get isRecalledMessage(){return(0,t.get)(this.props.message,"eventContent.recalledAt")}get isMessageFromOtherUser(){return!(0,r.isCurrentUser)(this.props.authenticatedUser,(0,t.get)(this.props.message,"from"))}get isInMailFromOtherUser(){return"INMAIL"===(0,t.get)(this.props.message,"subtype")&&this.isMessageFromOtherUser}get isGifMessage(){return"TENOR_GIF"===(0,t.get)(this.props.message,"eventContent.customContent.mediaType")}get tenorGifId(){return(0,t.get)(this.props.message,"eventContent.customContent.id")}get customContent(){return(0,t.get)(this.props.message,"eventContent.customContent")}get conversationUrn(){const{conversation:e}=this.props
return e&&(0,t.get)(e,"entityUrn")}get conversationBackendUrn(){return(0,t.get)(this.props.conversation,"backendUrn")}get messageSeenReceipts(){if(!this.messageUrn)return[]
const{conversation:e,conversationSeenReceipts:t}=this.props,n=(0,a.extractNormalizedEventId)(this.messageUrn),s=i.default.getParticipantMiniprofiles(e)
return i.default.getMessageSeenReceipts(t,s,n)}get participantUrns(){var e
const n=null===(e=(0,t.get)(this.props.conversation,"participants"))||void 0===e?void 0:e.filter((e=>(0,t.get)(e,"miniProfile.objectUrn"))).mapBy("miniProfile.objectUrn")
return null!=n&&n.length?n:null}get isError(){return this.props.msgDataManager.eventSideCar.get(this.props.message).isError}get showMessageSendFailedError(){return this.isError&&(0,t.get)(this.props.message,"eventContent.attributedBody.text")}get isBeingCreatedOrDestroyed(){return(0,t.get)(this.props.message,"isNew")||(0,t.get)(this.props.message,"isDestroying")||(0,t.get)(this.props.message,"isDestroyed")}get showMeta(){const{message:e,previousMessage:n}=this.props
return!!(0,t.get)(e,"eventContent.recalledAt")||!(0,u.isSystemMessage)(e)&&(0,m.isDifferentGroup)(n,e)}get dateBoundary(){return(0,m.dateBoundary)(this.props.previousMessage,this.props.message)}get isLastInGroup(){return(0,m.isDifferentGroup)(this.props.message,this.props.nextMessage)}get isM2MMessageFollowedByDateBoundary(){return(0,m.isM2MMessageImmediatelyFollowedByDateBoundary)(this.props.message,this.props.nextMessage)}get isSystemMessagePrecededByM2MMessage(){return(0,m.isSystemMessageImmediatelyPrecededByM2MMessage)(this.props.previousMessage,this.props.message)}get isSystemMessageFollowedByM2MMessage(){return(0,m.isSystemMessageImmediatelyFollowedByM2MMessage)(this.props.message,this.props.nextMessage)}get senderGroupMessageCount(){return(0,m.senderGroupMessageCountHeader)(this.props.previousMessage,this.props.message,this.props.nextMessage)}get messageListItemSystemMessageViewData(){const{message:e,formatter:t,i18n:n,authenticatedUser:s}=this.props
return new o.default({message:e,formatter:t,i18n:n,authenticatedUserMiniProfile:s.miniProfile.content})}get messageListItemUserMessageViewData(){const{message:e,conversation:t,msgDataManager:n,formatter:s,i18n:i,authenticatedUser:r}=this.props
return new l.default({message:e,conversation:t,msgDataManager:n,formatter:s,i18n:i,authenticatedUserMiniProfile:r.miniProfile.content,router:this.props.router})}get messageSenderAdvertiserEntityViewData(){const{message:e}=this.props
return new c.default({messageSender:(0,t.get)(e,"from"),formatter:this.props.formatter})}get messageSenderEntityViewData(){const{message:e,formatter:n}=this.props
return new d.default({messageSender:(0,t.get)(e,"from"),formatter:n,router:this.props.router})}get sponsoredMessageActionsViewData(){return new p.default({conversation:this.props.conversation,customContent:this.customContent})}}e.default=h}))
define("msg-ui/viewdata/message-list-viewdata",["exports","@ember/object","msg-data/viewdata","global-helpers/helpers/name","global-utils/utils/profile-id-parser","msg-shared/utils/view-data-helpers","msg-shared/utils/urn-id-helpers","msg-data/utils/seen-receipts-manager","msg-ui/viewdata/quick-replies-viewdata","msg-conversation-ui/viewdata/recipient-detail-group-viewdata","msg-conversation-ui/viewdata/recipient-detail-one-to-one-viewdata","msg-conversation-ui/viewdata/typing-indicators-viewdata","msg-ui/utils/events-grouper"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class p extends n.default{get requiredProps(){return["conversation","messages","msgDataManager","authenticatedUser","formatter","i18n","identityStore","invitationPlatform","router"]}get conversationBackendUrn(){return(0,t.get)(this.props,"conversation.backendUrn")}get conversationSeenReceipts(){const{conversation:e,msgDataManager:n}=this.props
return n.seenReceiptsManager.getSeenReceipts((0,t.get)(e,"entityUrn"))}get participantMiniprofiles(){return o.default.getParticipantMiniprofiles(this.props.conversation)}get isSponsoredConversation(){const{conversation:e,msgDataManager:t}=this.props,n=(0,r.getLatestMessage)(e,t)
return(0,r.isSponsoredMailOrReply)(n)}get advertiserLabel(){const{conversation:e,msgDataManager:n}=this.props,s=(0,r.getLatestMessage)(e,n)
return s&&(0,t.get)(s,"eventContent.customContent.advertiserLabel")||(0,t.get)(e,"sponsoredConversationMetadata.advertiserLabel")}get showSeenReceipts(){return"PENDING"!==(0,t.get)(this.props,"conversation.messageRequestState")}get latestMessageHasSeenReceipts(){const{conversation:e,msgDataManager:n}=this.props,s=(0,r.getLatestMessage)(e,n)
if(!s)return!1
const i=(0,a.extractNormalizedEventId)((0,t.get)(s,"entityUrn"))
return o.default.getMessageSeenReceipts(this.conversationSeenReceipts,this.participantMiniprofiles,i).length}get hasTypingParticipants(){return(0,t.get)(this.props,"conversation.typingParticipants.length")>0}get conversationFullyLoaded(){const{conversation:e,msgDataManager:n}=this.props,s=(0,r.getOldestMessage)(e,n)
return s&&(0,t.get)(s,"entityUrn")===(0,t.get)(e,"firstMessageUrn")}get oldestMessageCreatedAt(){const{conversation:e,msgDataManager:n}=this.props,s=(0,r.getOldestMessage)(e,n)
return(0,t.get)(s,"createdAt")}get indexOfLatestMessageSeenByNone(){return(0,u.findNewestEventSeenByNone)(this.props.messages,this.props.conversation,this.conversationSeenReceipts)}get contextText(){return(0,t.get)(this.props.conversation,"contextText")}get quickRepliesViewData(){const{conversation:e,msgDataManager:t}=this.props
return new l.default({conversation:e,msgDataManager:t})}get recipientDetailGroupViewData(){const{authenticatedUser:e,conversation:n,formatter:s,i18n:i,msgDataManager:r,router:a}=this.props
return new c.default({authenticatedUser:e,formatter:s,i18n:i,conversation:n,msgDataManager:r,participants:(0,t.get)(n,"participants"),conversationFeatures:(0,t.get)(n,"featureTypes"),isViewerCurrentParticipant:(0,t.get)(n,"viewerCurrentParticipant"),router:a})}get recipientDetailOneToOneViewData(){const{conversation:e,formatter:n}=this.props,r=(0,t.get)(e,"participants.firstObject.miniProfile"),a=(0,i.getProfileMemberId)(r)
return new d.default({profile:r,profileId:a,participantName:n.formatName((0,s.getName)(r),"full"),router:this.props.router},{getIdentityRecord:(e,t)=>this.props.identityStore.findRecord(e,t,{},!1),isInvitationAccepted:()=>this.props.invitationPlatform.isInvitationAccepted(a)})}get typingIndicatorsViewData(){return new m.default({typingParticipants:(0,t.get)(this.props.conversation,"typingParticipants"),formatter:this.props.formatter})}}e.default=p}))
define("msg-ui/viewdata/message-sender-advertiser-entity-viewdata",["exports","@ember/object","msg-shared/helpers/get-member-or-company-picture","msg-shared/helpers/get-member-or-company-name","msg-shared/helpers/is-company-profile","global-helpers/helpers/urn-to-id","msg-data/viewdata"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o=["messageSender","formatter"]
class l extends a.default{get requiredProps(){return o}get companyId(){return(0,r.urnToId)([(0,t.get)(this.props,"messageSender.miniCompany.entityUrn")])}get profileImage(){return(0,n.getMemberOrCompanyPicture)(this.props.messageSender)}get fullName(){return(0,s.getMemberOrCompanyName)(this.props.messageSender,this.props.formatter,"full")}get ghostType(){return(0,i.isCompanyProfile)(this.props.messageSender)?"company":"person"}}e.default=l}))
define("msg-ui/viewdata/message-sender-entity-viewdata",["exports","@ember/object","msg-shared/helpers/get-member-or-company-picture","msg-shared/helpers/get-member-or-company-name","msg-shared/helpers/is-company-profile","presence/viewdata/entity-with-presence-viewdata","msg-data/viewdata"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o=["messageSender","formatter","router"]
class l extends a.default{get requiredProps(){return o}get profileImage(){return(0,n.getMemberOrCompanyPicture)(this.props.messageSender)}get fullName(){return(0,s.getMemberOrCompanyName)(this.props.messageSender,this.props.formatter,"full")}get familiarName(){return(0,s.getMemberOrCompanyName)(this.props.messageSender,this.props.formatter,"familiar")}get ghostType(){return(0,i.isCompanyProfile)(this.props.messageSender)?"company":"person"}get recipientProfileUrl(){const e=(0,t.get)(this.props.messageSender,"miniProfile.publicIdentifier")
if(e)return this.props.router.urlFor("profile.common.profile",{vanityName:e})}get entityWithPresenceViewData(){const e=(0,t.get)(this.props.messageSender,"miniProfile")
if(e)return new r.default({profile:e,altText:this.fullName})}}e.default=l}))
define("msg-ui/viewdata/quick-replies-viewdata",["exports","@ember/object","msg-data/viewdata","msg-shared/utils/view-data-helpers"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends n.default{get requiredProps(){return["conversation","msgDataManager"]}get replyConversationUrn(){return(0,t.get)(this.props.conversation,"entityUrn")}get eventToReplyTo(){return(0,s.getLatestMessage)(this.props.conversation,this.props.msgDataManager)}get latestMessageUrn(){return(0,t.get)(this.eventToReplyTo,"entityUrn")}get controlNamePrefix(){const{eventToReplyTo:e}=this
if(!e)return""
let n=""
"INMAIL"===(0,t.get)(e,"subtype")&&(n="RECRUITER"===(0,t.get)(e,"eventContent.customContent.inmailProductType")?"lts_":"SALES"===(0,t.get)(e,"eventContent.customContent.inmailProductType")?"lss_":"premium_")
return n}}e.default=i}))
define("msg-ui/viewdata/reaction-summary-viewdata",["exports","@ember/object","msg-data/viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=["event"]
class i extends n.default{get requiredProps(){return s}get messageUrn(){return(0,t.get)(this.props.event,"entityUrn")}get messageUrnForReactors(){return(0,t.get)(this.props.event,"dashEntityUrn")}get reactionSummaryItems(){return(0,t.get)(this.props.event,"reactionSummaries")}}e.default=i}))
define("msg-ui/viewdata/sdk-base-form-viewdata",["exports","msg-data/viewdata","@ember/object","msg-shared/utils/sdk-view-data-helpers","msg-shared/utils/constants","global-helpers/helpers/name","msg-mentions/viewdata/sdk-mentions-picker-viewdata","msg-mentions/viewdata/sdk-mention-to-invite-toast-viewdata","msg-ui/viewdata/sdk-forwarded-message-viewdata","msg-data/utils/urn-id-helpers"],(function(e,t,n,s,i,r,a,o,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const d=["conversation","participants","formatter","conversationMentions","connectionMentionData","forwardedMessage","i18n","presenceAPI"],{MESSAGE_TYPE:m}=i.default
class u extends t.default{get requiredProps(){return d}get conversationUrn(){const{conversation:e}=this.props
return(null==e?void 0:e.entityUrn)??(null==e?void 0:e.clientId)}get conversationId(){var e
const{conversationUrn:t}=this
return t?(0,c.extractMailboxAndConversationId)(t).conversationId:null===(e=this.props.conversation)||void 0===e?void 0:e.clientId}get conversationParticipants(){var e
const{conversation:t,participants:s,formatter:i}=this.props
if(!t)return[]
return((null===(e=t.participants)||void 0===e?void 0:e.map((e=>s[e])))||[]).map((e=>{const t=i.formatName(e,"full"),{hostIdentityUrn:s,firstName:r,lastName:a}=(0,n.getProperties)(e,"hostIdentityUrn","firstName","lastName")
return{profile:e,fullName:t,entity:{entityUrn:s,firstName:r,lastName:a}}}))}get latestEvent(){const{conversation:e}=this.props
return(0,s.getLatestMessage)(e)}get isInMail(){return(0,s.messageHasInMailHostUrnData)(this.latestEvent)}get isInMailConversation(){return(0,s.isInMailConversation)(this.props.conversation)}get messageReplyType(){return this.isInMailConversation?m.INMAIL_REPLY:(0,s.isSponsoredConversation)(this.props.conversation)?m.SPONSORED_MESSAGE_REPLY:m.M2M}get isRecruiterInmail(){return(0,s.messageHasInMailProductType)(this.latestEvent,"RECRUITER_INMAIL")}get inmailProductType(){return this.isRecruiterInmail?"RECRUITER":(0,s.messageHasInMailProductType)(this.latestEvent,"SALES_INMAIL")?"SALES":null}get isGroupChat(){const{conversation:e}=this.props
return!!e&&e.groupChat}get isGroupChatWithAddParticipantFeature(){const{conversation:e}=this.props
return!!e&&(this.isGroupChat&&!e.disabledFeatures.findBy("disabledFeature","ADD_PARTICIPANT"))}get isReplyDisabled(){var e,t
return null===(e=this.props.conversation)||void 0===e||null===(t=e.disabledFeatures)||void 0===t?void 0:t.some((e=>"REPLY"===e.disabledFeature))}get connectionMentions(){var e
if(null===(e=this.props.connectionMentionData)||void 0===e||!e.typeaheadResults)return[]
const{conversationMentions:t,connectionMentionData:{tokenSelection:s,typeaheadResults:i}}=this.props,a=t.mapBy("mentionedMemberProfile.hostIdentityUrn")
return i.filter((e=>{const t=(0,n.get)(e,"miniProfile.id")
return-1===a.indexOf(t)})).map(((e,t)=>{const i=(0,n.get)(e,"miniProfile"),a=`@${this.props.formatter.formatName((0,r.getName)(i),"full")}`,o=(0,n.getProperties)(i,"entityUrn","firstName","lastName")
return{mentionedMemberProfile:i,editorAttribute:{index:t,tokenSelection:s,entity:o,entityUrn:o.entityUrn,match:{start:s.start,length:a.length,text:a}}}}))}get mentionsPickerViewData(){const{conversationMentions:e,formatter:t}=this.props
return new a.default({conversationParticipantMentions:e,connectionMentions:this.connectionMentions,formatter:t})}get mentionToInviteToastViewData(){const{conversation:e,participants:t,presenceAPI:n}=this.props
return new o.default({conversation:e,participants:t,presenceAPI:n})}get forwardedMessageViewData(){const{forwardedMessage:e}=this.props
if(e)return new l.default({forwardedMessage:e,forwardedMessageContent:void 0,formatter:this.props.formatter,i18n:this.props.i18n,sender:this.props.participants[e.senderUrn]})}}e.default=u}))
define("msg-ui/viewdata/sdk-compose-viewdata",["exports","msg-data/utils/urn-id-helpers","msg-data/viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends n.default{get requiredProps(){return["messageRecipients","conversation"]}get conversationId(){const{conversation:e}=this.props
return e&&e.entityUrn?(0,t.extractMailboxAndConversationId)(e.entityUrn).conversationId:null}get numOfRecipients(){const{messageRecipients:e}=this.props
return e&&e.length}get recipientUrns(){const{messageRecipients:e}=this.props
return e&&e.mapBy("dashEntityUrn")||[]}}e.default=s}))
define("msg-ui/viewdata/sdk-conversation-entity-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","tracked-toolbox","msg-data/viewdata","presence/viewdata/sdk-entity-with-presence-viewdata","msg-facepile-grid/viewdata/sdk-facepile-viewdata","msg-shared/utils/sdk-view-data-helpers"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o
const l=["conversation","participants","latestMessage","authenticatedUserMiniProfile","formatter","msgDataManager"]
let c=(o=class extends s.default{get requiredProps(){return l}get hasPresenceInformation(){return(0,a.shouldShowPresenceInformationForConversation)(this.props.conversation,this.props.msgDataManager,this.props.authenticatedUserMiniProfile)}get entityWithPresenceViewData(){if(!this.hasPresenceInformation)return
const[e]=(0,a.getNonSelfParticipants)(this.props.participants,this.props.authenticatedUserMiniProfile)
if(!e)return
const t=e?this.props.formatter.formatName(e,"full"):""
return new i.default({participant:e,altText:t})}get facepileViewData(){if(this.hasPresenceInformation)return
const{conversation:e,formatter:t,authenticatedUserMiniProfile:n}=this.props
let s
s=e.groupChat?this.props.participants:(0,a.isConversationWithAdvertiser)(e)?(0,a.getParticipantsForConversationsWithAdvertisers)(this.props.participants,n):(0,a.getNonSelfParticipants)(this.props.participants,n)
return new r.default({participants:s,isGroupChat:e.groupChat,formatter:t})}get hasParticipants(){return!!this.props.participants.length}},(0,t.default)(o.prototype,"entityWithPresenceViewData",[n.cached],Object.getOwnPropertyDescriptor(o.prototype,"entityWithPresenceViewData"),o.prototype),(0,t.default)(o.prototype,"facepileViewData",[n.cached],Object.getOwnPropertyDescriptor(o.prototype,"facepileViewData"),o.prototype),o)
e.default=c}))
define("msg-ui/viewdata/sdk-conversation-list-item-viewdata",["exports","@ember/object","global-utils/utils/html-safe","msg-ui/helpers/is-current-year","msg-data/utils/urn-id-helpers","msg-data/viewdata","msg-ui/viewdata/sdk-conversation-entity-viewdata","msg-shared-modals/viewdata/sdk-conversation-header-dropdown-menu-viewdata","msg-shared/utils/sdk-view-data-helpers","msg-shared/utils/custom-tracking"],(function(e,t,n,s,i,r,a,o,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const d=["conversation","authenticatedUserMiniProfile","msgDataManager","nowTimestamp","formatter","i18n","presenceAPI"]
class m extends r.default{get requiredProps(){return d}get id(){return(0,i.extractMailboxAndConversationId)(this.props.conversation.entityUrn).conversationId}get entityUrn(){return this.props.conversation.entityUrn}get isArchived(){return this.props.conversation.categories.includes("ARCHIVE")}get isStarred(){return this.props.conversation.categories.includes("STARRED")}get isRead(){return this.props.conversation.read??!0}get isMute(){return"MUTE"===this.props.conversation.notificationStatus}get conversationUnreadCount(){return this.props.conversation.unreadCount}get conversationParticipants(){const{mailboxParticipants:e}=this.props.msgDataManager
return this.props.conversation.participants.map((t=>e[t]))}get title(){const{conversation:e,formatter:t}=this.props
return e.groupChat?e.title?e.title:this._groupChatParticipantsText():(0,l.getParticipantNameByKind)(this._getFirstParticipantProfile(),t,"full")}get timestampText(){if(!this.latestMessage)return null
const{latestMessage:{deliveredAt:e},props:{nowTimestamp:t,formatter:n}}=this
return e.getTime()>new Date(t).setHours(0,0,0,0)?n.formatTime(e,"fmt_hm",!0):n.formatDate(e,(0,s.isCurrentYearWithNowTimestamp)(e,t)?"fmt_md_medium":"fmt_mdy_medium",!0)}get messageSnippetIcon(){const{latestMessage:e}=this
if(!e)return null
const{optionalSendData:t}=e
if(t){const{renderContent:e}=t
if(e&&e.length>0&&this._shouldRenderAttachmentDetails(e[0].vectorImage,e[0].file))return"paperclip-icon"}return this._messageHasLocationShare(this.latestMessage)?"location-marker":null}get messageSnippetPillText(){var e
const{conversation:t}=this.props
return null===(e=t.conversationTypeText)||void 0===e?void 0:e.text}get conversationBackendUrn(){return this.props.conversation.backendUrn}get controlName(){var e,t
const{conversation:n}=this.props
return null!==(e=n.categories)&&void 0!==e&&e.includes("MESSAGE_REQUEST_PENDING")?"view_message_request_conversation":null!==(t=n.categories)&&void 0!==t&&t.includes("MESSAGE_REQUEST_DECLINED")?"view_declined_message_request_conversation":"view_message"}get messageSnippetText(){const{latestMessage:e}=this,{conversation:t}=this.props
return e?"RECALLED"===e.messageBodyRenderFormat?(0,n.default)(this.props.i18n.lookupTranslation("components/msg-ui@message-snippet","i18n_message_deleted")()):e.inlineWarning?e.inlineWarning.obfuscatedMessageWarning.text:"SYSTEM"===e.messageBodyRenderFormat?e.content.text:(0,l.isInMailConversation)(t)&&e.subject?e.subject:this._messageContentSummary(e):null}_messageContentSummary(e){let t
const s={},i=this._latestMessageIsFromCurrentUser()
if(!i){const t=this.props.msgDataManager.mailboxParticipants[e.senderUrn]
s.senderName=t?this.props.formatter.formatName(t):""}const{content:r,optionalSendData:a}=e
if(a){const{renderContent:e}=a
if(e&&e.length>0){var o,c
const n=e[0]
if(n.forwardedMessageContent)t=i?"i18n_you_forwarded":"i18n_other_user_forwarded_preformatted_name"
else if(this._shouldRenderAttachmentDetails(n.vectorImage,n.file)){t=i?"i18n_you_sent_x_attachments":"i18n_sender_sent_x_attachments_v2"
s.count=e.filter((e=>e.vectorImage||e.file)).length}else if(n.externalMedia)t=i?"i18n_you_sent_gif":"i18n_sender_sent_gif_preformatted_name"
else if(n.audio)t=i?"i18n_you_sent_voice_message":"i18n_sender_sent_voice_message_preformatted_name"
else if(n.video)t=i?"i18n_you_sent_video":"i18n_sender_sent_video_preformatted_name"
else if("PROFILE_VIDEO"===(null===(o=n.hostUrnData)||void 0===o?void 0:o.type))t=i?"i18n_you_sent_story":"i18n_sent_you_story_preformatted_name"
else if("FEED_UPDATE"===(null===(c=n.hostUrnData)||void 0===c?void 0:c.type)){s.shareContentType=(0,l.getShareContentType)(n.hostUrnData)
t=i?"i18n_you_sent_share_content_v3":"i18n_sender_share_content_v3"}else if(n.videoMeeting)t=i?"i18n_you_sent_virtual_meeting":"i18n_sent_you_a_virtual_meeting_preformatted_name"
else if(n.awayMessage){t=i?"i18n_you_said_message":"i18n_sender_said_message_v2"
s.body=n.awayMessage.text.text}}}if(!t&&r.text)if(this._messageHasLocationShare(e))t=i?"i18n_you_sent_location":"i18n_sender_sent_location_preformatted_name"
else{t=i?"i18n_you_said_message":"i18n_sender_said_message_v2"
s.body=r.text}return t?(0,n.default)(this.props.i18n.lookupTranslation("components/msg-ui@message-snippet",t)([s])):""}_messageHasLocationShare(e){var t,n
return null===(t=e.content)||void 0===t||null===(n=t.text)||void 0===n?void 0:n.startsWith("https://www.bing.com/maps?cp=")}_latestMessageIsFromCurrentUser(){return!!this.latestMessage&&this.latestMessage.senderUrn===(0,t.get)(this.props.authenticatedUserMiniProfile,"dashEntityUrn")}get toggleReadButtonTitle(){let e
const t={isRead:this.isRead,threadName:"",names:[]}
if(this.props.conversation.title){e="i18n_mark_as_read_unread_thread_name"
t.threadName=this.props.conversation.title}else{e="i18n_mark_as_read_unread_participants"
t.names=this._getNonSelfParticipantNames()}return(0,n.default)(this.props.i18n.lookupTranslation("components/msg-ui@conversation-list-item-viewdata-i18n",e)([t]))}get nudgeText(){const e=this.props.msgDataManager.nudgingDataManager.getNudge(this.id)
return e?(0,t.get)(e,"nudgeText.text"):void 0}get messageRequestContext(){return this.props.conversation.shortHeadlineText}get participantTrackingUrns(){const{conversationParticipants:e}=this
return e?(0,c.getParticipantTrackingUrns)(e,!0):[]}get participantPresenceStatuses(){const{conversation:e,presenceAPI:t}=this.props
return(0,l.getParticipantPresenceStatuses)(e.participants,t)}get isGroupChat(){return this.props.conversation.groupChat}get isSponsoredInMail(){return(0,l.isSponsoredInMail)(this.props.conversation)}get participantNames(){return this.conversationParticipants}get conversationEntityViewData(){return new a.default({conversation:this.props.conversation,latestMessage:this.latestMessage,participants:this.conversationParticipants,authenticatedUserMiniProfile:this.props.authenticatedUserMiniProfile,msgDataManager:this.props.msgDataManager,formatter:this.props.formatter})}get conversationHeaderDropdownMenuViewData(){return new o.default({conversation:this.props.conversation,authenticatedUserProfile:this.props.authenticatedUserMiniProfile,participants:this.conversationParticipants,i18n:this.props.i18n,formatter:this.props.formatter,presenceAPI:this.props.presenceAPI})}get latestMessage(){return(0,l.getLatestMessage)(this.props.conversation)}_shouldRenderAttachmentDetails(e,t){return(e||t)&&!(0,l.isSponsoredConversation)(this.props.conversation)}_getNonSelfParticipantNames(){return(0,l.getParticipantsForConversationsWithAdvertisers)(this.conversationParticipants,this.props.authenticatedUserMiniProfile).map((e=>({firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,maidenName:null==e?void 0:e.maidenName})))}_groupChatParticipantsText(){const{authenticatedUserMiniProfile:e,i18n:t}=this.props
return(0,n.default)(this.props.i18n.lookupTranslation("components/msg-ui@conversation-list-item-viewdata-i18n","i18n_conversation_familiar_names")([{names:(0,l.participantNamesWithSelf)(this.conversationParticipants,e,!0,t)}]))}_getFirstParticipantProfile(){const{authenticatedUserMiniProfile:e}=this.props
return(0,l.getParticipantsForConversationsWithAdvertisers)(this.conversationParticipants,e)[0]}}e.default=m}))
define("msg-ui/viewdata/sdk-edit-message-footer-viewdata",["exports","@ember/object","msg-data/viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends n.default{get requiredProps(){return["messageEventToEdit","conversationEntityUrn"]}get eventCreatedAt(){return(0,t.get)(this.props.messageEventToEdit,"createdAt")}get conversationUrn(){return this.props.conversationEntityUrn}get eventUrn(){return(0,t.get)(this.props.messageEventToEdit,"entityUrn")}}e.default=s}))
define("msg-ui/viewdata/sdk-feed-update-viewdata",["exports","msg-data/viewdata","msg-ui/viewdata/sdk-message-hover-actions-viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=["message","conversationUrn","formatter","sender"]
class i extends t.default{get requiredProps(){return s}get eventCreatedAt(){return this.props.message.deliveredAt}get messageHoverActionsViewData(){return new n.default({message:this.props.message,conversationUrn:this.props.conversationUrn,sender:this.props.sender,formatter:this.props.formatter})}}e.default=i}))
define("msg-ui/viewdata/sdk-file-attachment-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","global-utils/utils/file-size-formatter","msg-shared/utils/file-meta","msg-data/viewdata","msg-ui/viewdata/sdk-message-hover-actions-viewdata","tracked-toolbox"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o
const l=["event","sender","attachment","formatter","i18n","conversationUrn"]
let c=(o=class extends i.default{get requiredProps(){return l}get downloadUrl(){return this.isImage?this.props.attachment.vectorImage.rootUrl:this.props.attachment.file.url}get isImage(){var e
return!(null===(e=this.props.attachment)||void 0===e||!e.vectorImage)}get filename(){return this.isImage?void 0:jSecure.htmlUnencode(this.props.attachment.file.name)}get mediaTypeExtension(){return this.isImage?void 0:(0,s.mediaTypeExtension)(this.props.attachment.file.mediaType)}get formattedSize(){return this.isImage?void 0:(0,n.default)(this.props.attachment.file.byteSize,this.props.i18n)}get messageHoverActionsViewData(){return new r.default({message:this.props.event,sender:this.props.sender,formatter:this.props.formatter,conversationUrn:this.props.conversationUrn})}get attachmentAPIModel(){return this.props.attachment}},(0,t.default)(o.prototype,"messageHoverActionsViewData",[a.cached],Object.getOwnPropertyDescriptor(o.prototype,"messageHoverActionsViewData"),o.prototype),o)
e.default=c}))
define("msg-ui/viewdata/sdk-forwarded-message-viewdata",["exports","global-utils/utils/html-safe","msg-data/viewdata","msg-ui/viewdata/sdk-message-sender-entity-viewdata"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=["forwardedMessage","sender","forwardedMessageContent","i18n","formatter"]
class r extends n.default{get requiredProps(){return i}get senderName(){const{formatter:e,sender:t}=this.props
return t&&e.formatName(t,"full")}get participantProfileUrl(){var e
return null===(e=this.props.sender)||void 0===e?void 0:e.profile.url}get timestampText(){const{forwardedMessage:e,forwardedMessageContent:n,formatter:s,i18n:i}=this.props
let r
r=e?e.deliveredAt:n.originalSendAt
const a=s.formatDate(r,"fmt_md_medium",!0),o=s.formatTime(r,"fmt_hm",!0)
return(0,t.default)(i.lookupTranslation("components/msg-ui@forwarded-message-presenter","i18n_original_sent_date")([{dayMonth:a,hourMinute:o}]))}get messageBodyText(){const{forwardedMessage:e,forwardedMessageContent:t}=this.props
return e?e.content.text:t.forwardedBody.text}get messageSenderEntityViewData(){const{formatter:e,sender:t}=this.props
return new s.default({sender:t,formatter:e})}}e.default=r}))
define("msg-ui/viewdata/sdk-inline-warning-viewdata",["exports","@ember/object","msg-data/viewdata","msg-shared-modals/viewdata/sdk-conversation-semaphore-viewdata","global-utils/utils/html-safe"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=["message","conversation","i18n","participants","presenceAPI"]
class a extends n.default{get requiredProps(){return r}get conversationUrn(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.entityUrn}get messageUrn(){return(0,t.get)(this.props.message,"entityUrn")}get warningText(){return(0,t.get)(this.props.message,"inlineWarning.inlineWarningPrompt.text")}get reportSpamCTAText(){return(0,i.default)(this.props.i18n.lookupTranslation("components/msg-ui@primitives/inline-warning-presenter","i18n_report_spam_cta_text")())}get inlineWarningDismissCTAText(){return(0,i.default)(this.props.i18n.lookupTranslation("components/msg-ui@primitives/inline-warning-presenter","i18n_inline_warning_dismiss_cta_text")())}get messageBackendUrn(){return(0,t.get)(this.props.message,"backendUrn")}get messageSenderProfileUrn(){return(0,t.get)(this.props.message,"senderUrn")}get conversationSemaphoreViewData(){const{conversation:e,participants:t,presenceAPI:n}=this.props
return new s.default({conversation:e,participants:t,presenceAPI:n})}}e.default=a}))
define("msg-ui/viewdata/sdk-inmail-quick-action-footer-viewdata",["exports","msg-data/viewdata"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{get requiredProps(){return["latestMessage"]}get inmailType(){var e,t,n
const{latestMessage:s}=this.props,{optionalSendData:i}=s
if(!i)return!1
const{renderContent:r}=i
return!(!r||0===r.length)&&("RECRUITER_INMAIL"===(null===(e=r[0].hostUrnData)||void 0===e?void 0:e.type)?"lts":"SALES_INMAIL"===(null===(t=r[0].hostUrnData)||void 0===t?void 0:t.type)?"lss":"PREMIUM_INMAIL"===(null===(n=r[0].hostUrnData)||void 0===n?void 0:n.type)&&"premium")}}e.default=n}))
define("msg-ui/viewdata/sdk-message-hover-actions-viewdata",["exports","global-helpers/helpers/name","msg-data/viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=["message","conversationUrn","sender","formatter"]
class i extends n.default{get requiredProps(){return s}get messageUrn(){return this.props.message.entityUrn}get conversationUrn(){return this.props.conversationUrn}get senderFamiliarName(){if(!this.props.sender)return""
const e=(0,t.getName)(this.props.sender)
return e?this.props.formatter.formatName(e,"familiar"):""}get senderFullName(){if(!this.props.sender)return""
const e=(0,t.getName)(this.props.sender)
return e?this.props.formatter.formatName(e,"full"):""}get messageTextBody(){return this.props.message.content}get senderParticipantProfileUrl(){}get messageSubject(){}get messageSubtype(){}get messageAPIModel(){return this.props.message}}e.default=i}))
define("msg-ui/viewdata/sdk-message-list-item-system-message-viewdata",["exports","msg-data/viewdata"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n=["message"]
class s extends t.default{get requiredProps(){return n}get messageTextBody(){return this.props.message.content}get hasSystemMessageBodyRenderFormat(){return!0}get isParticipantChangeSystemMessage(){return!1}}e.default=s}))
define("msg-ui/viewdata/sdk-message-list-item-user-message-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/object","global-helpers/helpers/name","msg-data/utils/urn-id-helpers","tracked-toolbox","msg-data/viewdata","msg-ui/viewdata/sdk-reaction-summary-viewdata","msg-ui/viewdata/sdk-file-attachment-viewdata","msg-ui/viewdata/sdk-message-hover-actions-viewdata","msg-ui/viewdata/sdk-feed-update-viewdata","global-utils/utils/url","msg-shared/utils/sdk-view-data-helpers","msg-ui/viewdata/sdk-forwarded-message-viewdata","msg-ui/viewdata/sdk-inline-warning-viewdata","msg-ui/viewdata/sdk-story-viewdata","global-helpers/utils/get-attributed-text-html"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var v
let b=(v=class extends a.default{get requiredProps(){return["message","sender","mailboxParticipants","conversation","authenticatedUserMiniProfile","formatter","i18n","participants","presenceAPI"]}get messageUrn(){return this.props.message.entityUrn}get conversationUrn(){return this.props.conversation.entityUrn}get conversationId(){return(0,i.extractMailboxAndConversationId)(this.props.conversation.entityUrn).conversationId}get isConversationBlocked(){var e
return null===(e=this.props.conversation.categories)||void 0===e?void 0:e.includes("SPAM")}get senderName(){return this.props.sender?(0,s.getName)(this.props.sender):{}}get senderFamiliarName(){return this.props.formatter.formatName(this.senderName,"familiar")}get senderFullName(){return this.props.formatter.formatName(this.senderName,"full")}get isSentByCurrentUser(){const{props:{message:e,authenticatedUserMiniProfile:t}}=this
return(0,n.get)(t,"dashEntityUrn")===e.senderUrn}get hasBeenEdited(){return"EDITED"===this.props.message.messageBodyRenderFormat}get messageAttributedBody(){const{message:e}=this.props,t=(0,u.getAwayMessage)(e)
return t?t.text:this.props.message.content}get urlToUnroll(){var e,t
const n=null===(e=this.messageAttributedBody)||void 0===e?void 0:e.text,s=(0,m.getUrlsFromText)(n,!0).filter((e=>e.toLowerCase()))
return!(0,u.messageHasInMailHostUrnData)(this.props.message)&&!(null!==(t=this.fileAttachmentViewDataItems)&&void 0!==t&&t.length)&&!this.hasArticleOrUpdate&&!this.smpContent&&n&&1===s.length&&!m.CONTAINS_GROUPCHATLINK_REGEX.test(s[0])&&s[0]}get messageCreatedAt(){return this.props.message.deliveredAt}get isError(){return"Failed"===this.props.message.status}get messageSubType(){return(0,u.messageHasInMailHostUrnData)(this.props.message)?"INMAIL":(0,u.isSponsoredInMailMessage)(this.props.message)?"SPONSORED_INMAIL":(0,u.isSponsoredMessage)(this.props.message)?"SPONSORED_MESSAGE":void 0}get subject(){return this.props.message.subject}get gif(){var e,t
const n=null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t?void 0:t.renderContent
if(!n||0===n.length)return
const{externalMedia:s}=n.find((e=>e.externalMedia))||{}
return s?{...s.media||{}}:void 0}get digitalMediaConferenceUrn(){var e,t
return null===(e=(0,u.getContentWithVideoMeeting)(this.props.message))||void 0===e||null===(t=e.videoMeeting)||void 0===t?void 0:t.entityUrn}get virtualMeetingTimeRange(){var e
return null===(e=(0,u.getContentWithVideoMeeting)(this.props.message))||void 0===e?void 0:e.timeRange}get isRecalled(){return"RECALLED"===this.props.message.messageBodyRenderFormat}get hasForwardedContent(){var e,t,n
return!(null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(n=t.renderContent)||void 0===n||!n.find((e=>!!e.forwardedMessageContent)))}get footerTextViewModel(){const{message:e}=this.props,t=(0,u.getAwayMessage)(e)
if(t)return t.footerText}get smpContent(){var e,t,n,s,i
return null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(n=t.renderContent)||void 0===n||null===(s=n.find((e=>{var t
return"SMP_MESSAGE_CARD"===(null===(t=e.hostUrnData)||void 0===t?void 0:t.type)})))||void 0===s||null===(i=s.hostUrnData)||void 0===i?void 0:i.hostUrn}get hasArticleOrUpdate(){const{feedUpdate:e}=this
return e&&/article|activity|contentTopic|lyndaCourse/.test((0,n.get)(e,"updateMetadata.urn"))}get feedUpdate(){var e
return null===(e=this.props.message.additionalData)||void 0===e?void 0:e.feedUpdate}get jobPostingReferral(){}get allowMessageForward(){return!(0,u.isSponsoredConversation)(this.props.conversation)&&!this.props.message.inlineWarning&&!this.storyItemUrn}get allowReactions(){const{status:e}=this.props.message
return!this.props.conversation.disabledFeatures.some((e=>"REACTIONS"===e.disabledFeature))&&("Sent"===e||"Delivered"===e)}get allowMessageEdit(){const{status:e}=this.props.message
return this.isSentByCurrentUser&&"Pending"!==e&&"Sending"!==e&&!(0,u.isSponsoredConversation)(this.props.conversation)}get storyItemUrn(){var e
return null===(e=(0,u.getProfileVideoHostUrn)(this.props.message))||void 0===e?void 0:e.replace("urn:li:fsd_messagingProfileVideo:","urn:li:fs_messagingStoryItem:").replace("fsd_storyItem:","fs_storyItem:")}get replyToContent(){}get isJobSeekerRequestReferral(){}get referral(){}get mediaAttachments(){var e,t
const n=null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t?void 0:t.renderContent
if(n&&0!==(null==n?void 0:n.length))return this.props.message.optionalSendData.renderContent.filter((e=>e.audio||e.video)).map((e=>{var t,n
return{mediaType:e.audio?"AUDIO":"VIDEO",audioDuration:null==e||null===(t=e.audio)||void 0===t?void 0:t.duration,audioUrl:null==e||null===(n=e.audio)||void 0===n?void 0:n.url,videoPlayMetadata:e.video}}))}get sponsoredData(){const e=(0,n.get)(this.props.conversation,"contentMetadata"),t=(0,u.getConversationAdsMessageContent)(this.props.message)
return{metadata:null==e?void 0:e.conversationAdContent,sponsoredMessageContentUrn:null==t?void 0:t.sponsoredMessageContentUrn,sponsoredMessageTrackingId:null==t?void 0:t.sponsoredMessageTrackingId}}get obfuscatedMessage(){var e
const t=null===(e=this.props.message.inlineWarning)||void 0===e?void 0:e.obfuscatedMessageWarning
if(t)return{warning:(0,f.default)(t),ctaText:"View"}}get hasInlineWarning(){return!!(0,n.get)(this.props.message,"inlineWarning")}get messageStatus(){const{status:e}=this.props.message
return"Sent"===e||"Delivered"===e?"sent":"Sending"===e?"sending":null}get messageHoverActionsViewData(){return new c.default({message:this.props.message,conversationUrn:this.conversationUrn,sender:this.props.sender,formatter:this.props.formatter})}get fileAttachmentViewDataItems(){var e,t,n
return(null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(n=t.renderContent)||void 0===n?void 0:n.filter((e=>!!e.file||!!e.vectorImage)).map((e=>new l.default({attachment:e,event:this.props.message,sender:this.props.sender,formatter:this.props.formatter,i18n:this.props.i18n,conversationUrn:this.conversationUrn}))))||[]}get forwardedMessageViewData(){var e,t,n,s,i
const r=null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(n=t.renderContent)||void 0===n||null===(s=n.find((e=>!!e.forwardedMessageContent)))||void 0===s?void 0:s.forwardedMessageContent,a=(null==r||null===(i=r.originalSender)||void 0===i?void 0:i.hostIdentityUrn)||(null==r?void 0:r.originalSenderUrn),o=a&&this.props.mailboxParticipants[a]
return new p.default({forwardedMessage:void 0,sender:o,forwardedMessageContent:r,i18n:this.props.i18n,formatter:this.props.formatter})}get feedUpdateViewData(){return new d.default({message:this.props.message,conversationUrn:this.conversationUrn,formatter:this.props.formatter,sender:this.props.sender})}get storyViewData(){return new h.default({event:this.props.message,formatter:this.props.formatter})}get reactionSummaryViewData(){const{message:e,conversation:t}=this.props
return new o.default({message:e,conversation:t})}get inlineWarningViewData(){const{message:e,conversation:t,i18n:n,participants:s,presenceAPI:i}=this.props
return new g.default({message:e,conversation:t,i18n:n,participants:s,presenceAPI:i})}},(0,t.default)(v.prototype,"messageHoverActionsViewData",[r.cached],Object.getOwnPropertyDescriptor(v.prototype,"messageHoverActionsViewData"),v.prototype),(0,t.default)(v.prototype,"fileAttachmentViewDataItems",[r.cached],Object.getOwnPropertyDescriptor(v.prototype,"fileAttachmentViewDataItems"),v.prototype),(0,t.default)(v.prototype,"forwardedMessageViewData",[r.cached],Object.getOwnPropertyDescriptor(v.prototype,"forwardedMessageViewData"),v.prototype),(0,t.default)(v.prototype,"feedUpdateViewData",[r.cached],Object.getOwnPropertyDescriptor(v.prototype,"feedUpdateViewData"),v.prototype),(0,t.default)(v.prototype,"storyViewData",[r.cached],Object.getOwnPropertyDescriptor(v.prototype,"storyViewData"),v.prototype),(0,t.default)(v.prototype,"reactionSummaryViewData",[r.cached],Object.getOwnPropertyDescriptor(v.prototype,"reactionSummaryViewData"),v.prototype),(0,t.default)(v.prototype,"inlineWarningViewData",[r.cached],Object.getOwnPropertyDescriptor(v.prototype,"inlineWarningViewData"),v.prototype),v)
e.default=b}))
define("msg-ui/viewdata/sdk-message-list-item-viewdata",["exports","@ember/object","global-helpers/helpers/name","msg-data/viewdata","msg-ui/utils/message-grouper","msg-ui/viewdata/sdk-message-list-item-user-message-viewdata","msg-ui/viewdata/sdk-message-sender-entity-viewdata","msg-ui/viewdata/sdk-message-list-item-system-message-viewdata","msg-shared/utils/sdk-view-data-helpers","urn-utils","msg-spinmail-data/viewdata/sdk-sponsored-message-actions-viewdata","msg-ui/viewdata/sdk-message-sender-advertiser-entity-viewdata"],(function(e,t,n,s,i,r,a,o,l,c,d,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const u=["message","sender","participants","conversation","mailboxParticipants","authenticatedUser","formatter","i18n","previousMessage","nextMessage","presenceAPI"]
class p extends s.default{get requiredProps(){return u}get messageUrn(){return this.props.message.entityUrn??this.props.message.clientId}get messageBackendUrn(){return this.props.message.backendUrn}get messageCreatedAt(){return this.props.message.deliveredAt}get senderName(){return this.props.sender?(0,n.getName)(this.props.sender):{}}get senderAnonymousName(){return this.senderFullName||this.props.i18n.lookupTranslation("components/msg-ui@primitives/message-list-item-feature","i18n_name_anonymous_member")()}get senderUrn(){return this.props.message.senderUrn}get senderPronouns(){var e
return null===(e=this.props.sender)||void 0===e?void 0:e.pronoun}get senderFullName(){if(this.senderName)return this.props.formatter.formatName(this.senderName,"full")}get senderProfileUrl(){var e,t
return null===(e=this.props.sender)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.url}get companySenderUrn(){var e
return null===(e=this.props.sender)||void 0===e?void 0:e.hostIdentityUrn}get companySenderName(){var e,t
return null===(e=this.props.sender)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.text}get footerText(){const{message:e}=this.props,t=(0,l.getAwayMessage)(e)
if(t)return t.footerText}get isSponsoredMessage(){return(0,l.isConversationWithAdvertiser)(this.props.conversation)}get isSystemMessage(){return"SYSTEM"===this.props.message.messageBodyRenderFormat}get isRecalledMessage(){return"RECALLED"===this.props.message.messageBodyRenderFormat}get isMessageFromOtherUser(){return(0,t.get)(this.props.authenticatedUser,"miniProfile.dashEntityUrn")!==this.props.message.senderUrn}get isInMailFromOtherUser(){return(0,l.messageHasInMailHostUrnData)(this.props.message)&&this.isMessageFromOtherUser}get isGifMessage(){var e,t,n
return null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(n=t.renderContent)||void 0===n?void 0:n.some((e=>e.externalMedia))}get tenorGifId(){var e,t,n
const s=null===(e=this.props.message)||void 0===e||null===(t=e.optionalSendData)||void 0===t||null===(n=t.renderContent)||void 0===n?void 0:n.find((e=>e.externalMedia))
if(!s)return""
const{entityUrn:i}=s.externalMedia
return i?(0,c.extractEntityInfoFromUrn)(i).id:""}get conversationUrn(){return this.props.conversation.entityUrn??this.props.conversation.clientId}get conversationBackendUrn(){return this.props.conversation.backendUrn}get messageSeenReceipts(){const e=this.props.conversation.seenReceiptsMap
if(e){const t=e[this.props.message.entityUrn]
return t?t.map((e=>{let{participantUrn:t,seenAt:n}=e
const s=this.props.mailboxParticipants[t]
return{profile:{picture:s.profile.picture,firstName:s.firstName,lastName:s.lastName},seenAt:n}})):[]}return[]}get participantUrns(){return this.props.conversation.participants}get isError(){return"Failed"===this.props.message.status}get showMessageSendFailedError(){var e,t
return this.isError&&(null===(e=this.props.message.content)||void 0===e||null===(t=e.text)||void 0===t?void 0:t.length)>0}get isBeingCreatedOrDestroyed(){const{status:e}=this.props.message
return"Pending"===e||"Sending"===e}get messageListItemSystemMessageViewData(){return new o.default({message:this.props.message})}get messageListItemUserMessageViewData(){const{message:e,sender:t,mailboxParticipants:n,conversation:s,formatter:i,i18n:a,authenticatedUser:o,participants:l,presenceAPI:c}=this.props
return new r.default({message:e,sender:t,mailboxParticipants:n,conversation:s,formatter:i,i18n:a,authenticatedUserMiniProfile:o.miniProfile.content,participants:l,presenceAPI:c})}get messageSenderAdvertiserEntityViewData(){return new m.default({messageSender:this.props.sender,formatter:this.props.formatter})}get messageSenderEntityViewData(){const{sender:e,formatter:t}=this.props
return new a.default({sender:e,formatter:t})}get showMeta(){return!!this.isRecalledMessage||!this.isSystemMessage&&(0,i.isDifferentGroup)(this.props.previousMessage,this.props.message)}get dateBoundary(){return(0,i.dateBoundary)(this.props.previousMessage,this.props.message)}get isLastInGroup(){return(0,i.isDifferentGroup)(this.props.message,this.props.nextMessage)}get isM2MMessageFollowedByDateBoundary(){return(0,i.isM2MMessageImmediatelyFollowedByDateBoundary)(this.props.message,this.props.nextMessage)}get isSystemMessagePrecededByM2MMessage(){return(0,i.isSystemMessageImmediatelyPrecededByM2MMessage)(this.props.previousMessage,this.props.message)}get isSystemMessageFollowedByM2MMessage(){return(0,i.isSystemMessageImmediatelyFollowedByM2MMessage)(this.props.message,this.props.nextMessage)}get senderGroupMessageCount(){return(0,i.senderGroupMessageCountHeader)(this.props.previousMessage,this.props.message,this.props.nextMessage)}get sponsoredMessageActionsViewData(){return new d.default({conversation:this.props.conversation,message:this.props.message})}}e.default=p}))
define("msg-ui/viewdata/sdk-message-list-viewdata",["exports","@ember/object","msg-data/viewdata","msg-conversation-ui/viewdata/sdk-recipient-detail-one-to-one-viewdata","global-utils/utils/profile-id-parser","global-helpers/helpers/name","msg-conversation-ui/viewdata/sdk-recipient-detail-group-viewdata","msg-shared/utils/sdk-view-data-helpers","msg-ui/viewdata/sdk-quick-replies-viewdata","msg-conversation-ui/viewdata/sdk-typing-indicators-viewdata","msg-ui/utils/message-grouper"],(function(e,t,n,s,i,r,a,o,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const m=["conversation","mailboxParticipants","msgDataManager","authenticatedUser","formatter","i18n","identityStore","invitationPlatform","presenceAPI"]
class u extends n.default{get requiredProps(){return m}get conversationBackendUrn(){return this.props.conversation.backendUrn}get conversationSeenReceipts(){}get isSponsoredConversation(){return(0,o.isSponsoredConversation)(this.props.conversation)}get advertiserLabel(){var e
const{conversation:t}=this.props
return null===(e=t.conversationTypeText)||void 0===e?void 0:e.text}get showSeenReceipts(){var e
return!(null!==(e=this.props.conversation.categories)&&void 0!==e&&e.includes("MESSAGE_REQUEST_PENDING"))}get latestMessageHasSeenReceipts(){return!1}get hasTypingParticipants(){var e
return(null===(e=(0,t.get)(this.props,"conversation.typingUrns"))||void 0===e?void 0:e.size)>0}get conversationFullyLoaded(){var e
return!0===(null===(e=this.props.conversation.status)||void 0===e?void 0:e.fullyLoaded)}get oldestMessageCreatedAt(){var e
return null===(e=(0,o.getOldestMessage)(this.props.conversation))||void 0===e?void 0:e.deliveredAt}get indexOfLatestMessageSeenByNone(){const{seenReceiptsMap:e,messages:t}=this.props.conversation
return(0,d.findNewestMessageSeenByNone)(t,e)}get contextText(){return this.props.conversation.headlineText}get quickRepliesViewData(){const{conversation:e}=this.props
return new l.default({conversation:e})}get recipientDetailGroupViewData(){const{authenticatedUser:e,formatter:t,i18n:n,conversation:s,msgDataManager:i,mailboxParticipants:r,presenceAPI:o}=this.props
return new a.default({authenticatedUser:e,formatter:t,i18n:n,conversation:s,msgDataManager:i,participants:r,presenceAPI:o})}get recipientDetailOneToOneViewData(){const{formatter:e,mailboxParticipants:n,conversation:a,authenticatedUser:l,msgDataManager:c}=this.props,d=a.participants.map((e=>n[e])),m=(0,o.getNonSelfParticipants)(d,(0,t.get)(l,"miniProfile"))[0]
if(!m)return
const u=(0,i.getProfileMemberId)(m),p=(0,r.getName)(m)
return new s.default({profile:m,profileId:u,participantName:p?e.formatName(p,"full"):"",msgDataManager:c},{getIdentityRecord:(e,t)=>this.props.identityStore.findRecord(e,t,{},!1),isInvitationAccepted:()=>this.props.invitationPlatform.isInvitationAccepted(u)})}get typingIndicatorsViewData(){const e=[]
this.props.conversation.typingUrns.forEach((t=>{const n=this.props.mailboxParticipants[t]
n&&e.push(n)}))
return new c.default({typingParticipants:e,formatter:this.props.formatter})}}e.default=u}))
define("msg-ui/viewdata/sdk-message-sender-advertiser-entity-viewdata",["exports","global-helpers/helpers/urn-to-id","msg-data/viewdata","msg-shared/utils/sdk-view-data-helpers"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=["messageSender","formatter"]
class r extends n.default{get requiredProps(){return i}get companyId(){return(0,t.urnToId)([this.props.messageSender.hostIdentityUrn])}get profileImage(){return(0,s.getParticipantPictureByKind)(this.props.messageSender)}get fullName(){return(0,s.getParticipantNameByKind)(this.props.messageSender,this.props.formatter)}get ghostType(){return this.props.messageSender.kind===s.PARTICIPANT_TYPES.ORGANIZATION?"company":"person"}}e.default=r}))
define("msg-ui/viewdata/sdk-message-sender-entity-viewdata",["exports","presence/viewdata/sdk-entity-with-presence-viewdata","msg-data/viewdata","msg-shared/utils/sdk-view-data-helpers"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=["sender","formatter"]
class r extends n.default{get requiredProps(){return i}get profileImage(){var e,t
return null===(e=this.props.sender)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.picture}get fullName(){return this.props.sender?this.props.formatter.formatName(this.props.sender,"full"):""}get familiarName(){return this.props.sender?this.props.formatter.formatName(this.props.sender,"familiar"):""}get ghostType(){var e
return(null===(e=this.props.sender)||void 0===e?void 0:e.kind)===s.PARTICIPANT_TYPES.ORGANIZATION?"company":"person"}get recipientProfileUrl(){var e,t
return null===(e=this.props.sender)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.url}get entityWithPresenceViewData(){return new t.default({participant:this.props.sender,altText:this.fullName})}}e.default=r}))
define("msg-ui/viewdata/sdk-quick-replies-viewdata",["exports","msg-data/viewdata","msg-shared/utils/sdk-view-data-helpers"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends t.default{get requiredProps(){return["conversation"]}get replyConversationUrn(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.entityUrn}get eventToReplyTo(){return(0,n.getLatestMessage)(this.props.conversation)}get latestMessageUrn(){var e
return null===(e=this.eventToReplyTo)||void 0===e?void 0:e.entityUrn}get controlNamePrefix(){const{eventToReplyTo:e}=this
return e?(0,n.messageHasInMailProductType)(e,"RECRUITER_INMAIL")?"lts_":(0,n.messageHasInMailProductType)(e,"SALES_INMAIL")?"lss_":(0,n.messageHasInMailProductType)(e,"PREMIUM_INMAIL")?"premium_":"":""}}e.default=s}))
define("msg-ui/viewdata/sdk-reaction-summary-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","msg-data/viewdata","tracked-toolbox"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i
const r=["conversation","message"]
let a=(i=class extends n.default{get requiredProps(){return r}get conversationUrn(){return this.props.conversation.entityUrn}get messageUrn(){return this.props.message.entityUrn}get messageUrnForReactors(){return this.props.message.entityUrn}get reactionSummaryItems(){return this.props.message.reactions.map((e=>({emoji:e.emoji,viewerReacted:e.viewerReacted,count:e.count})))}},(0,t.default)(i.prototype,"reactionSummaryItems",[s.cached],Object.getOwnPropertyDescriptor(i.prototype,"reactionSummaryItems"),i.prototype),i)
e.default=a}))
define("msg-ui/viewdata/sdk-story-viewdata",["exports","@ember/object","msg-ui/viewdata/sdk-message-hover-actions-viewdata","msg-data/viewdata","msg-shared/utils/sdk-view-data-helpers"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=["event","formatter"]
class a extends s.default{get requiredProps(){return r}get storyItemUrn(){var e
return null===(e=(0,i.getProfileVideoHostUrn)(this.props.event))||void 0===e?void 0:e.replace("urn:li:fsd_messagingProfileVideo:","urn:li:fs_messagingStoryItem:").replace("fsd_storyItem:","fs_storyItem:")}get senderProfileUrn(){return(0,t.get)(this.props.event,"sender.hostIdentityUrn")}get createdAt(){return(0,t.get)(this.props.event,"deliveredAt")}get contentCaption(){return(0,t.get)(this.props.event,"content.text")}get messageHoverActionsViewData(){return new n.default({message:this.props.event,conversationUrn:this.props.event.entityUrn,formatter:this.props.formatter,sender:this.senderProfileUrn})}}e.default=a}))
define("msg-ui/viewdata/sdk-thread-footer-viewdata",["exports","@ember/object","msg-shared/utils/sdk-view-data-helpers","msg-data/viewdata","urn-utils","msg-shared-modals/viewdata/sdk-virtual-meeting-modal-viewdata","msg-ui/viewdata/sdk-unspam-footer-viewdata","msg-ui/viewdata/sdk-edit-message-footer-viewdata","msg-shared-modals/viewdata/sdk-share-profile-info-modal-viewdata","msg-ui/viewdata/inmail-compose-form-viewdata","msg-ui/viewdata/sdk-inmail-quick-action-footer-viewdata"],(function(e,t,n,s,i,r,a,o,l,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class m extends s.default{get requiredProps(){return["composeViewContext","recipients","conversation","messageEventToEdit","profileContactInfo","authenticatedUser","msgDataManager","formatName","getIdentityRecord","i18n","participants","router","presenceAPI"]}get currentUser(){const{latestMessage:e}=this
if(!e||!e.senderUrn)return!1
const n=(0,i.extractEntityInfoFromUrn)(e.senderUrn).id,s=(0,i.extractEntityInfoFromUrn)((0,t.get)((0,t.get)(this.props.authenticatedUser,"miniProfile"),"entityUrn")).id
return s&&s===(0,i.extractEntityInfoFromUrn)(n).id}get conversationUrn(){const{conversation:e}=this.props
return e?(0,t.get)(e,"entityUrn"):void 0}get conversationId(){const{conversationUrn:e}=this
return e?(0,i.extractEntityInfoFromUrn)(e).id:this.props.conversation.clientId}get latestMessage(){const{conversation:e}=this.props
return(0,n.getLatestMessage)(e)}get participants(){var e
const{conversation:t,participants:n}=this.props
return t?null===(e=t.participants)||void 0===e?void 0:e.map((e=>n[e])):[]}get conversationParticipants(){const{conversation:e,participants:t}=this.props
return null!=e&&e.participants?e.participants.map((e=>t[e])):[]}get participantNames(){const{conversation:e}=this.props
let t
if(this.isGroupChat){if(e.title)return e.title
t=this.conversationParticipants}else t=this._getNonSelfParticipantNames()
return t}get participantName(){return(0,t.get)(this.participantNames,"firstObject")}get isUserRepliesEnabled(){var e,t
return!(null!==(e=this.props.conversation)&&void 0!==e&&e.entityUrn)||!this.isReplyDisabled||"DECLINED"===this.messageRequestState&&(null===(t=this.props.conversation)||void 0===t?void 0:t.groupChat)}get inmailReplyAction(){var e
const{conversation:t}=this.props
return!(!t||null!==(e=t.categories)&&void 0!==e&&e.includes("MESSAGE_REQUEST_DECLINED")||!(0,n.isInMailConversation)(t))&&(null==t?void 0:t.state)}get isReplyDisabled(){var e,t
return null===(e=this.props.conversation)||void 0===e||null===(t=e.disabledFeatures)||void 0===t?void 0:t.some((e=>"REPLY"===e.disabledFeature))}get messageRequestState(){var e,t
const{conversation:n}=this.props
if(n&&(null!==(e=n.categories)&&void 0!==e&&e.includes("MESSAGE_REQUEST_PENDING")||null!==(t=n.categories)&&void 0!==t&&t.includes("MESSAGE_REQUEST_DECLINED")))return n.state}get isInMail(){return(0,n.isInMailConversation)(this.props.conversation)&&!(0,n.messageHasInMailHostUrnData)(this.latestMessage)}get isRestrictedProfile(){return!1}get customLssFooter(){}get showBlockedFooter(){const{composeViewContext:e}=this.props
return e&&(0,t.get)(e,"showBlockedFooter")}get isBlocked(){var e
return this.props.conversation&&(null===(e=this.props.conversation.categories)||void 0===e?void 0:e.includes("SPAM"))}get conversationName(){return this.props.conversation&&this.props.conversation.title}get isGroupChat(){const{conversation:e}=this.props
return!!e&&e.groupChat}get inmailComposeFormViewData(){const{composeViewContext:e,recipients:t,msgDataManager:n,router:s}=this.props,{formatName:i,getIdentityRecord:r}=this.methods
return new c.default({composeViewContext:e,recipients:t,msgDataManager:n,router:s},{formatName:i,getIdentityRecord:r})}get unspamFooterViewData(){const{conversation:e,participants:t,presenceAPI:n}=this.props
return new a.default({conversation:e,participants:t,presenceAPI:n})}get editMessageFooterViewData(){const{messageEventToEdit:e}=this.props
return new o.default({messageEventToEdit:e,conversationEntityUrn:this.conversationUrn})}get shareProfileInfoModalViewData(){const{conversation:e,profileContactInfo:t,authenticatedUser:n,participants:s}=this.props,{formatName:i}=this.methods
return new l.default({conversation:e,profileContactInfo:t,authenticatedUser:n,participants:s},{formatName:i})}get inmailQuickActionFooterViewData(){return new d.default({latestMessage:this.latestMessage})}get virtualMeetingModalViewData(){const{conversation:e,authenticatedUser:t,msgDataManager:n,participants:s}=this.props
return new r.default({conversation:e,authenticatedUserProfile:t.miniProfile,msgDataManager:n,participants:s})}_getNonSelfParticipantNames(){const{authenticatedUser:e}=this.props
return this.conversationParticipants.filter((n=>(null==n?void 0:n.hostIdentityUrn)!==(0,t.get)((0,t.get)(e,"miniProfile"),"dashEntityUrn"))).map((e=>({firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName})))}}e.default=m}))
define("msg-ui/viewdata/sdk-thread-viewdata",["exports","msg-shared/utils/sdk-view-data-helpers","msg-data/viewdata","@ember/object","msg-ui/viewdata/sdk-quick-replies-viewdata","msg-shared/helpers/is-message-request-conversation","msg-shared/utils/custom-tracking"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class o extends n.default{get requiredProps(){return["conversation","composeViewContext","authenticatedUser","messageRecipients","msgDataManager","presenceAPI"]}get conversationUrn(){var e,t
return(null===(e=this.props.conversation)||void 0===e?void 0:e.entityUrn)||(null===(t=this.props.conversation)||void 0===t?void 0:t.clientId)}get isDraftState(){var e
return!(null!==(e=this.props.conversation)&&void 0!==e&&e.entityUrn)}get conversationBackendUrn(){return this.props.conversation&&this.props.conversation.backendUrn}get participants(){const{mailboxParticipants:e}=this.props.msgDataManager
return this.props.conversation.participants.map((t=>e[t]))}get participantTrackingUrns(){const{participants:e}=this
return e?(0,a.getParticipantTrackingUrns)(e,!0):[]}get participantPresenceStatuses(){const{conversation:e,presenceAPI:n}=this.props
return(0,t.getParticipantPresenceStatuses)(e.participants,n)}get isMute(){var e
return"MUTE"===(null===(e=this.props.conversation)||void 0===e?void 0:e.notificationStatus)}get isBlocked(){var e
return this.props.conversation&&(null===(e=this.props.conversation.categories)||void 0===e?void 0:e.includes("SPAM"))}get isViewerCurrentParticipant(){var e
return this.props.conversation&&(null===(e=this.props.conversation.participants)||void 0===e?void 0:e.includes((0,s.get)(this.props.authenticatedUser,"miniProfile.dashEntityUrn")))}get isPendingOrDeclinedMessageRequest(){const{conversation:e}=this.props
return(0,r.isMessageRequestConversation)(e,!0)}get showBlockedFooter(){const{composeViewContext:e}=this.props
return e&&(0,s.get)(e,"showBlockedFooter")}get latestMessage(){return(0,t.getLatestMessage)(this.props.conversation)}get currentUser(){const{latestMessage:e}=this
return e&&e.senderUrn===(0,s.get)(this.props.authenticatedUser,"miniProfile.dashEntityUrn")}get inMailRequestContactInfo(){var e
return null===(e=this.props.conversation.hostConversationActions)||void 0===e?void 0:e.includes("SHOULD_REQUEST_CONTACT_INFO")}get isInMail(){return(0,t.isInMailConversation)(this.props.conversation)&&(0,t.messageHasInMailHostUrnData)(this.latestMessage)}get isInMailReply(){return(0,t.isInMailConversation)(this.props.conversation)&&!(0,t.messageHasInMailHostUrnData)(this.latestMessage)}get isRecruiterInmailReply(){return(0,t.isInMailConversation)(this.props.conversation)&&(0,t.messageHasInMailProductType)(this.latestMessage,"RECRUITER_INMAIL")}get latestMessageActionType(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.state}get isReplyDisabled(){var e,t
return null===(e=this.props.conversation)||void 0===e||null===(t=e.disabledFeatures)||void 0===t?void 0:t.some((e=>"REPLY"===e.disabledFeature))}get senderID(){const{authenticatedUser:e}=this.props
return e&&(0,s.get)(e,"miniProfile.entityUrn")}get recipientIDs(){const{messageRecipients:e}=this.props
return e&&e.map((e=>(0,s.get)(e,"dashEntityUrn")))}get quickRepliesList(){var e
return((null===(e=this.props.conversation)||void 0===e?void 0:e.quickReplies)||[]).filter((e=>null!==e)).map((e=>({text:e.displayText.text,objectUrn:e.objectUrn,quickActionPrefillText:e.prefillText&&e.prefillText.text,replyType:e.quickReplyType&&e.quickReplyType.type,trackingId:e.trackingId})))}get quickRepliesViewData(){const{conversation:e}=this.props
return new i.default({conversation:e})}}e.default=o}))
define("msg-ui/viewdata/sdk-unspam-footer-viewdata",["exports","msg-shared/utils/sdk-view-data-helpers","msg-data/viewdata","msg-shared/utils/custom-tracking"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends n.default{get requiredProps(){return["conversation","participants","presenceAPI"]}get conversationUrn(){return this.props.conversation.entityUrn}get conversationBackendUrn(){return this.props.conversation.backendUrn}get participantTrackingUrns(){var e
const t=null===(e=this.props.conversation)||void 0===e?void 0:e.participants.map((e=>this.props.participants[e]))
return t?(0,s.getParticipantTrackingUrns)(t,!0):[]}get participantPresenceStatuses(){const{conversation:e,presenceAPI:n}=this.props
return(0,t.getParticipantPresenceStatuses)(e.participants,n)}}e.default=i}))
define("msg-ui/viewdata/sdk-virtual-meeting-cta-viewdata",["exports","msg-data/viewdata","msg-shared-modals/viewdata/sdk-virtual-meeting-modal-viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class s extends t.default{get requiredProps(){return["conversation","authenticatedUserProfile","msgDataManager","participants"]}get conversationUrn(){var e
return null===(e=this.props.conversation)||void 0===e?void 0:e.entityUrn}get virtualMeetingModalViewData(){const{conversation:e,authenticatedUserProfile:t,msgDataManager:s,participants:i}=this.props
return new n.default({conversation:e,authenticatedUserProfile:t,msgDataManager:s,participants:i})}}e.default=s}))
define("msg-ui/viewdata/story-viewdata",["exports","@ember/object","msg-ui/viewdata/message-hover-actions-viewdata","msg-data/viewdata"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i=["event","formatter","router"]
class r extends s.default{get requiredProps(){return i}get storyItemUrn(){return(0,t.get)(this.props.event,"eventContent.storyItemUrn")}get senderProfileUrn(){return(0,t.get)(this.props.event,"from.miniProfile.entityUrn")}get createdAt(){return(0,t.get)(this.props.event,"createdAt")}get contentCaption(){return(0,t.get)(this.props.event,"eventContent.contentCaption")}get messageHoverActionsViewData(){return new n.default({event:this.props.event,formatter:this.props.formatter,router:this.props.router})}}e.default=r}))
define("msg-ui/viewdata/thread-footer-viewdata",["exports","@ember/object","msg-ui/viewdata/inmail-compose-form-viewdata","msg-ui/viewdata/inmail-quick-action-footer-viewdata","msg-shared/utils/view-data-helpers","msg-ui/viewdata/unspam-footer-viewdata","msg-ui/viewdata/edit-message-footer-viewdata","msg-shared-modals/viewdata/share-profile-info-modal-viewdata","msg-data/viewdata","msg-shared/utils/in-mail-reply-action","msg-shared/helpers/is-current-user","msg-ui/utils/conversation-properties","msg-shared-modals/viewdata/virtual-meeting-modal-viewdata","urn-utils"],(function(e,t,n,s,i,r,a,o,l,c,d,m,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class g extends l.default{get requiredProps(){return["composeViewContext","recipients","conversation","messageEventToEdit","profileContactInfo","authenticatedUser","msgDataManager","formatName","getIdentityRecord","router"]}get inmailReplyAction(){const{latestMessage:e}=this
return e&&(0,c.default)(e)}get currentUser(){const{latestMessage:e}=this
return e&&(0,d.isCurrentUser)(this.props.authenticatedUser,(0,t.get)(e,"from"))}get isReplyDisabled(){const{conversation:e}=this.props
return e&&(0,t.get)(e,"withNonConnection")}get conversationUrn(){const{conversation:e}=this.props
return e&&(0,t.get)(e,"entityUrn")}get conversationId(){const{conversationUrn:e}=this
return e&&(0,p.extractEntityInfoFromUrn)(e).id}get latestMessage(){const{conversation:e,msgDataManager:t}=this.props
return e&&(0,i.getLatestMessage)(e,t)}get messageRequestState(){const{conversation:e}=this.props
return e&&(0,t.get)(e,"messageRequestState")}get participants(){const{conversation:e}=this.props
return e&&(0,t.get)(e,"participants")}get isRestrictedProfile(){const{participants:e}=this
return e&&(0,t.get)(e,"firstObject.restrictedProfile")}get isUserRepliesEnabled(){return(0,m.enableUserReplies)(this.props.conversation)}get participantNames(){return(0,i.getParticipantNames)(this.participants,this.latestMessage)}get participantName(){return(0,t.get)(this.participantNames,"firstObject")}get isInMail(){return(0,i.isInMail)(this.latestMessage)}get customLssFooter(){const{conversation:e,msgDataManager:n}=this.props
if(!e)return
const s=n.getEventCollection(this.conversationId),i=s&&s.data&&s.data.filterBy("eventContent.customContent.salesFooter.mainText.text")
return i&&(0,t.get)(i,"lastObject.eventContent.customContent.salesFooter")}get showBlockedFooter(){return(0,t.get)(this.props,"composeViewContext.showBlockedFooter")}get isBlocked(){return(0,t.get)(this.props,"conversation.blocked")}get conversationName(){return(0,t.get)(this.props,"conversation.name")}get isGroupChat(){return(0,t.get)(this.props,"conversation.groupChat")}get inmailComposeFormViewData(){const{composeViewContext:e,recipients:t,msgDataManager:s,router:i}=this.props,{formatName:r,getIdentityRecord:a}=this.methods
return new n.default({composeViewContext:e,recipients:t,msgDataManager:s,router:i},{formatName:r,getIdentityRecord:a})}get unspamFooterViewData(){const{conversation:e}=this.props
return new r.default({conversation:e})}get editMessageFooterViewData(){const{messageEventToEdit:e}=this.props
return new a.default({messageEventToEdit:e,conversationEntityUrn:this.conversationUrn})}get shareProfileInfoModalViewData(){const{conversation:e,profileContactInfo:t,authenticatedUser:n}=this.props,{formatName:s}=this.methods
return new o.default({conversation:e,profileContactInfo:t,authenticatedUser:n},{formatName:s})}get inmailQuickActionFooterViewData(){return new s.default({latestMessage:this.latestMessage})}get virtualMeetingModalViewData(){const{conversation:e,authenticatedUser:t,msgDataManager:n}=this.props
return new u.default({conversation:e,authenticatedUserProfile:t.miniProfile,msgDataManager:n})}}e.default=g}))
define("msg-ui/viewdata/thread-viewdata",["exports","msg-shared/utils/view-data-helpers","msg-data/viewdata","@ember/object","msg-shared/helpers/is-current-user","msg-shared/utils/constants","msg-shared/utils/custom-tracking","msg-shared/utils/get-participant-presence-statuses","msg-ui/viewdata/quick-replies-viewdata"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const{MESSAGE_TYPE:c}=r.default
class d extends n.default{get requiredProps(){return["conversation","composeViewContext","authenticatedUser","msgDataManager","messageRecipients"]}get conversationUrn(){const{conversation:e}=this.props
return e&&(0,s.get)(e,"entityUrn")}get isDraftState(){return!this.props.conversation}get conversationBackendUrn(){const{conversation:e}=this.props
return e&&(0,s.get)(e,"backendUrn")}get participantTrackingUrns(){const{conversation:e}=this.props,t=e&&(0,s.get)(e,"participants")||[]
return(0,a.getParticipantTrackingUrns)(t)}get participantPresenceStatuses(){const{conversation:e}=this.props
return e&&(0,o.getParticipantPresenceStatuses)(e)}get isMute(){const{conversation:e}=this.props
return e&&(0,s.get)(e,"muted")}get isBlocked(){const{conversation:e}=this.props
return e&&(0,s.get)(e,"blocked")}get isViewerCurrentParticipant(){const{conversation:e}=this.props
return e&&(0,s.get)(e,"viewerCurrentParticipant")}get isPendingOrDeclinedMessageRequest(){const e=(0,s.get)(this.props,"conversation.messageRequestState")
return"PENDING"===e||"DECLINED"===e}get showBlockedFooter(){const{composeViewContext:e}=this.props
return e&&(0,s.get)(e,"showBlockedFooter")}get isReplyDisabled(){const{conversation:e}=this.props
return e&&(0,s.get)(e,"withNonConnection")}get latestMessage(){const{conversation:e,msgDataManager:n}=this.props
return e&&(0,t.getLatestMessage)(e,n)}get currentUser(){const{latestMessage:e}=this
return e&&(0,i.isCurrentUser)(this.props.authenticatedUser,(0,s.get)(e,"from"))}get inMailRequestContactInfo(){const{latestMessage:e}=this
return e&&(0,s.get)(e,"eventContent.customContent.requestContactInfo")}get isInMail(){return(0,t.isInMail)(this.latestMessage)}get isInMailReply(){const{latestMessage:e}=this
return e&&(0,s.get)(e,"subtype")===c.INMAIL_REPLY}get latestMessageActionType(){const{latestMessage:e}=this
return e&&(0,s.get)(e,"eventContent.customContent.actionType")}get senderID(){const{authenticatedUser:e}=this.props
return e&&(0,s.get)(e,"miniProfile.entityUrn")}get recipientIDs(){const{messageRecipients:e}=this.props
return e&&e.map((e=>(0,s.get)(e,"entityUrn")))}get quickRepliesList(){const{latestMessage:e}=this
return(e&&(0,s.get)(e,"quickReplyRecommendations")||[]).map((e=>({text:(0,s.get)(e,"content.text"),objectUrn:(0,s.get)(e,"objectUrn"),quickActionPrefillText:(0,s.get)(e,"quickActionPrefillText"),replyType:(0,s.get)(e,"replyType"),trackingId:(0,s.get)(e,"trackingId")})))}get quickRepliesViewData(){const{conversation:e,msgDataManager:t}=this.props
return new l.default({conversation:e,msgDataManager:t})}}e.default=d}))
define("msg-ui/viewdata/unspam-footer-viewdata",["exports","@ember/object","msg-shared/utils/custom-tracking","msg-shared/utils/get-participant-presence-statuses","msg-data/viewdata"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class r extends i.default{get requiredProps(){return["conversation"]}get conversationUrn(){return(0,t.get)(this.props.conversation,"entityUrn")}get conversationBackendUrn(){return(0,t.get)(this.props.conversation,"backendUrn")}get participantTrackingUrns(){return(0,n.getParticipantTrackingUrns)((0,t.get)(this.props.conversation,"participants"))}get participantPresenceStatuses(){return(0,s.getParticipantPresenceStatuses)(this.props.conversation)}}e.default=r}))
define("msg-ui/viewdata/virtual-meeting-cta-viewdata",["exports","msg-data/viewdata","@ember/object","msg-shared-modals/viewdata/virtual-meeting-modal-viewdata"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{get requiredProps(){return["conversation","authenticatedUserProfile","msgDataManager"]}get conversationUrn(){const{conversation:e}=this.props
return e?(0,n.get)(e,"entityUrn"):void 0}get virtualMeetingModalViewData(){const{conversation:e,authenticatedUserProfile:t,msgDataManager:n}=this.props
return new s.default({conversation:e,authenticatedUserProfile:t,msgDataManager:n})}}e.default=i}))

//# sourceMappingURL=engine.map